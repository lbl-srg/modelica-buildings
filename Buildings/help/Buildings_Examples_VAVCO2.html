<HTML>
<HEAD>
<TITLE>Buildings.Examples.VAVCO2</TITLE>
<META name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META name="description" content="&quot;Variable air volume flow system of MIT building with continuous time control for static pressure reset&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- --- header ------ -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- --- end header -- -->
</P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE VAVCO2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Examples.VAVCO2"></A><A HREF="Buildings_Examples.html#Buildings.Examples"
>Buildings.Examples</A>.VAVCO2</H2>
<B>Variable air volume flow system of MIT building with continuous time control for static pressure reset</B>
<P></P>
<P></P><H3>Information</H3>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</A> (Icon for packages containing runnable examples).
<P></P><H3>Package Content</H3>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Buildings.Examples.Hydron1b16ecb3e399659eorageS.png" ALT="Buildings.Examples.VAVCO2.VAVSystemCTControl" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Examples_VAVCO2.html#Buildings.Examples.VAVCO2.VAVSystemCTControl"
>VAVSystemCTControl</A>
</TD><TD>Variable air volume flow system of MIT building with CO2 control and continuous time control for static pressure reset</TD></TR>
<TR><TD><IMG SRC="Buildings.Examples.VAVCO2.BaseClassesS.png" ALT="Buildings.Examples.VAVCO2.BaseClasses" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Examples_VAVCO2_BaseClasses.html#Buildings.Examples.VAVCO2.BaseClasses"
>BaseClasses</A>
</TD><TD>Package with base classes for Buildings.Examples.VAVCO2</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE VAVSystemCTControl<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Examples.VAVCO2db763d035cea0e4antrolI.png" ALT="Buildings.Examples.VAVCO2.VAVSystemCTControl" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Examples.VAVCO2.VAVSystemCTControl"></A><A HREF="Buildings_Examples_VAVCO2.html#Buildings.Examples.VAVCO2"
>Buildings.Examples.VAVCO2</A>.VAVSystemCTControl</H2>
<B>Variable air volume flow system of MIT building with CO2 control and continuous time control for static pressure reset</B><p></P>
<IMG SRC="Buildings.Examples.VAVCO2db763d035cea0e4antrolD.png" ALT="Buildings.Examples.VAVCO2.VAVSystemCTControl">
<P></P><H3>Information</H3>

<p>
This examples demonstrates the implementation of CO<sub>2</sub> control
for a variable air volume flow system.
Each room has a CO<sub>2</sub> source. Depending on the CO<sub>2</sub>
concentrations, the air dampers in the room open or close.
The supply and return fans are controlled to provide a constant static
pressure.
</p>
<p>
Note that this example does not control the room temperature and 
the heat flow through the building envelope. It only implements the 
CO<sub>2</sub> source and the damper and fan control to maintain
a CO<sub>2</sub> concentration in the room below 700 PPM.
</p>
<p>
Because the building envelope is idealized as having no leakage,
the supply and return fan are controlled so that they both receive
the same control signal. If the return fan were controlled so that it
tracks the volume flow rate of the supply fan, then there would be multiple
solutions for the control signal as the split between pressure raise
of the supply fan and pressure raise of the return fan is arbitrary.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>mMIT_flow</TD><TD>roo.m0Tot_flow</TD><TD>Nominal mass flow rate of MIT system model as in ASHRAE 825-RP [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dpSuiSup_nominal</TD><TD>95</TD><TD>Pressure drop supply air leg with splitters of one suite (obtained from simulation) [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dpSuiRet_nominal</TD><TD>233</TD><TD>Pressure drop return air leg with splitters of one suite (obtained from simulation) [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dpFanSupMIT_nominal</TD><TD>1050</TD><TD>Pressure increase over supply fan in MIT system model as in ASHRAE 825-RP (obtained from simulation) [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dpFanRetMIT_nominal</TD><TD>347</TD><TD>Pressure increase over supply fan in MIT system model as in ASHRAE 825-RP (obtained from simulation) [Pa]</TD></TR>
<TR><TD>Real</TD><TD>scaM_flow</TD><TD>1</TD><TD>Scaling factor for mass flow rate</TD></TR>
<TR><TD>Real</TD><TD>scaDpFanSup_nominal</TD><TD>1</TD><TD>Scaling factor for supply fan pressure lift with NSui number of suites</TD></TR>
<TR><TD>Real</TD><TD>scaDpFanRet_nominal</TD><TD>1</TD><TD>Scaling factor for supply fan pressure lift with NSui number of suites</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> VAVSystemCTControl <font color="darkgreen">
  &quot;Variable air volume flow system of MIT building with CO2 control and continuous time control for static pressure reset&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
 <font color="blue">package</font> Medium = <A HREF="Buildings_Media_GasesPTDecoupled_SimpleAir.html#Buildings.Media.GasesPTDecoupled.SimpleAir"
>Buildings.Media.GasesPTDecoupled.SimpleAir</A>(extraPropertiesNames={&quot;CO2&quot;});
 <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> mMIT_flow = roo.m0Tot_flow <font color="darkgreen">
    &quot;Nominal mass flow rate of MIT system model as in ASHRAE 825-RP&quot;</font>;
<font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</A> dpSuiSup_nominal = 95 <font color="darkgreen">
    &quot;Pressure drop supply air leg with splitters of one suite (obtained from simulation)&quot;</font>;
<font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</A> dpSuiRet_nominal = 233 <font color="darkgreen">
    &quot;Pressure drop return air leg with splitters of one suite (obtained from simulation)&quot;</font>;
<font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</A> dpFanSupMIT_nominal = 1050 <font color="darkgreen">
    &quot;Pressure increase over supply fan in MIT system model as in ASHRAE 825-RP (obtained from simulation)&quot;</font>;
<font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</A> dpFanRetMIT_nominal = 347 <font color="darkgreen">
    &quot;Pressure increase over supply fan in MIT system model as in ASHRAE 825-RP (obtained from simulation)&quot;</font>;
<font color="blue">parameter </font>Real scaM_flow = 1 <font color="darkgreen">&quot;Scaling factor for mass flow rate&quot;</font>;
<font color="blue">parameter </font>Real scaDpFanSup_nominal = 1 <font color="darkgreen">
    &quot;Scaling factor for supply fan pressure lift with NSui number of suites&quot;</font>;
<font color="blue">parameter </font>Real scaDpFanRet_nominal = 1 <font color="darkgreen">
    &quot;Scaling factor for supply fan pressure lift with NSui number of suites&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> PAtm(k=101325);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> yDam(k=0.5);
<A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</A> res31(
                                               dp_nominal=0.546,
  m_flow_nominal=scaM_flow*1,
  dh=<font color="red">sqrt</font>(scaM_flow)*1,
  <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium);
<A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</A> res33(
  dp_nominal=0.164,
  dh=<font color="red">sqrt</font>(scaM_flow)*1,
  m_flow_nominal=scaM_flow*1,
  <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium);
<A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</A> res57(
                                               dp_nominal=0.118000,
  m_flow_nominal=scaM_flow*1,
  dh=<font color="red">sqrt</font>(scaM_flow)*1,
  <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium);
<A HREF="Buildings_Examples_VAVCO2_BaseClasses.html#Buildings.Examples.VAVCO2.BaseClasses.Suite"
>Buildings.Examples.VAVCO2.BaseClasses.Suite</A> roo(<font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium, scaM_flow=scaM_flow);
<A HREF="Buildings_Fluid_Actuators_Dampers.html#Buildings.Fluid.Actuators.Dampers.MixingBox"
>Fluid.Actuators.Dampers.MixingBox</A> mixBox(
  dpOut_nominal=0.467,
  dpRec_nominal=0.665,
  AOut=scaM_flow*1.32,
  AExh=scaM_flow*1.05,
  ARec=scaM_flow*1.05,
  mOut_flow_nominal=scaM_flow*1,
  mRec_flow_nominal=scaM_flow*1,
  mExh_flow_nominal=scaM_flow*1,
  <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    dpExh_nominal=0.467,
    allowFlowReversal=true) <font color="darkgreen">&quot;mixing box&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> bouIn(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=true,
    T=293.15,
    nPorts=2);
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
   <A HREF="Buildings_Controls_Continuous.html#Buildings.Controls.Continuous.LimPID"
>Buildings.Controls.Continuous.LimPID</A> conSupFan(
    Ti=60,
    yMax=1,
    yMin=0,
    Td=60,
    k=0.1,
    initType=Modelica.Blocks.Types.InitPID.InitialState,
    controllerType=Modelica.Blocks.Types.SimpleController.P) <font color="darkgreen">
    &quot;Controller for supply fan&quot;</font>;
  <A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_y"
>Fluid.Movers.FlowMachine_y</A> fan32(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    pressure(<font color="blue">final </font>V_flow={0,11.08,14.9}, dp={1508,743,100}),
    dynamicBalance=true,
    r_N(start=0));
  <A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_y"
>Fluid.Movers.FlowMachine_y</A> fan56(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    pressure(<font color="blue">final </font>V_flow={2.676,11.05}, dp={600,100}),
    dynamicBalance=true,
    r_N(start=0));
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Trapezoid"
>Modelica.Blocks.Sources.Trapezoid</A>
                                pSet(
    amplitude=120,
    period=86400,
    width=86400/2,
    falling=10,
    rising=120,
    startTime=6*3600) <font color="darkgreen">&quot;Pressure setpoint (0 during night, 120 during day)&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(PAtm.y, bouIn.p_in);
  <font color="red">connect</font>(roo.p_rel, conSupFan.u_m);
  <font color="red">connect</font>(yDam.y, mixBox.y);
  <font color="red">connect</font>(roo.p, PAtm.y);
  <font color="red">connect</font>(mixBox.port_Sup, res31.port_a);
  <font color="red">connect</font>(res31.port_b, fan32.port_a);
  <font color="red">connect</font>(res57.port_b, mixBox.port_Ret);
  <font color="red">connect</font>(res33.port_b, roo.port_aSup);
  <font color="red">connect</font>(bouIn.ports[1], mixBox.port_Out);
  <font color="red">connect</font>(bouIn.ports[2], mixBox.port_Exh);
  <font color="red">connect</font>(fan56.port_b, res57.port_a);
  <font color="red">connect</font>(fan32.port_b, res33.port_a);
  <font color="red">connect</font>(fan56.port_a, roo.port_bExh);
  <font color="red">connect</font>(pSet.y, conSupFan.u_s);
  <font color="red">connect</font>(conSupFan.y, fan32.y);
  <font color="red">connect</font>(conSupFan.y, fan56.y);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>VAVSystemCTControl;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Fri Dec 13 11:43:42 2013.
</address></BODY>
</HTML>
