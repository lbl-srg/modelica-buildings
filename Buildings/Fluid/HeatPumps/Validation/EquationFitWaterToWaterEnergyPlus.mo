within Buildings.Fluid.HeatPumps.Validation;
model EquationFitWaterToWaterEnergyPlus "example"

 package Medium = Buildings.Media.Water "Medium model";

  Buildings.Fluid.HeatPumps.EquationFitWaterToWater heaPum(
    redeclare package Medium1 = Medium,
    redeclare package Medium2 = Medium,
    allowFlowReversal1=true,
    allowFlowReversal2=true,
    m1_flow_nominal=1.89,
    m2_flow_nominal=1.89,
    show_T=true,
    dp1_nominal=200,
    dp2_nominal=200,
    tau1=30,
    tau2=30,
    homotopyInitialization=true,
    energyDynamics=Modelica.Fluid.Types.Dynamics.SteadyStateInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.SteadyStateInitial,
    T1_start=55 + 273.15,
    T2_start=12 + 273.15,
    per=Data.WatertoWater_HeatPump.Generic_EquationFit(
        QCon_heatflow_nominal=39040,
        QEva_heatflow_nominal=-39890.91,
        VCon_nominal=0.00189,
        VEva_nominal=0.00189,
        mCon_flow_nominal=1.89,
        mEva_flow_nominal=1.89,
        PCon_nominal_HD=5130,
        PEva_nominal_CD=4790,
        HLRC={-3.33491153,-0.51451946,4.51592706,0.01797107,0.155797661},
        P_HDC={-8.59564386,0.096265085,8.69489229,0.02501669,-0.20132665},
        CLRC={-1.52030596,3.46625667,-1.32267797,0.09395678,0.038975504},
        P_CDC={-8.59564386,0.096265085,8.69489229,0.02501669,-0.20132665},
        TRef=10 + 273.15))
    annotation (Placement(transformation(extent={{32,-10},{52,10}})));

    parameter Buildings.Fluid.HeatPumps.Data.WatertoWater_HeatPump.Generic_EquationFit
              per=Buildings.Fluid.HeatPumps.Data.WatertoWater_HeatPump.Trane_Axiom_EXW240();

    parameter Modelica.SIunits.MassFlowRate mEva_flow_nominal=per.mEva_flow_nominal
       "Nominal mass flow rate";
    parameter Modelica.SIunits.MassFlowRate mCon_flow_nominal=per.mCon_flow_nominal
       "Nominal mass flow rate";

  Sources.MassFlowSource_T Con_heatingWater(
    use_m_flow_in=false,
    m_flow=mCon_flow_nominal,
    nPorts=1,
    use_T_in=true,
    redeclare package Medium = Medium) annotation (Placement(transformation(
        extent={{11,-11},{-11,11}},
        rotation=180,
        origin={-39,87})));

  Modelica.Blocks.Sources.TimeTable TConEnt(table=[0,327.92; 600,327.92; 1200,327.92;
        1800,327.92; 2400,327.92; 3000,327.91; 3600,327.91; 4200,327.91; 4800,327.91;
        5400,327.9; 6000,327.9; 6600,327.9; 7200,327.89; 7800,327.89; 8400,327.88;
        9000,327.88; 9600,327.87; 10200,327.87; 10800,327.86; 11400,327.86; 12000,
        327.85; 12600,327.85; 13200,327.84; 13800,327.84; 14400,327.83; 15000,327.83;
        15600,327.82; 16200,327.82; 16800,327.82; 17400,327.81; 18000,327.81; 18600,
        327.8; 19200,327.8; 19800,327.8; 20400,327.79; 21000,327.79; 21600,327.79;
        22200,327.78; 22800,327.78; 23400,327.78; 24000,327.77; 24600,327.77; 25200,
        327.77; 25800,327.58; 26400,327.48; 27000,327.47; 27600,327.45; 28200,327.46;
        28800,327.47; 29400,327.47; 30000,327.47; 30600,327.48; 31200,327.48; 31800,
        327.48; 32400,327.49; 33000,327.49; 33600,327.5; 34200,327.5; 34800,327.51;
        35400,327.51; 36000,327.52; 36600,327.53; 37200,327.54; 37800,327.54; 38400,
        327.55; 39000,327.56; 39600,327.57; 40200,327.58; 40800,327.59; 41400,327.6;
        42000,327.61; 42600,327.62; 43200,327.62; 43800,327.63; 44400,327.64; 45000,
        327.65; 45600,327.66; 46200,327.67; 46800,327.67; 47400,327.68; 48000,327.69;
        48600,327.69; 49200,327.7; 49800,327.71; 50400,327.71; 51000,327.72; 51600,
        327.72; 52200,327.72; 52800,327.73; 53400,327.73; 54000,327.74; 54600,327.74;
        55200,327.74; 55800,327.75; 56400,327.75; 57000,327.75; 57600,327.76; 58200,
        327.76; 58800,327.76; 59400,327.76; 60000,327.77; 60600,327.77; 61200,327.77;
        61800,327.91; 62400,328.03; 63000,328.06; 63600,328.04; 64200,328.03; 64800,
        328.02; 65400,328.02; 66000,328.01; 66600,328.01; 67200,328.01; 67800,328;
        68400,328; 69000,328; 69600,327.99; 70200,327.99; 70800,327.99; 71400,327.98;
        72000,327.98; 72600,327.98; 73200,327.97; 73800,327.97; 74400,327.97; 75000,
        327.97; 75600,327.96; 76200,327.96; 76800,327.96; 77400,327.96; 78000,327.95;
        78600,327.95; 79200,327.95; 79800,327.95; 80400,327.95; 81000,327.94; 81600,
        327.94; 82200,327.94; 82800,327.94; 83400,327.94; 84000,327.93; 84600,327.93;
        85200,327.93; 85800,327.93; 86400,327.93; 87000,286.59; 87600,286.59; 88200,
        286.58; 88800,286.58; 89400,286.58; 90000,286.57; 90600,286.57; 91200,286.57;
        91800,286.56; 92400,286.56; 93000,286.56; 93600,286.56; 94200,286.55; 94800,
        286.55; 95400,286.55; 96000,286.54; 96600,286.54; 97200,286.54; 97800,286.54;
        98400,286.54; 99000,286.53; 99600,286.53; 100200,286.53; 100800,286.53; 101400,
        286.52; 102000,286.52; 102600,286.52; 103200,286.52; 103800,286.52; 104400,
        286.51; 105000,286.51; 105600,286.51; 106200,286.51; 106800,286.51; 107400,
        286.51; 108000,286.5; 108600,286.5; 109200,286.5; 109800,286.5; 110400,286.5;
        111000,286.5; 111600,286.49; 112200,286.48; 112800,286.44; 113400,286.41;
        114000,286.41; 114600,286.44; 115200,286.46; 115800,286.5; 116400,286.53;
        117000,286.54; 117600,286.56; 118200,286.58; 118800,286.6; 119400,286.62;
        120000,286.64; 120600,286.66; 121200,286.67; 121800,286.69; 122400,286.71;
        123000,286.72; 123600,286.73; 124200,286.74; 124800,286.76; 125400,286.77;
        126000,286.78; 126600,286.79; 127200,286.8; 127800,286.81; 128400,286.81;
        129000,286.82; 129600,286.83; 130200,286.84; 130800,286.85; 131400,286.85;
        132000,286.86; 132600,286.87; 133200,286.87; 133800,286.88; 134400,286.89;
        135000,286.89; 135600,286.89; 136200,286.9; 136800,286.9; 137400,286.91; 138000,
        286.91; 138600,286.92; 139200,286.92; 139800,286.93; 140400,286.93; 141000,
        286.94; 141600,286.94; 142200,286.95; 142800,286.95; 143400,286.96; 144000,
        286.96; 144600,286.97; 145200,286.97; 145800,286.98; 146400,286.98; 147000,
        286.99; 147600,286.99; 148200,287.01; 148800,287.05; 149400,287.09; 150000,
        287.11; 150600,287.1; 151200,287.06; 151800,287.02; 152400,286.98; 153000,
        286.95; 153600,286.92; 154200,286.9; 154800,286.88; 155400,286.86; 156000,
        286.84; 156600,286.83; 157200,286.81; 157800,286.8; 158400,286.78; 159000,
        286.77; 159600,286.76; 160200,286.75; 160800,286.74; 161400,286.73; 162000,
        286.72; 162600,286.71; 163200,286.7; 163800,286.7; 164400,286.69; 165000,286.68;
        165600,286.67; 166200,286.67; 166800,286.66; 167400,286.66; 168000,286.65;
        168600,286.65; 169200,286.64; 169800,286.64; 170400,286.63; 171000,286.63;
        171600,286.62; 172200,286.62; 172800,286.61],
                      offset=0)
    annotation (Placement(transformation(extent={{-100,80},{-80,100}})));
  Modelica.Blocks.Sources.TimeTable TEvaEnt(
    table=[0,286; 600,286; 1200,286.09; 1800,286.21; 2400,286.24; 3000,286.24; 3600,
        286.23; 4200,286.22; 4800,286.22; 5400,286.22; 6000,286.22; 6600,286.22; 7200,
        286.21; 7800,286.21; 8400,286.21; 9000,286.21; 9600,286.2; 10200,286.2; 10800,
        286.2; 11400,286.2; 12000,286.2; 12600,286.19; 13200,286.19; 13800,286.19;
        14400,286.19; 15000,286.19; 15600,286.18; 16200,286.18; 16800,286.18; 17400,
        286.18; 18000,286.17; 18600,286.17; 19200,286.17; 19800,286.17; 20400,286.16;
        21000,286.16; 21600,286.16; 22200,286.16; 22800,286.16; 23400,286.15; 24000,
        286.15; 24600,286.15; 25200,286.15; 25800,286.15; 26400,286.16; 27000,286.16;
        27600,286.16; 28200,286.15; 28800,286.14; 29400,286.13; 30000,286.12; 30600,
        286.11; 31200,286.1; 31800,286.09; 32400,286.09; 33000,286.08; 33600,286.08;
        34200,286.07; 34800,286.07; 35400,286.06; 36000,286.06; 36600,286.05; 37200,
        286.05; 37800,286.05; 38400,286.05; 39000,286.04; 39600,286.04; 40200,286.04;
        40800,286.04; 41400,286.03; 42000,286.03; 42600,286.03; 43200,286.03; 43800,
        286.03; 44400,286.03; 45000,286.03; 45600,286.03; 46200,286.03; 46800,286.03;
        47400,286.03; 48000,286.03; 48600,286.03; 49200,286.03; 49800,286.03; 50400,
        286.03; 51000,286.03; 51600,286.03; 52200,286.03; 52800,286.03; 53400,286.03;
        54000,286.03; 54600,286.07; 55200,286.11; 55800,286.13; 56400,286.13; 57000,
        286.13; 57600,286.13; 58200,286.1; 58800,286.05; 59400,286.04; 60000,286.04;
        60600,286.04; 61200,286.04; 61800,286.04; 62400,286.03; 63000,286.02; 63600,
        286.02; 64200,286.03; 64800,286.04; 65400,286.05; 66000,286.06; 66600,286.06;
        67200,286.07; 67800,286.07; 68400,286.07; 69000,286.08; 69600,286.08; 70200,
        286.08; 70800,286.09; 71400,286.09; 72000,286.09; 72600,286.09; 73200,286.09;
        73800,286.09; 74400,286.1; 75000,286.1; 75600,286.1; 76200,286.1; 76800,286.1;
        77400,286.1; 78000,286.1; 78600,286.1; 79200,286.1; 79800,286.1; 80400,286.1;
        81000,286.1; 81600,286.1; 82200,286.1; 82800,286.1; 83400,286.1; 84000,286.1;
        84600,286.1; 85200,286.1; 85800,286.1; 86400,286.1; 87000,279.82; 87600,279.82;
        88200,279.82; 88800,279.82; 89400,279.82; 90000,279.82; 90600,279.82; 91200,
        279.82; 91800,279.82; 92400,279.82; 93000,279.82; 93600,279.82; 94200,279.82;
        94800,279.82; 95400,279.82; 96000,279.82; 96600,279.82; 97200,279.82; 97800,
        279.82; 98400,279.82; 99000,279.82; 99600,279.82; 100200,279.82; 100800,279.82;
        101400,279.82; 102000,279.82; 102600,279.82; 103200,279.82; 103800,279.82;
        104400,279.82; 105000,279.82; 105600,279.82; 106200,279.82; 106800,279.82;
        107400,279.82; 108000,279.82; 108600,279.82; 109200,279.82; 109800,279.82;
        110400,279.82; 111000,279.82; 111600,279.82; 112200,280.23; 112800,280.52;
        113400,280.64; 114000,280.68; 114600,280.66; 115200,280.64; 115800,280.66;
        116400,280.74; 117000,280.79; 117600,280.81; 118200,280.83; 118800,280.84;
        119400,280.84; 120000,280.85; 120600,280.85; 121200,280.85; 121800,280.85;
        122400,280.85; 123000,280.85; 123600,280.85; 124200,280.85; 124800,280.85;
        125400,280.85; 126000,280.86; 126600,280.86; 127200,280.86; 127800,280.86;
        128400,280.86; 129000,280.86; 129600,280.86; 130200,280.86; 130800,280.86;
        131400,280.86; 132000,280.85; 132600,280.85; 133200,280.85; 133800,280.85;
        134400,280.86; 135000,280.86; 135600,280.87; 136200,280.87; 136800,280.88;
        137400,280.88; 138000,280.89; 138600,280.89; 139200,280.9; 139800,280.9; 140400,
        280.91; 141000,280.91; 141600,280.91; 142200,280.92; 142800,280.92; 143400,
        280.93; 144000,280.93; 144600,280.93; 145200,280.93; 145800,280.93; 146400,
        280.93; 147000,280.93; 147600,280.93; 148200,280.59; 148800,280.17; 149400,
        279.98; 150000,279.89; 150600,279.85; 151200,279.84; 151800,279.83; 152400,
        279.82; 153000,277.72; 153600,279.82; 154200,279.82; 154800,279.82; 155400,
        279.82; 156000,279.82; 156600,279.82; 157200,279.82; 157800,279.82; 158400,
        279.82; 159000,279.82; 159600,279.82; 160200,279.82; 160800,279.82; 161400,
        279.82; 162000,279.82; 162600,279.82; 163200,279.82; 163800,279.82; 164400,
        279.82; 165000,279.82; 165600,279.82; 166200,279.82; 166800,279.82; 167400,
        279.82; 168000,279.82; 168600,279.82; 169200,279.82; 169800,279.82; 170400,
        279.82; 171000,279.82; 171600,279.82; 172200,279.82; 172800,279.82],
    offset=0,
    startTime=0)
    annotation (Placement(transformation(extent={{60,-92},{78,-74}})));
  Sources.MassFlowSource_T Eva_chilledWater(
    m_flow=mEva_flow_nominal,
    nPorts=1,
    use_T_in=true,
    redeclare package Medium = Medium) annotation (Placement(transformation(
        extent={{-10,-10},{10,10}},
        rotation=180,
        origin={72,-48})));
  FixedResistances.PressureDrop                 res1(
    redeclare package Medium = Medium,
    m_flow_nominal=mCon_flow_nominal,
    dp_nominal=6000) "Flow resistance"
    annotation (Placement(transformation(extent={{64,74},{84,94}})));
  Sources.FixedBoundary heating_blg(nPorts=1, redeclare package Medium = Medium)
    annotation (Placement(transformation(extent={{100,76},{86,92}})));
  Sources.FixedBoundary cooling_building(nPorts=1, redeclare package Medium =
        Medium)
    annotation (Placement(transformation(extent={{-42,-90},{-26,-74}})));
  FixedResistances.PressureDrop   res2(
    redeclare package Medium = Medium,
     m_flow_nominal=mEva_flow_nominal,
    dp_nominal=6000) "Flow resistance"
    annotation (Placement(transformation(extent={{-10,-92},{10,-72}})));

  Controls.OBC.CDL.Continuous.LessEqualThreshold           lesEquThr(threshold=-1)
            annotation (Placement(transformation(extent={{-60,20},{-46,34}})));
  Controls.OBC.CDL.Continuous.GreaterEqualThreshold           greEquThr(threshold=1)
    annotation (Placement(transformation(extent={{-58,-40},{-44,-26}})));
  Controls.OBC.CDL.Conversions.BooleanToInteger           booToInt(integerTrue=-1)
    annotation (Placement(transformation(extent={{-34,20},{-20,34}})));
  Controls.OBC.CDL.Conversions.BooleanToInteger           booToInt1
    annotation (Placement(transformation(extent={{-34,-40},{-20,-26}})));
  Controls.OBC.CDL.Integers.Add           addInt
    annotation (Placement(transformation(extent={{-12,-6},{0,6}})));
  parameter Modelica.Fluid.Types.Dynamics energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial
    "Type of energy balance: dynamic (3 initialization options) or steady state";
  parameter Modelica.Fluid.Types.Dynamics massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial
    "Type of mass balance: dynamic (3 initialization options) or steady state";
  Modelica.Blocks.Sources.TimeTable HeaPumMod(table=[0,1; 600,1; 1200,1; 1800,1; 2400,
        1; 3000,1; 3600,1; 4200,1; 4800,1; 5400,1; 6000,1; 6600,1; 7200,1; 7800,1;
        8400,1; 9000,1; 9600,1; 10200,1; 10800,1; 11400,1; 12000,1; 12600,1; 13200,
        1; 13800,1; 14400,1; 15000,1; 15600,1; 16200,1; 16800,1; 17400,1; 18000,1;
        18600,1; 19200,1; 19800,1; 20400,1; 21000,1; 21600,1; 22200,1; 22800,1; 23400,
        1; 24000,1; 24600,1; 25200,1; 25800,1; 26400,1; 27000,1; 27600,1; 28200,1;
        28800,1; 29400,1; 30000,1; 30600,1; 31200,1; 31800,1; 32400,1; 33000,1; 33600,
        1; 34200,1; 34800,1; 35400,1; 36000,1; 36600,1; 37200,1; 37800,1; 38400,1;
        39000,1; 39600,1; 40200,1; 40800,1; 41400,1; 42000,1; 42600,1; 43200,1; 43800,
        1; 44400,1; 45000,1; 45600,1; 46200,1; 46800,1; 47400,1; 48000,1; 48600,1;
        49200,1; 49800,1; 50400,1; 51000,1; 51600,1; 52200,1; 52800,1; 53400,1; 54000,
        1; 54600,1; 55200,1; 55800,1; 56400,1; 57000,1; 57600,1; 58200,1; 58800,1;
        59400,1; 60000,1; 60600,1; 61200,1; 61800,1; 62400,1; 63000,1; 63600,1; 64200,
        1; 64800,1; 65400,1; 66000,1; 66600,1; 67200,1; 67800,1; 68400,1; 69000,1;
        69600,1; 70200,1; 70800,1; 71400,1; 72000,1; 72600,1; 73200,1; 73800,1; 74400,
        1; 75000,1; 75600,1; 76200,1; 76800,1; 77400,1; 78000,1; 78600,1; 79200,1;
        79800,1; 80400,1; 81000,1; 81600,1; 82200,1; 82800,1; 83400,1; 84000,1; 84600,
        1; 85200,1; 85800,1; 86400,1; 87000,0; 87600,0; 88200,0; 88800,0; 89400,0;
        90000,0; 90600,0; 91200,0; 91800,0; 92400,0; 93000,0; 93600,0; 94200,0; 94800,
        0; 95400,0; 96000,0; 96600,0; 97200,0; 97800,0; 98400,0; 99000,0; 99600,0;
        100200,0; 100800,0; 101400,0; 102000,0; 102600,0; 103200,0; 103800,0; 104400,
        0; 105000,0; 105600,0; 106200,0; 106800,0; 107400,0; 108000,0; 108600,0; 109200,
        0; 109800,0; 110400,0; 111000,0; 111600,0; 112200,-1; 112800,-1; 113400,-1;
        114000,-1; 114600,-1; 115200,-1; 115800,-1; 116400,-1; 117000,-1; 117600,-1;
        118200,-1; 118800,-1; 119400,-1; 120000,-1; 120600,-1; 121200,-1; 121800,-1;
        122400,-1; 123000,-1; 123600,-1; 124200,-1; 124800,-1; 125400,-1; 126000,-1;
        126600,-1; 127200,-1; 127800,-1; 128400,-1; 129000,-1; 129600,-1; 130200,-1;
        130800,-1; 131400,-1; 132000,-1; 132600,-1; 133200,-1; 133800,-1; 134400,-1;
        135000,-1; 135600,-1; 136200,-1; 136800,-1; 137400,-1; 138000,-1; 138600,-1;
        139200,-1; 139800,-1; 140400,-1; 141000,-1; 141600,-1; 142200,-1; 142800,-1;
        143400,-1; 144000,-1; 144600,-1; 145200,-1; 145800,-1; 146400,-1; 147000,-1;
        147600,-1; 148200,-1; 148800,-1; 149400,-1; 150000,-1; 150600,-1; 151200,-1;
        151800,-1; 152400,-1; 153000,0; 153600,0; 154200,0; 154800,0; 155400,0; 156000,
        0; 156600,0; 157200,0; 157800,0; 158400,0; 159000,0; 159600,0; 160200,0; 160800,
        0; 161400,0; 162000,0; 162600,0; 163200,0; 163800,0; 164400,0; 165000,0; 165600,
        0; 166200,0; 166800,0; 167400,0; 168000,0; 168600,0; 169200,0; 169800,0; 170400,
        0; 171000,0; 171600,0; 172200,0; 172800,0])
                                       "HeatPump mode control signal"
    annotation (Placement(transformation(extent={{-94,-10},{-74,10}})));
  Modelica.Blocks.Sources.TimeTable TSetCoo(
    table=[0,285.66; 600,285.66; 1200,285.75; 1800,285.86; 2400,285.9; 3000,285.89;
        3600,285.88; 4200,285.87; 4800,285.86; 5400,285.85; 6000,285.84; 6600,285.84;
        7200,285.83; 7800,285.82; 8400,285.81; 9000,285.8; 9600,285.79; 10200,285.78;
        10800,285.77; 11400,285.76; 12000,285.75; 12600,285.74; 13200,285.73; 13800,
        285.72; 14400,285.72; 15000,285.71; 15600,285.7; 16200,285.69; 16800,285.68;
        17400,285.67; 18000,285.66; 18600,285.66; 19200,285.65; 19800,285.64; 20400,
        285.63; 21000,285.62; 21600,285.62; 22200,285.61; 22800,285.6; 23400,285.6;
        24000,285.59; 24600,285.58; 25200,285.58; 25800,285.29; 26400,285.17; 27000,
        285.15; 27600,285.12; 28200,285.12; 28800,285.12; 29400,285.11; 30000,285.11;
        30600,285.1; 31200,285.1; 31800,285.1; 32400,285.1; 33000,285.1; 33600,285.1;
        34200,285.1; 34800,285.11; 35400,285.11; 36000,285.12; 36600,285.13; 37200,
        285.14; 37800,285.14; 38400,285.15; 39000,285.16; 39600,285.17; 40200,285.19;
        40800,285.2; 41400,285.21; 42000,285.22; 42600,285.23; 43200,285.25; 43800,
        285.26; 44400,285.27; 45000,285.28; 45600,285.3; 46200,285.31; 46800,285.32;
        47400,285.33; 48000,285.34; 48600,285.35; 49200,285.36; 49800,285.37; 50400,
        285.37; 51000,285.38; 51600,285.39; 52200,285.4; 52800,285.4; 53400,285.41;
        54000,285.42; 54600,285.46; 55200,285.51; 55800,285.53; 56400,285.54; 57000,
        285.54; 57600,285.55; 58200,285.51; 58800,285.48; 59400,285.47; 60000,285.47;
        60600,285.47; 61200,285.47; 61800,285.68; 62400,285.86; 63000,285.89; 63600,
        285.86; 64200,285.85; 64800,285.85; 65400,285.85; 66000,285.85; 66600,285.85;
        67200,285.85; 67800,285.85; 68400,285.85; 69000,285.85; 69600,285.85; 70200,
        285.84; 70800,285.84; 71400,285.84; 72000,285.84; 72600,285.84; 73200,285.83;
        73800,285.83; 74400,285.83; 75000,285.82; 75600,285.82; 76200,285.82; 76800,
        285.82; 77400,285.81; 78000,285.81; 78600,285.81; 79200,285.8; 79800,285.8;
        80400,285.8; 81000,285.8; 81600,285.79; 82200,285.79; 82800,285.79; 83400,
        285.78; 84000,285.78; 84600,285.78; 85200,285.78; 85800,285.77; 86400,285.77;
        87000,279.82; 87600,279.82; 88200,279.82; 88800,279.82; 89400,279.82; 90000,
        279.82; 90600,279.82; 91200,279.82; 91800,279.82; 92400,279.82; 93000,279.82;
        93600,279.82; 94200,279.82; 94800,279.82; 95400,279.82; 96000,279.82; 96600,
        279.82; 97200,279.82; 97800,279.82; 98400,279.82; 99000,279.82; 99600,279.82;
        100200,279.82; 100800,279.82; 101400,279.82; 102000,279.82; 102600,279.82;
        103200,279.82; 103800,279.82; 104400,279.82; 105000,279.82; 105600,279.82;
        106200,279.82; 106800,279.82; 107400,279.82; 108000,279.82; 108600,279.82;
        109200,279.82; 109800,279.82; 110400,279.82; 111000,279.82; 111600,279.82;
        112200,279.51; 112800,279.3; 113400,279.21; 114000,279.18; 114600,279.19;
        115200,279.21; 115800,279.19; 116400,279.14; 117000,279.1; 117600,279.08;
        118200,279.07; 118800,279.06; 119400,279.06; 120000,279.06; 120600,279.05;
        121200,279.05; 121800,279.05; 122400,279.05; 123000,279.05; 123600,279.05;
        124200,279.05; 124800,279.05; 125400,279.05; 126000,279.05; 126600,279.05;
        127200,279.05; 127800,279.05; 128400,279.04; 129000,279.04; 129600,279.04;
        130200,279.04; 130800,279.04; 131400,279.05; 132000,279.05; 132600,279.05;
        133200,279.05; 133800,279.05; 134400,279.05; 135000,279.04; 135600,279.04;
        136200,279.03; 136800,279.03; 137400,279.03; 138000,279.02; 138600,279.02;
        139200,279.02; 139800,279.01; 140400,279.01; 141000,279.01; 141600,279; 142200,
        279; 142800,279; 143400,279; 144000,278.99; 144600,278.99; 145200,278.99;
        145800,278.99; 146400,278.99; 147000,278.99; 147600,278.99; 148200,279.25;
        148800,279.56; 149400,279.7; 150000,279.77; 150600,279.79; 151200,279.81;
        151800,279.81; 152400,279.82; 153000,279.82; 153600,279.82; 154200,279.82;
        154800,279.82; 155400,279.82; 156000,279.82; 156600,279.82; 157200,279.82;
        157800,279.82; 158400,279.82; 159000,279.82; 159600,279.82; 160200,279.82;
        160800,279.82; 161400,279.82; 162000,279.82; 162600,279.82; 163200,279.82;
        163800,279.82; 164400,279.82; 165000,279.82; 165600,279.82; 166200,279.82;
        166800,279.82; 167400,279.82; 168000,279.82; 168600,279.82; 169200,279.82;
        169800,279.82; 170400,279.82; 171000,279.82; 171600,279.82; 172200,279.82;
        172800,279.82],
    offset=0,
    startTime=0) "Evaporator leaving water Temperature"
    annotation (Placement(transformation(extent={{-10,-56},{8,-38}})));

  Modelica.Blocks.Sources.TimeTable TSetHea(table=[0,328.44; 600,328.44; 1200,328.44;
        1800,328.44; 2400,328.45; 3000,328.45; 3600,328.45; 4200,328.46; 4800,328.46;
        5400,328.46; 6000,328.47; 6600,328.47; 7200,328.48; 7800,328.49; 8400,328.49;
        9000,328.5; 9600,328.5; 10200,328.51; 10800,328.52; 11400,328.52; 12000,328.53;
        12600,328.54; 13200,328.54; 13800,328.55; 14400,328.55; 15000,328.56; 15600,
        328.57; 16200,328.57; 16800,328.58; 17400,328.58; 18000,328.59; 18600,328.59;
        19200,328.6; 19800,328.6; 20400,328.61; 21000,328.61; 21600,328.61; 22200,
        328.62; 22800,328.62; 23400,328.63; 24000,328.63; 24600,328.63; 25200,328.64;
        25800,328.88; 26400,329; 27000,329.02; 27600,329.04; 28200,329.03; 28800,329.02;
        29400,329.02; 30000,329.01; 30600,329.01; 31200,329; 31800,329; 32400,328.99;
        33000,328.99; 33600,328.98; 34200,328.98; 34800,328.97; 35400,328.96; 36000,
        328.95; 36600,328.94; 37200,328.93; 37800,328.92; 38400,328.91; 39000,328.9;
        39600,328.89; 40200,328.88; 40800,328.87; 41400,328.85; 42000,328.84; 42600,
        328.83; 43200,328.82; 43800,328.81; 44400,328.8; 45000,328.79; 45600,328.78;
        46200,328.77; 46800,328.76; 47400,328.75; 48000,328.74; 48600,328.73; 49200,
        328.72; 49800,328.72; 50400,328.71; 51000,328.7; 51600,328.7; 52200,328.69;
        52800,328.69; 53400,328.68; 54000,328.68; 54600,328.67; 55200,328.67; 55800,
        328.66; 56400,328.66; 57000,328.65; 57600,328.65; 58200,328.65; 58800,328.65;
        59400,328.64; 60000,328.64; 60600,328.64; 61200,328.64; 61800,328.46; 62400,
        328.3; 63000,328.27; 63600,328.29; 64200,328.3; 64800,328.31; 65400,328.32;
        66000,328.32; 66600,328.33; 67200,328.33; 67800,328.34; 68400,328.34; 69000,
        328.35; 69600,328.35; 70200,328.36; 70800,328.36; 71400,328.36; 72000,328.37;
        72600,328.37; 73200,328.37; 73800,328.38; 74400,328.38; 75000,328.38; 75600,
        328.39; 76200,328.39; 76800,328.39; 77400,328.4; 78000,328.4; 78600,328.4;
        79200,328.41; 79800,328.41; 80400,328.41; 81000,328.41; 81600,328.42; 82200,
        328.42; 82800,328.42; 83400,328.42; 84000,328.43; 84600,328.43; 85200,328.43;
        85800,328.43; 86400,328.44; 87000,286.59; 87600,286.59; 88200,286.59; 88800,
        286.58; 89400,286.58; 90000,286.58; 90600,286.57; 91200,286.57; 91800,286.57;
        92400,286.56; 93000,286.56; 93600,286.56; 94200,286.56; 94800,286.55; 95400,
        286.55; 96000,286.55; 96600,286.55; 97200,286.54; 97800,286.54; 98400,286.54;
        99000,286.54; 99600,286.53; 100200,286.53; 100800,286.53; 101400,286.53; 102000,
        286.53; 102600,286.52; 103200,286.52; 103800,286.52; 104400,286.52; 105000,
        286.52; 105600,286.51; 106200,286.51; 106800,286.51; 107400,286.51; 108000,
        286.51; 108600,286.51; 109200,286.5; 109800,286.5; 110400,286.5; 111000,286.5;
        111600,286.5; 112200,287.33; 112800,287.87; 113400,288.07; 114000,288.17;
        114600,288.15; 115200,288.14; 115800,288.21; 116400,288.4; 117000,288.51;
        117600,288.58; 118200,288.63; 118800,288.67; 119400,288.7; 120000,288.73;
        120600,288.75; 121200,288.77; 121800,288.79; 122400,288.81; 123000,288.82;
        123600,288.84; 124200,288.85; 124800,288.87; 125400,288.88; 126000,288.89;
        126600,288.9; 127200,288.92; 127800,288.93; 128400,288.94; 129000,288.95;
        129600,288.96; 130200,288.97; 130800,288.97; 131400,288.97; 132000,288.97;
        132600,288.98; 133200,288.98; 133800,288.99; 134400,289; 135000,289.02; 135600,
        289.04; 136200,289.05; 136800,289.07; 137400,289.08; 138000,289.1; 138600,
        289.11; 139200,289.12; 139800,289.14; 140400,289.15; 141000,289.17; 141600,
        289.18; 142200,289.19; 142800,289.2; 143400,289.22; 144000,289.23; 144600,
        289.24; 145200,289.25; 145800,289.25; 146400,289.25; 147000,289.25; 147600,
        289.26; 148200,288.57; 148800,287.77; 149400,287.42; 150000,287.26; 150600,
        287.17; 151200,287.09; 151800,287.03; 152400,286.99; 153000,286.96; 153600,
        286.93; 154200,286.9; 154800,286.88; 155400,286.86; 156000,286.84; 156600,
        286.83; 157200,286.81; 157800,286.8; 158400,286.79; 159000,286.77; 159600,
        286.76; 160200,286.75; 160800,286.74; 161400,286.73; 162000,286.72; 162600,
        286.71; 163200,286.71; 163800,286.7; 164400,286.69; 165000,286.68; 165600,
        286.68; 166200,286.67; 166800,286.67; 167400,286.66; 168000,286.65; 168600,
        286.65; 169200,286.64; 169800,286.64; 170400,286.63; 171000,286.63; 171600,
        286.62; 172200,286.62; 172800,286.62])
                                     "Condesner leaving Water Temperature"
    annotation (Placement(transformation(extent={{-12,42},{8,62}})));
  Modelica.Blocks.Sources.TimeTable QEvaEP(table=[0,-2666.52; 600,-2689.23; 1200,-2720.31;
        1800,-2747.97; 2400,-2777.49; 3000,-2809.37; 3600,-2838.95; 4200,-2874.35;
        4800,-2908.25; 5400,-2950.57; 6000,-2995.97; 6600,-3049.86; 7200,-3104.07;
        7800,-3154.9; 8400,-3214.35; 9000,-3273.99; 9600,-3329.31; 10200,-3389.16;
        10800,-3447.88; 11400,-3512.27; 12000,-3571; 12600,-3620.86; 13200,-3681.07;
        13800,-3732.95; 14400,-3781.11; 15000,-3839.21; 15600,-3891.9; 16200,-3939.14;
        16800,-3987.06; 17400,-4035.73; 18000,-4076.17; 18600,-4119.88; 19200,-4175.09;
        19800,-4215.5; 20400,-4256.29; 21000,-4298.78; 21600,-4327.83; 22200,-4364.18;
        22800,-4405.42; 23400,-4443.42; 24000,-4479.65; 24600,-4518.99; 25200,-6792.78;
        25800,-7872.04; 26400,-8057.17; 27000,-8245.87; 27600,-8155.41; 28200,-8082.36;
        28800,-8030.07; 29400,-7994.51; 30000,-7950.34; 30600,-7917.86; 31200,-7877.13;
        31800,-7829.55; 32400,-7780.34; 33000,-7723.22; 33600,-7659.54; 34200,-7589.24;
        34800,-7514.7; 35400,-7434.72; 36000,-7348.52; 36600,-7248.79; 37200,-7152.65;
        37800,-7056.96; 38400,-6957.04; 39000,-6852.98; 39600,-6742.59; 40200,-6629.18;
        40800,-6520.08; 41400,-6414.48; 42000,-6304.7; 42600,-6201.62; 43200,-6100.95;
        43800,-5994.92; 44400,-5891.32; 45000,-5793.38; 45600,-5695.92; 46200,-5615.7;
        46800,-5534.64; 47400,-5452.82; 48000,-5386.11; 48600,-5307.89; 49200,-5245.22;
        49800,-5184.09; 50400,-5123.21; 51000,-5070.29; 51600,-5015.51; 52200,-4966.81;
        52800,-4915.57; 53400,-4867.45; 54000,-4822.74; 54600,-4783.9; 55200,-4754.16;
        55800,-4714.78; 56400,-4668.95; 57000,-4637.43; 57600,-4611.01; 58200,-4576.3;
        58800,-4552.73; 59400,-4535.63; 60000,-4519.4; 60600,-4498.11; 61200,-2857.35;
        61800,-1365.05; 62400,-1077.82; 63000,-1264.74; 63600,-1401.26; 64200,-1490.25;
        64800,-1553.53; 65400,-1607.74; 66000,-1659.53; 66600,-1698.15; 67200,-1736.25;
        67800,-1776.18; 68400,-1812.54; 69000,-1851.05; 69600,-1891.6; 70200,-1923.79;
        70800,-1955.52; 71400,-1994.64; 72000,-2028.64; 72600,-2062.69; 73200,-2097.32;
        73800,-2133.38; 74400,-2162.91; 75000,-2195.95; 75600,-2223.44; 76200,-2253.51;
        76800,-2287.98; 77400,-2307.67; 78000,-2333; 78600,-2359.94; 79200,-2387.25;
        79800,-2410.84; 80400,-2432.28; 81000,-2465.11; 81600,-2489.23; 82200,-2507.84;
        82800,-2525.46; 83400,-2548.36; 84000,-2571.07; 84600,-2597.58; 85200,-2619.98;
        85800,-2643.21; 86400,-2686.5; 87000,-21.8; 87600,-21.8; 88200,-21.8; 88800,
        -21.8; 89400,-21.8; 90000,-21.8; 90600,-21.8; 91200,-21.8; 91800,-21.8; 92400,
        -21.8; 93000,-21.8; 93600,-21.8; 94200,-21.8; 94800,-21.8; 95400,-21.8; 96000,
        -21.8; 96600,-21.8; 97200,-21.8; 97800,-21.8; 98400,-21.8; 99000,-21.8; 99600,
        -21.8; 100200,-21.8; 100800,-21.8; 101400,-21.8; 102000,-21.8; 102600,-21.8;
        103200,-21.8; 103800,-21.8; 104400,-21.8; 105000,-21.8; 105600,-21.8; 106200,
        -21.8; 106800,-21.8; 107400,-21.8; 108000,-21.8; 108600,-21.8; 109200,-21.8;
        109800,-21.8; 110400,-21.8; 111000,-21.8; 111600,-21.8; 112200,-5740.8; 112800,
        -9715.8; 113400,-11307.9; 114000,-11897; 114600,-11631.6; 115200,-11368.7;
        115800,-11601.8; 116400,-12698.7; 117000,-13366.1; 117600,-13754.4; 118200,
        -13938.9; 118800,-14076.8; 119400,-14153; 120000,-14186.3; 120600,-14202.1;
        121200,-14215.3; 121800,-14229.2; 122400,-14242.7; 123000,-14256.5; 123600,
        -14270.8; 124200,-14285.7; 124800,-14300.5; 125400,-14315.3; 126000,-14329.9;
        126600,-14344.4; 127200,-14359.1; 127800,-14374; 128400,-14389.3; 129000,-14405.4;
        129600,-14422.5; 130200,-14440.6; 130800,-14420.3; 131400,-14365.4; 132000,
        -14322.6; 132600,-14304.6; 133200,-14300.6; 133800,-14303.5; 134400,-14351.1;
        135000,-14440.2; 135600,-14525.7; 136200,-14595.9; 136800,-14659.6; 137400,
        -14723.2; 138000,-14787.1; 138600,-14850.1; 139200,-14912.1; 139800,-14973.2;
        140400,-15033.2; 141000,-15090.5; 141600,-15144.9; 142200,-15197.2; 142800,
        -15248; 143400,-15297.5; 144000,-15346.1; 144600,-15394.9; 145200,-15404.6;
        145800,-15376.8; 146400,-15356.6; 147000,-15355; 147600,-15361.9; 148200,-10621.4;
        148800,-4823.4; 149400,-2196.8; 150000,-1006.9; 150600,-468; 151200,-223.9;
        151800,-113.3; 152400,-63.2; 153000,-40.5; 153600,-30.3; 154200,-25.6; 154800,
        -23.5; 155400,-22.5; 156000,-22.1; 156600,-21.9; 157200,-21.8; 157800,-21.8;
        158400,-21.8; 159000,-21.8; 159600,-21.8; 160200,-21.8; 160800,-21.8; 161400,
        -21.8; 162000,-21.8; 162600,-21.8; 163200,-21.8; 163800,-21.8; 164400,-21.8;
        165000,-21.8; 165600,-21.8; 166200,-21.8; 166800,-21.8; 167400,-21.8; 168000,
        -21.8; 168600,-21.8; 169200,-21.8; 169800,-21.8; 170400,-21.8; 171000,-21.8;
        171600,-21.8; 172200,-21.8])    "EnergyPlus result: Evaporator heat flow"
    annotation (Placement(transformation(extent={{-94,-82},{-82,-70}})));
  Modelica.Blocks.Sources.TimeTable QConEP(table=[0,4076.801; 600,4107.967; 1200,4150.948;
        1800,4191.577; 2400,4236.65; 3000,4285.584; 3600,4330.89; 4200,4384.892; 4800,
        4436.572; 5400,4501.051; 6000,4570.25; 6600,4652.368; 7200,4734.978; 7800,
        4812.416; 8400,4902.982; 9000,4993.823; 9600,5078.105; 10200,5169.262; 10800,
        5258.705; 11400,5356.755; 12000,5446.213; 12600,5522.163; 13200,5613.866;
        13800,5692.899; 14400,5766.267; 15000,5854.744; 15600,5934.992; 16200,6006.942;
        16800,6079.926; 17400,6154.057; 18000,6215.67; 18600,6282.264; 19200,6366.316;
        19800,6427.876; 20400,6490.021; 21000,6554.735; 21600,6599.022; 22200,6654.412;
        22800,6717.234; 23400,6775.109; 24000,6830.31; 24600,6890.234; 25200,10339.433;
        25800,11971.943; 26400,12251.542; 27000,12537.302; 27600,12401.698; 28200,
        12292.503; 28800,12214.653; 29400,12161.968; 30000,12096.117; 30600,12047.821;
        31200,11986.956; 31800,11915.654; 32400,11841.802; 33000,11755.926; 33600,
        11660.074; 34200,11554.128; 34800,11441.707; 35400,11321.001; 36000,11190.817;
        36600,11040.082; 37200,10894.751; 37800,10750.039; 38400,10598.85; 39000,10441.346;
        39600,10274.195; 40200,10102.403; 40800,9937.104; 41400,9777.051; 42000,9610.612;
        42600,9454.295; 43200,9301.586; 43800,9140.701; 44400,8983.479; 45000,8834.802;
        45600,8686.82; 46200,8564.999; 46800,8441.866; 47400,8317.558; 48000,8216.188;
        48600,8097.303; 49200,8002.046; 49800,7909.115; 50400,7816.551; 51000,7736.061;
        51600,7652.755; 52200,7578.679; 52800,7500.747; 53400,7427.53; 54000,7356.974;
        54600,7294.901; 55200,7248.671; 55800,7188.67; 56400,7119.013; 57000,7071.052;
        57600,7033.272; 58200,6983.322; 58800,6948.345; 59400,6922.353; 60000,6897.546;
        60600,6865.093; 61200,4365.665; 61800,2088.399; 62400,1649.469; 63000,1935.235;
        63600,2143.785; 64200,2279.566; 64800,2376.049; 65400,2458.699; 66000,2537.662;
        66600,2596.523; 67200,2654.598; 67800,2715.473; 68400,2770.9; 69000,2829.614;
        69600,2891.442; 70200,2940.518; 70800,2988.894; 71400,3048.545; 72000,3100.381;
        72600,3152.288; 73200,3205.087; 73800,3260.081; 74400,3305.086; 75000,3355.463;
        75600,3397.366; 76200,3443.214; 76800,3495.77; 77400,3525.781; 78000,3564.4;
        78600,3605.47; 79200,3647.104; 79800,3683.076; 80400,3715.764; 81000,3765.814;
        81600,3802.581; 82200,3830.944; 82800,3857.809; 83400,3892.729; 84000,3927.345;
        84600,3967.758; 85200,4001.92; 85800,4037.331; 86400,4103.32; 87000,25.4;
        87600,25.4; 88200,25.4; 88800,25.4; 89400,25.4; 90000,25.4; 90600,25.4; 91200,
        25.4; 91800,25.4; 92400,25.4; 93000,25.4; 93600,25.4; 94200,25.4; 94800,25.4;
        95400,25.4; 96000,25.4; 96600,25.4; 97200,25.4; 97800,25.4; 98400,25.4; 99000,
        25.4; 99600,25.4; 100200,25.4; 100800,25.4; 101400,25.4; 102000,25.4; 102600,
        25.4; 103200,25.4; 103800,25.4; 104400,25.4; 105000,25.4; 105600,25.4; 106200,
        25.4; 106800,25.4; 107400,25.4; 108000,25.4; 108600,25.4; 109200,25.4; 109800,
        25.4; 110400,25.4; 111000,25.4; 111600,25.4; 112200,6696; 112800,11324.9;
        113400,13175.6; 114000,13861.4; 114600,13554.2; 115200,13250.4; 115800,13524.2;
        116400,14802.8; 117000,15580.5; 117600,16033.5; 118200,16249.9; 118800,16412.1;
        119400,16502.6; 120000,16543.1; 120600,16563.2; 121200,16580.1; 121800,16597.7;
        122400,16614.8; 123000,16632.1; 123600,16650; 124200,16668.4; 124800,16686.7;
        125400,16704.9; 126000,16722.9; 126600,16740.7; 127200,16758.6; 127800,16776.7;
        128400,16795.4; 129000,16814.9; 129600,16835.4; 130200,16857.3; 130800,16834.3;
        131400,16770.9; 132000,16721.8; 132600,16701.4; 133200,16697.3; 133800,16701.2;
        134400,16757.2; 135000,16861.5; 135600,16961.5; 136200,17043.8; 136800,17118.5;
        137400,17193; 138000,17267.9; 138600,17341.8; 139200,17414.5; 139800,17486.2;
        140400,17556.5; 141000,17623.8; 141600,17687.6; 142200,17749; 142800,17808.7;
        143400,17866.9; 144000,17924; 144600,17981.3; 145200,17993; 145800,17961.2;
        146400,17938.1; 147000,17936.7; 147600,17945.2; 148200,12415.8; 148800,5644.8;
        149400,2572.4; 150000,1179.5; 150600,548.2; 151200,262.2; 151800,132.7; 152400,
        74; 153000,47.4; 153600,35.4; 154200,30; 154800,27.5; 155400,26.4; 156000,
        25.9; 156600,25.6; 157200,25.5; 157800,25.5; 158400,25.5; 159000,25.4; 159600,
        25.4; 160200,25.4; 160800,25.4; 161400,25.4; 162000,25.4; 162600,25.4; 163200,
        25.4; 163800,25.4; 164400,25.4; 165000,25.4; 165600,25.4; 166200,25.4; 166800,
        25.4; 167400,25.4; 168000,25.4; 168600,25.4; 169200,25.4; 169800,25.4; 170400,
        25.4; 171000,25.4; 171600,25.4; 172200,25.4; 172800,25.4])
    "EnergyPlus result: Condenser heat flow "
    annotation (Placement(transformation(extent={{-94,-62},{-82,-50}})));
  Modelica.Blocks.Sources.TimeTable ComP(table=[0,1410.3; 600,1418.7; 1200,1430.6;
        1800,1443.6; 2400,1459.2; 3000,1476.2; 3600,1491.9; 4200,1510.5; 4800,1528.3;
        5400,1550.5; 6000,1574.3; 6600,1602.5; 7200,1630.9; 7800,1657.5; 8400,1688.6;
        9000,1719.8; 9600,1748.8; 10200,1780.1; 10800,1810.8; 11400,1844.5; 12000,
        1875.2; 12600,1901.3; 13200,1932.8; 13800,1959.9; 14400,1985.2; 15000,2015.5;
        15600,2043.1; 16200,2067.8; 16800,2092.9; 17400,2118.3; 18000,2139.5; 18600,
        2162.4; 19200,2191.2; 19800,2212.4; 20400,2233.7; 21000,2256; 21600,2271.2;
        22200,2290.2; 22800,2311.8; 23400,2331.7; 24000,2350.7; 24600,2371.2; 25200,
        3546.7; 25800,4099.9; 26400,4194.4; 27000,4291.4; 27600,4246.3; 28200,4210.1;
        28800,4184.6; 29400,4167.5; 30000,4145.8; 30600,4130; 31200,4109.8; 31800,
        4086.1; 32400,4061.5; 33000,4032.7; 33600,4000.5; 34200,3964.9; 34800,3927;
        35400,3886.3; 36000,3842.3; 36600,3791.3; 37200,3742.1; 37800,3693.1; 38400,
        3641.8; 39000,3588.4; 39600,3531.6; 40200,3473.2; 40800,3417; 41400,3362.6;
        42000,3305.9; 42600,3252.7; 43200,3200.6; 43800,3145.8; 44400,3092.2; 45000,
        3041.4; 45600,2990.9; 46200,2949.3; 46800,2907.2; 47400,2864.7; 48000,2830.1;
        48600,2789.4; 49200,2756.8; 49800,2725; 50400,2693.3; 51000,2665.8; 51600,
        2637.2; 52200,2611.9; 52800,2585.2; 53400,2560.1; 54000,2534.2; 54600,2511;
        55200,2494.5; 55800,2473.9; 56400,2450.1; 57000,2433.6; 57600,2422.3; 58200,
        2407; 58800,2395.6; 59400,2386.7; 60000,2378.1; 60600,2367; 61200,1508.3;
        61800,723.3; 62400,571.7; 63000,670.5; 63600,742.5; 64200,789.3; 64800,822.5;
        65400,851; 66000,878.1; 66600,898.4; 67200,918.4; 67800,939.3; 68400,958.4;
        69000,978.6; 69600,999.8; 70200,1016.7; 70800,1033.4; 71400,1053.9; 72000,
        1071.7; 72600,1089.6; 73200,1107.8; 73800,1126.7; 74400,1142.2; 75000,1159.5;
        75600,1173.9; 76200,1189.7; 76800,1207.8; 77400,1218.1; 78000,1231.4; 78600,
        1245.5; 79200,1259.9; 79800,1272.2; 80400,1283.5; 81000,1300.7; 81600,1313.4;
        82200,1323.1; 82800,1332.4; 83400,1344.4; 84000,1356.3; 84600,1370.2; 85200,
        1381.9; 85800,1394.1; 86400,1416.8; 87000,3.66; 87600,3.66; 88200,3.66; 88800,
        3.66; 89400,3.66; 90000,3.66; 90600,3.66; 91200,3.66; 91800,3.65; 92400,3.65;
        93000,3.65; 93600,3.65; 94200,3.65; 94800,3.65; 95400,3.65; 96000,3.65; 96600,
        3.65; 97200,3.65; 97800,3.65; 98400,3.65; 99000,3.65; 99600,3.65; 100200,3.65;
        100800,3.65; 101400,3.65; 102000,3.65; 102600,3.65; 103200,3.65; 103800,3.65;
        104400,3.65; 105000,3.65; 105600,3.65; 106200,3.65; 106800,3.65; 107400,3.65;
        108000,3.65; 108600,3.65; 109200,3.65; 109800,3.65; 110400,3.65; 111000,3.65;
        111600,3.65; 112200,955.21; 112800,1609.02; 113400,1867.75; 114000,1964.36;
        114600,1922.62; 115200,1881.68; 115800,1922.42; 116400,2104.02; 117000,2214.41;
        117600,2279.15; 118200,2310.99; 118800,2335.32; 119400,2349.61; 120000,2356.82;
        120600,2361.09; 121200,2364.82; 121800,2368.55; 122400,2372.12; 123000,2375.64;
        123600,2379.17; 124200,2382.7; 124800,2386.19; 125400,2389.61; 126000,2392.95;
        126600,2396.24; 127200,2399.5; 127800,2402.76; 128400,2406.07; 129000,2409.46;
        129600,2412.99; 130200,2416.67; 130800,2413.99; 131400,2405.57; 132000,2399.17;
        132600,2396.8; 133200,2396.73; 133800,2397.75; 134400,2406.12; 135000,2421.3;
        135600,2435.86; 136200,2447.88; 136800,2458.84; 137400,2469.8; 138000,2480.8;
        138600,2491.68; 139200,2502.4; 139800,2512.97; 140400,2523.35; 141000,2533.29;
        141600,2542.74; 142200,2551.86; 142800,2560.72; 143400,2569.39; 144000,2577.89;
        144600,2586.42; 145200,2588.47; 145800,2584.36; 146400,2581.5; 147000,2581.7;
        147600,2583.31; 148200,1794.43; 148800,821.33; 149400,375.68; 150000,172.58;
        150600,80.22; 151200,38.32; 151800,19.37; 152400,10.79; 153000,6.91; 153600,
        5.15; 154200,4.36; 154800,4; 155400,3.83; 156000,3.75; 156600,3.72; 157200,
        3.7; 157800,3.69; 158400,3.69; 159000,3.68; 159600,3.68; 160200,3.68; 160800,
        3.68; 161400,3.68; 162000,3.68; 162600,3.68; 163200,3.67; 163800,3.67; 164400,
        3.67; 165000,3.67; 165600,3.67; 166200,3.67; 166800,3.67; 167400,3.67; 168000,
        3.67; 168600,3.67; 169200,3.67; 169800,3.66; 170400,3.66; 171000,3.66; 171600,
        3.66; 172200,3.66; 172800,3.66])
    "EnergyPlus result: Compressor Power"
    annotation (Placement(transformation(extent={{-94,-42},{-82,-30}})));
equation

  connect(heaPum.port_a1, Con_heatingWater.ports[1])
    annotation (Line(points={{32,6},{24,6},{24,87},{-28,87}},
                                                        color={0,127,255}));
  connect(TEvaEnt.y, Eva_chilledWater.T_in) annotation (Line(points={{78.9,-83},{98,
          -83},{98,-52},{84,-52}}, color={0,0,127}));
  connect(Eva_chilledWater.ports[1], heaPum.port_a2)
    annotation (Line(points={{62,-48},{56,-48},{56,-6},{52,-6}},
                                                         color={0,127,255}));
  connect(heating_blg.ports[1], res1.port_b)
    annotation (Line(points={{86,84},{84,84}}, color={0,127,255}));
  connect(cooling_building.ports[1], res2.port_a)
    annotation (Line(points={{-26,-82},{-10,-82}}, color={0,127,255}));
  connect(res1.port_a, heaPum.port_b1)
    annotation (Line(points={{64,84},{58,84},{58,6},{52,6}},
                                                       color={0,127,255}));
  connect(res2.port_b, heaPum.port_b2)
    annotation (Line(points={{10,-82},{24,-82},{24,-6},{32,-6}},  color={0,127,255}));
  connect(lesEquThr.y,booToInt. u)
    annotation (Line(points={{-45.3,27},{-35.4,27}},
                                                color={255,0,255}));
  connect(greEquThr.y,booToInt1. u)
    annotation (Line(points={{-43.3,-33},{-35.4,-33}},    color={255,0,255}));
  connect(booToInt1.y,addInt. u2)
    annotation (Line(points={{-19.3,-33},{-16,-33},{
          -16,-4},{-12,-4},{-12,-3.6},{-13.2,-3.6}},
                           color={255,127,0}));

  connect(booToInt.y,addInt. u1)
    annotation (Line(points={{-19.3,27},{-14,27},{-14,
          3.6},{-13.2,3.6}},
                   color={255,127,0}));

  connect(addInt.y, heaPum.uMod)
    annotation (Line(points={{0.6,0},{30,0}},  color={255,127,0}));

  connect(TSetCoo.y, heaPum.TEvaSet)
   annotation (Line(points={{8.9,-47},{20,-47},{
          20,-9},{30,-9}}, color={0,0,127}));

  connect(HeaPumMod.y, lesEquThr.u)
   annotation (Line(points={{-73,0},{-66,0},{-66,
          27},{-61.4,27}}, color={0,0,127}));

  connect(HeaPumMod.y, greEquThr.u)
    annotation (Line(points={{-73,0},{-66,0},{-66,
          -33},{-59.4,-33}}, color={0,0,127}));
  connect(TConEnt.y, Con_heatingWater.T_in)
    annotation (Line(points={{-79,90},{-58,
          90},{-58,82.6},{-52.2,82.6}}, color={0,0,127}));
  connect(TSetHea.y, heaPum.TConSet)
    annotation (Line(points={{9,52},{20,52},{20,9},{30,9}}, color={0,0,127}));

  annotation (Icon(coordinateSystem(preserveAspectRatio=false, extent={{-100,
            -100},{100,100}}),
                         graphics={
        Ellipse(lineColor = {75,138,73},
                fillColor={255,255,255},
                fillPattern = FillPattern.Solid,
                extent={{-100,-102},{100,98}}),
        Polygon(lineColor = {0,0,255},
                fillColor = {75,138,73},
                pattern = LinePattern.None,
                fillPattern = FillPattern.Solid,
                points={{-30,64},{70,4},{-30,-56},{-30,64}})}),
                           Diagram(
        coordinateSystem(preserveAspectRatio=false, extent={{-100,-100},{100,
            100}})),
                 __Dymola_Commands(file= "modelica://Buildings/Resources/Scripts/Dymola/Fluid/HeatPumps/Validation/EquationFitWaterToWaterEnergyPlus.mos"
        "Simulate and plot"),
    experiment(
      Tolerance=1e-6, StopTime=172800),
  Documentation(info="<html>  
  <p>
This model validates the model
<a href=\"modelica://Buildings.Fluid.HeatPumps.WaterToWaterEquationFit\">
Buildings.Fluid.HeatPumps.WaterToWaterEquationFit</a>.
The slight difference in results between
<i>Q<sub>ConHeaPum</sub></i> and <i>Q<sub>ConEP</sub></i>
occurs during the cooling dominated mode. like wise during the heating dominated mode,a difference in the performance between <i>Q<sub>EvaHeaPum</sub></i> 
and <i>Q<sub>EvaEP</sub></i>occured.
</p>

<p>
The EnergyPlus results were generated using the example file <code>GSHPSimple-GLHE.idf</code>
from EnergyPlus 9.1, with a nominal cooling capacity of <i>39890</i> Watts  and nominal heating capacity of <i>39040</i> Watts.
</p>
</html>", revisions="<html>
<ul>
<li>
May 3, 2019, by Hagar Elarga:<br/>
First implementation.
</li>
</ul>
</html>"));
end EquationFitWaterToWaterEnergyPlus;
