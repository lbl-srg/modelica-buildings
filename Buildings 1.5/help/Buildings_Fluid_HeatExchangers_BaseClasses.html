<HTML>
<HEAD>
<TITLE>Buildings.Fluid.HeatExchangers.BaseClasses</TITLE>
<META name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META name="description" content="&quot;Package with base classes for Buildings.Fluid.HeatExchangers&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- --- header ------ -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- --- end header -- -->
</P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BaseClasses<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Fluid.HeatExchangers.BaseClasses"></A><A HREF="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers"
>Buildings.Fluid.HeatExchangers</A>.BaseClasses</H2>
<B>Package with base classes for Buildings.Fluid.HeatExchangers</B>
<P></P>
<P></P><H3>Information</H3>

<p>
This package contains base classes that are used to construct the models in
<A HREF="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers"
>Buildings.Fluid.HeatExchangers</a>.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons_BasesPackage.html#Modelica.Icons.BasesPackage"
>Modelica.Icons.BasesPackage</A> (Icon for packages containing base classes).
<P></P><H3>Package Content</H3>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha2dc65984bd9ae1dceaderS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.CoilHeader" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.CoilHeader"
>CoilHeader</A>
</TD><TD>Header for a heat exchanger register</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha6e1f7f06674c66f4isterS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.CoilRegister" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.CoilRegister"
>CoilRegister</A>
</TD><TD>Register for a heat exchanger</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha56c1cfbb2cf2d87btanceS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.DuctManifoldFixedResistance" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.DuctManifoldFixedResistance"
>DuctManifoldFixedResistance</A>
</TD><TD>Manifold for a heat exchanger air duct connection</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExchada98fd043097efb4tanceS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.DuctManifoldNoResistance" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.DuctManifoldNoResistance"
>DuctManifoldNoResistance</A>
</TD><TD>Duct manifold without resistance</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha7076bc547e015019nsideS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HACoilInside" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HACoilInside"
>HACoilInside</A>
</TD><TD>Calculates the hA value for water inside a coil</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha7670ce850aefe4cfyCoilS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil"
>HADryCoil</A>
</TD><TD>Sensible convective heat transfer model for air to water coil</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExchad881de7eba37d378inderS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HANaturalCylinder" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HANaturalCylinder"
>HANaturalCylinder</A>
</TD><TD>Calculates an hA value for natural convection around a cylinder</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha1b8f24e9b34cfd3aatentS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent"
>HexElementLatent</A>
</TD><TD>Element of a heat exchanger</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha953a279e069b3fd1sibleS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HexElementSensible" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HexElementSensible"
>HexElementSensible</A>
</TD><TD>Element of a heat exchanger with humidity condensation of fluid 2</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha4f3d4227286e511changeS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.MassExchange" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.MassExchange"
>MassExchange</A>
</TD><TD>Block to compute the latent heat transfer based on the Lewis number</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha58f2ae39d7b1a5d3enessS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialEffectiveness" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialEffectiveness"
>PartialEffectiveness</A>
</TD><TD>Partial model to implement heat exchangers based on effectiveness model</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExchad2ea9b0e609271e2ementS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement"
>PartialHexElement</A>
</TD><TD>Element of a heat exchanger 2</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExchaf5169d3349c0b86fifoldS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctManifold" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctManifold"
>PartialDuctManifold</A>
</TD><TD>Partial manifold for heat exchanger duct connection</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExchac048acf90cb410b4ifoldS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctPipeManifold" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctPipeManifold"
>PartialDuctPipeManifold</A>
</TD><TD>Partial heat exchanger duct and pipe manifold</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExchade69b8a343b2c96fifoldS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialPipeManifold" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialPipeManifold"
>PartialPipeManifold</A>
</TD><TD>Partial pipe manifold for a heat exchanger</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha201daf8bbf7ad828tanceS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PipeManifoldFixedResistance" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PipeManifoldFixedResistance"
>PipeManifoldFixedResistance</A>
</TD><TD>Pipe manifold for a heat exchanger connection</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExchaa9fb81743030c8a4tanceS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PipeManifoldNoResistance" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PipeManifoldNoResistance"
>PipeManifoldNoResistance</A>
</TD><TD>Manifold for heat exchanger register</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExchad07ce4b42389716cumberS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.RayleighNumber" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.RayleighNumber"
>RayleighNumber</A>
</TD><TD>Calculates the Rayleigh number for a given fluid and characteristic length</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha4939ff0ac917173cPointS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.appartusDewPoint" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.appartusDewPoint"
>appartusDewPoint</A>
</TD><TD>Computes the apparatus dewpoint temperature</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha4939ff0ac917173cPointS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.dynamicViscosityWater" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.dynamicViscosityWater"
>dynamicViscosityWater</A>
</TD><TD>Returns the dynamic viscosity for water</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha4939ff0ac917173cPointS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.epsilon_C" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.epsilon_C"
>epsilon_C</A>
</TD><TD>Computes heat exchanger effectiveness for given capacity flow rates and heat exchanger flow regime</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha4939ff0ac917173cPointS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.epsilon_ntuZ" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.epsilon_ntuZ"
>epsilon_ntuZ</A>
</TD><TD>Computes heat exchanger effectiveness for given number of transfer units and heat exchanger flow regime</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha4939ff0ac917173cPointS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.isobaricExpansionCoefficientWater" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.isobaricExpansionCoefficientWater"
>isobaricExpansionCoefficientWater</A>
</TD><TD>Returns the isobaric expansion coefficient for water</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha4939ff0ac917173cPointS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.ntu_epsilonZ" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.ntu_epsilonZ"
>ntu_epsilonZ</A>
</TD><TD>Computes number of transfer units for given heat exchanger effectiveness and heat exchanger flow regime</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha4939ff0ac917173cPointS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.lmtd" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.lmtd"
>lmtd</A>
</TD><TD>Log-mean temperature difference</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha4939ff0ac917173cPointS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.prandtlNumberWater" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.prandtlNumberWater"
>prandtlNumberWater</A>
</TD><TD>Returns the Prandtl number for water</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha5a4860f539224ae0ernalS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.Internal" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses_Internal.html#Buildings.Fluid.HeatExchangers.BaseClasses.Internal"
>Internal</A>
</TD><TD>Solve f(x, data) for x with given f</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.HeatExcha6d02710d93a3421amplesS.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.Examples" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses_Examples.html#Buildings.Fluid.HeatExchangers.BaseClasses.Examples"
>Examples</A>
</TD><TD>Collection of models that illustrate model use and test models</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE CoilHeader<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExcha2dc65984bd9ae1dceaderI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.CoilHeader" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.CoilHeader"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.CoilHeader</H2>
<B>Header for a heat exchanger register</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExcha2dc65984bd9ae1dceaderD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.CoilHeader">
<P></P><H3>Information</H3>

<p>
Header for a heat exchanger coil.
</p>
<p>
This model connects the flow between its ports without
modeling flow friction.
Currently, the ports are connected without redistributing
the flow. In latter versions, the model may be changed to define
different flow reroutings in the coil header.
</p>
<P></P>
Extends from <A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A> (Base icon).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Modelica.Media.Interfaces.Pa...</TD><TD>Medium in the component</TD></TR>
<TR><TD>Integer</TD><TD>nPipPar</TD><TD>&nbsp;</TD><TD>Number of parallel pipes in each register</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>mStart_flow_a</TD><TD>&nbsp;</TD><TD>Guess value for mass flow rate at port_a [kg/s]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Medium in the component</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a[nPipPar]</TD><TD>Fluid connector a for medium (positive design flow direction is from port_a to port_b)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b[nPipPar]</TD><TD>Fluid connector b for medium (positive design flow direction is from port_a to port_b)</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> CoilHeader <font color="darkgreen">&quot;Header for a heat exchanger register&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A>;

  <font color="blue">outer </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system <font color="darkgreen">&quot;System wide properties&quot;</font>;

  <font color="blue">replaceable </font><font color="blue">package</font> Medium =
      <A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>Modelica.Media.Interfaces.PartialMedium</A> <font color="darkgreen">&quot;Medium in the component&quot;</font>;
  <font color="blue">parameter </font>Boolean allowFlowReversal = system.allowFlowReversal <font color="darkgreen">
    &quot;= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)&quot;</font>;

  <font color="blue">parameter </font>Integer nPipPar(min=1) <font color="darkgreen">&quot;Number of parallel pipes in each register&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> mStart_flow_a <font color="darkgreen">
    &quot;Guess value for mass flow rate at port_a&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>Modelica.Fluid.Interfaces.FluidPort_a</A> port_a[nPipPar](
        <font color="blue">redeclare </font><font color="blue">each </font><font color="blue">final </font><font color="blue">package</font> Medium = Medium,
        <font color="blue">each </font>m_flow(start=mStart_flow_a/nPipPar, min=<font color="blue">if </font>allowFlowReversal<font color="blue"> then </font>-Modelica.Constants.inf<font color="blue"> else </font>0)) <font color="darkgreen">
    &quot;Fluid connector a for medium (positive design flow direction is from port_a to port_b)&quot;</font>;
    </textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>Modelica.Fluid.Interfaces.FluidPort_b</A> port_b[nPipPar](
        <font color="blue">redeclare </font><font color="blue">each </font><font color="blue">final </font><font color="blue">package</font> Medium = Medium,
        <font color="blue">each </font>m_flow(start=-mStart_flow_a/nPipPar, max=<font color="blue">if </font>allowFlowReversal<font color="blue"> then </font>+Modelica.Constants.inf<font color="blue"> else </font>0)) <font color="darkgreen">
    &quot;Fluid connector b for medium (positive design flow direction is from port_a to port_b)&quot;</font>;
    </textblock>

<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(port_a, port_b);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>CoilHeader;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE CoilRegister<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExcha6e1f7f06674c66f4isterI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.CoilRegister" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.CoilRegister"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.CoilRegister</H2>
<B>Register for a heat exchanger</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExcha6e1f7f06674c66f4isterD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.CoilRegister">
<P></P><H3>Information</H3>

<p>
Register of a heat exchanger with dynamics on the fluids and the solid. 
The register represents one array of pipes that are perpendicular to the
air stream.
The <i>hA</i> value for both fluids is an input.
The driving force for the heat transfer is the temperature difference
between the fluid volumes and the solid in each heat exchanger element.
</p>
<P></P>
Extends from <A HREF="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.FourPortFlowResistanceParameters"
>Buildings.Fluid.Interfaces.FourPortFlowResistanceParameters</A> (Parameters for flow resistance for models with four ports).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium1</TD><TD>Modelica.Media.Interfaces.Pa...</TD><TD>Medium 1 in the component</TD></TR>
<TR><TD colspan="2">replaceable package Medium2</TD><TD>Modelica.Media.Interfaces.Pa...</TD><TD>Medium 2 in the component</TD></TR>
<TR><TD>Integer</TD><TD>nPipPar</TD><TD>2</TD><TD>Number of parallel pipes in each register</TD></TR>
<TR><TD>Integer</TD><TD>nPipSeg</TD><TD>3</TD><TD>Number of pipe segments per register used for discretization</TD></TR>
<TR><TD><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HexElementSensible"
>HexElementSensible</A></TD><TD>ele[nPipPar, nPipSeg]</TD><TD>redeclare Buildings.Fluid.He...</TD><TD>Element of a heat exchanger</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp1_nominal</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp2_nominal</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</A></TD><TD>UA_nominal</TD><TD>&nbsp;</TD><TD>Thermal conductance at nominal flow, used to compute time constant [W/K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m1_flow_nominal</TD><TD>&nbsp;</TD><TD>Mass flow rate medim 1 [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m2_flow_nominal</TD><TD>&nbsp;</TD><TD>Mass flow rate medium 2 [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>tau1</TD><TD>20</TD><TD>Time constant at nominal flow for medium 1 [s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>tau2</TD><TD>1</TD><TD>Time constant at nominal flow for medium 2 [s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>tau_m</TD><TD>60</TD><TD>Time constant of metal at nominal UA value [s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Fluid 1</TD></TR>
<TR><TD>Boolean</TD><TD>steadyState_1</TD><TD>false</TD><TD>Set to true for steady state model for fluid 1</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Fluid 2</TD></TR>
<TR><TD>Boolean</TD><TD>steadyState_2</TD><TD>false</TD><TD>Set to true for steady state model for fluid 2</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Flow resistance</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 1</TD></TR>
<TR><TD>Boolean</TD><TD>computeFlowResistance1</TD><TD>true</TD><TD>=true, compute flow resistance. Set to false to assume no friction</TD></TR>
<TR><TD>Boolean</TD><TD>from_dp1</TD><TD>false</TD><TD>= true, use m_flow = f(dp) else dp = f(m_flow)</TD></TR>
<TR><TD>Boolean</TD><TD>linearizeFlowResistance1</TD><TD>false</TD><TD>= true, use linear relation between m_flow and dp for any flow rate</TD></TR>
<TR><TD>Real</TD><TD>deltaM1</TD><TD>0.1</TD><TD>Fraction of nominal flow rate where flow transitions to laminar</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 2</TD></TR>
<TR><TD>Boolean</TD><TD>computeFlowResistance2</TD><TD>true</TD><TD>=true, compute flow resistance. Set to false to assume no friction</TD></TR>
<TR><TD>Boolean</TD><TD>from_dp2</TD><TD>false</TD><TD>= true, use m_flow = f(dp) else dp = f(m_flow)</TD></TR>
<TR><TD>Boolean</TD><TD>linearizeFlowResistance2</TD><TD>false</TD><TD>= true, use linear relation between m_flow and dp for any flow rate</TD></TR>
<TR><TD>Real</TD><TD>deltaM2</TD><TD>0.1</TD><TD>Fraction of nominal flow rate where flow transitions to laminar</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal1</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal in medium 1, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal2</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal in medium 2, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Dynamics</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Equations</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics1</TD><TD>Modelica.Fluid.Types.Dynamic...</TD><TD>Default formulation of energy balances for volume 1</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics2</TD><TD>Modelica.Fluid.Types.Dynamic...</TD><TD>Default formulation of energy balances for volume 2</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium1</TD><TD>Medium 1 in the component</TD></TR>
<TR><TD colspan="2">replaceable package Medium2</TD><TD>Medium 2 in the component</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a1[nPipPar]</TD><TD>Fluid connector a for medium 1 (positive design flow direction is from port_a1 to port_b1)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b1[nPipPar]</TD><TD>Fluid connector b for medium 1 (positive design flow direction is from port_a to port_b)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a2[nPipPar, nPipSeg]</TD><TD>Fluid connector a for medium 2 (positive design flow direction is from port_a2 to port_b2)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b2[nPipPar, nPipSeg]</TD><TD>Fluid connector b for medium 2 (positive design flow direction is from port_a to port_b)</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>Gc_2</TD><TD>Signal representing the convective thermal conductance medium 2 in [W/K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>Gc_1</TD><TD>Signal representing the convective thermal conductance medium 1 in [W/K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> CoilRegister <font color="darkgreen">&quot;Register for a heat exchanger&quot;</font>
  <font color="blue">import </font><A HREF="../../msl/3.2/help/Modelica_Constants.html#Modelica.Constants"
>Modelica.Constants</A>;
  <font color="blue">extends </font><A HREF="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.FourPortFlowResistanceParameters"
>Buildings.Fluid.Interfaces.FourPortFlowResistanceParameters</A>(
     <font color="blue">final </font>computeFlowResistance1=true, <font color="blue">final </font>computeFlowResistance2=true);
  <font color="blue">replaceable </font><font color="blue">package</font> Medium1 =
      <A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>Modelica.Media.Interfaces.PartialMedium</A> <font color="darkgreen">&quot;Medium 1 in the component&quot;</font>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium2 =
      <A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>Modelica.Media.Interfaces.PartialMedium</A> <font color="darkgreen">&quot;Medium 2 in the component&quot;</font>;
  <font color="blue">outer </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system <font color="darkgreen">&quot;System wide properties&quot;</font>;

  <font color="blue">parameter </font>Boolean allowFlowReversal1 = system.allowFlowReversal <font color="darkgreen">
    &quot;= true to allow flow reversal in medium 1, false restricts to design direction (port_a -&gt; port_b)&quot;</font>;
  <font color="blue">parameter </font>Boolean allowFlowReversal2 = system.allowFlowReversal <font color="darkgreen">
    &quot;= true to allow flow reversal in medium 2, false restricts to design direction (port_a -&gt; port_b)&quot;</font>;

  <font color="blue">parameter </font>Integer nPipPar(min=1)=2 <font color="darkgreen">
    &quot;Number of parallel pipes in each register&quot;</font>;
  <font color="blue">parameter </font>Integer nPipSeg(min=1)=3 <font color="darkgreen">
    &quot;Number of pipe segments per register used for discretization&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer nEle = nPipPar * nPipSeg <font color="darkgreen">
    &quot;Number of heat exchanger elements&quot;</font>;

<textblock type="annotcomp" expanded="false">  <font color="blue">replaceable </font><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HexElementSensible"
>Buildings.Fluid.HeatExchangers.BaseClasses.HexElementSensible</A> ele[nPipPar, nPipSeg]
    <font color="blue">constrainedby </font>Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement(
    <font color="blue">redeclare </font><font color="blue">each </font><font color="blue">package</font> Medium1 = Medium1,
    <font color="blue">redeclare </font><font color="blue">each </font><font color="blue">package</font> Medium2 = Medium2,
    <font color="blue">each </font>allowFlowReversal1=allowFlowReversal1,
    <font color="blue">each </font>allowFlowReversal2=allowFlowReversal2,
    <font color="blue">each </font>tau1=tau1/nPipSeg,
    <font color="blue">each </font>m1_flow_nominal=m1_flow_nominal/nPipPar,
    <font color="blue">each </font>tau2=tau2,
    <font color="blue">each </font>m2_flow_nominal=m2_flow_nominal/nPipPar/nPipSeg,
    <font color="blue">each </font>tau_m=tau_m,
    <font color="blue">each </font>UA_nominal=UA_nominal/nPipPar/nPipSeg,
    <font color="blue">each </font>energyDynamics1=energyDynamics1,
    <font color="blue">each </font>energyDynamics2=energyDynamics2,
    <font color="blue">each </font>from_dp1=from_dp1,
    <font color="blue">each </font>linearizeFlowResistance1=linearizeFlowResistance1,
    <font color="blue">each </font>deltaM1=deltaM1,
    <font color="blue">each </font>from_dp2=from_dp2,
    <font color="blue">each </font>linearizeFlowResistance2=linearizeFlowResistance2,
    <font color="blue">each </font>deltaM2=deltaM2,
    <font color="blue">each </font>dp1_nominal=dp1_nominal,
    <font color="blue">each </font>dp2_nominal=dp2_nominal) <font color="darkgreen">&quot;Element of a heat exchanger&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>Modelica.Fluid.Interfaces.FluidPort_a</A>[nPipPar] port_a1(
        <font color="blue">redeclare </font><font color="blue">each </font><font color="blue">package</font> Medium = <A HREF="Buildings_Fluid_HeatExchangers_BaseClasses_Medium1.html#Buildings.Fluid.HeatExchangers.BaseClasses.CoilRegister.Medium1"
>Medium1</A>,
        <font color="blue">each </font>m_flow(start=0, min=<font color="blue">if </font>allowFlowReversal1<font color="blue"> then </font>-Constants.inf<font color="blue"> else </font>0)) <font color="darkgreen">
    &quot;Fluid connector a for medium 1 (positive design flow direction is from port_a1 to port_b1)&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>Modelica.Fluid.Interfaces.FluidPort_b</A>[nPipPar] port_b1(
        <font color="blue">redeclare </font><font color="blue">each </font><font color="blue">package</font> Medium = <A HREF="Buildings_Fluid_HeatExchangers_BaseClasses_Medium1.html#Buildings.Fluid.HeatExchangers.BaseClasses.CoilRegister.Medium1"
>Medium1</A>,
        <font color="blue">each </font>m_flow(start=0, max=<font color="blue">if </font>allowFlowReversal1<font color="blue"> then </font>+Constants.inf<font color="blue"> else </font>0)) <font color="darkgreen">
    &quot;Fluid connector b for medium 1 (positive design flow direction is from port_a to port_b)&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>Modelica.Fluid.Interfaces.FluidPort_a</A>[nPipPar,nPipSeg] port_a2(
        <font color="blue">redeclare </font><font color="blue">each </font><font color="blue">package</font> Medium = <A HREF="Buildings_Fluid_HeatExchangers_BaseClasses_Medium2.html#Buildings.Fluid.HeatExchangers.BaseClasses.CoilRegister.Medium2"
>Medium2</A>,
        <font color="blue">each </font>m_flow(start=0, min=<font color="blue">if </font>allowFlowReversal2<font color="blue"> then </font>-Constants.inf<font color="blue"> else </font>0)) <font color="darkgreen">
    &quot;Fluid connector a for medium 2 (positive design flow direction is from port_a2 to port_b2)&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>Modelica.Fluid.Interfaces.FluidPort_b</A>[nPipPar,nPipSeg] port_b2(
        <font color="blue">redeclare </font><font color="blue">each </font><font color="blue">package</font> Medium = <A HREF="Buildings_Fluid_HeatExchangers_BaseClasses_Medium2.html#Buildings.Fluid.HeatExchangers.BaseClasses.CoilRegister.Medium2"
>Medium2</A>,
        <font color="blue">each </font>m_flow(start=0, max=<font color="blue">if </font>allowFlowReversal2<font color="blue"> then </font>+Constants.inf<font color="blue"> else </font>0)) <font color="darkgreen">
    &quot;Fluid connector b for medium 2 (positive design flow direction is from port_a to port_b)&quot;</font>;
    </textblock>

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> UA_nominal <font color="darkgreen">
    &quot;Thermal conductance at nominal flow, used to compute time constant&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> m1_flow_nominal <font color="darkgreen">
    &quot;Mass flow rate medim 1&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> m2_flow_nominal <font color="darkgreen">
    &quot;Mass flow rate medium 2&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> tau1=20 <font color="darkgreen">
    &quot;Time constant at nominal flow for medium 1&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> tau2=1 <font color="darkgreen">
    &quot;Time constant at nominal flow for medium 2&quot;</font>;
  <font color="blue">parameter </font>Boolean steadyState_1=false <font color="darkgreen">
    &quot;Set to true for steady state model for fluid 1&quot;</font>;
  <font color="blue">parameter </font>Boolean steadyState_2=false <font color="darkgreen">
    &quot;Set to true for steady state model for fluid 2&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</A> Q1_flow <font color="darkgreen">
    &quot;Heat transfered from solid into medium 1&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</A> Q2_flow <font color="darkgreen">
    &quot;Heat transfered from solid into medium 2&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> tau_m=60 <font color="darkgreen">
    &quot;Time constant of metal at nominal UA value&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Modelica.Fluid.Types.Dynamics</A> energyDynamics1=
    Modelica.Fluid.Types.Dynamics.DynamicFreeInitial <font color="darkgreen">
    &quot;Default formulation of energy balances for volume 1&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Modelica.Fluid.Types.Dynamics</A> energyDynamics2=
    Modelica.Fluid.Types.Dynamics.DynamicFreeInitial <font color="darkgreen">
    &quot;Default formulation of energy balances for volume 2&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> Gc_2 <font color="darkgreen">
    &quot;Signal representing the convective thermal conductance medium 2 in [W/K]&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> Gc_1 <font color="darkgreen">
    &quot;Signal representing the convective thermal conductance medium 1 in [W/K]&quot;</font>;
<font color="blue">protected </font>
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</A> gai_1(k=1/nEle) <font color="darkgreen">
    &quot;Gain medium-side 1 to take discretization into account&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</A> gai_2(k=1/nEle) <font color="darkgreen">
    &quot;Gain medium-side 2 to take discretization into account&quot;</font>;</textblock>
<font color="blue">equation </font>
  Q1_flow =<font color="red"> sum</font>(ele[i,j].Q1_flow <font color="blue">for </font>i<font color="blue"> in </font>1:nPipPar, j<font color="blue"> in </font>1:nPipSeg);
  Q2_flow =<font color="red"> sum</font>(ele[i,j].Q2_flow <font color="blue">for </font>i<font color="blue"> in </font>1:nPipPar, j<font color="blue"> in </font>1:nPipSeg);
  <font color="blue">for </font>i<font color="blue"> in </font>1:nPipPar<font color="blue"> loop</font>
    <font color="darkgreen">// liquid side (pipes)</font>
<textblock type="annotconnect" expanded="false">    <font color="red">connect</font>(ele[i,1].port_a1,       port_a1[i]);
    <font color="red">connect</font>(ele[i,nPipSeg].port_b1, port_b1[i]);</textblock>
    <font color="blue">for </font>j<font color="blue"> in </font>1:nPipSeg-1<font color="blue"> loop</font>
<textblock type="annotconnect" expanded="false">      <font color="red">connect</font>(ele[i,j].port_b1, ele[i,j+1].port_a1);</textblock>
    <font color="blue">end for</font>;
    <font color="darkgreen">// gas side (duct)                                                                                      //water connections</font>
    <font color="blue">for </font>j<font color="blue"> in </font>1:nPipSeg<font color="blue"> loop</font>
<textblock type="annotconnect" expanded="false">      <font color="red">connect</font>(ele[i,j].port_a2, port_a2[i,j]);
      <font color="red">connect</font>(ele[i,j].port_b2, port_b2[i,j]);</textblock>
    <font color="blue">end for</font>;
  <font color="blue">end for</font>;

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(Gc_1, gai_1.u);
  <font color="red">connect</font>(Gc_2, gai_2.u);</textblock>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nPipPar<font color="blue"> loop</font>

     <font color="blue">for </font>j<font color="blue"> in </font>1:nPipSeg<font color="blue"> loop</font>
<textblock type="annotconnect" expanded="false">      <font color="red">connect</font>(gai_1.y, ele[i,j].Gc_1);
      <font color="red">connect</font>(gai_2.y, ele[i,j].Gc_2);</textblock>
     <font color="blue">end for</font>;
  <font color="blue">end for</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>CoilRegister;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE DuctManifoldFixedResistance<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExcha56c1cfbb2cf2d87btanceI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.DuctManifoldFixedResistance" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.DuctManifoldFixedResistance"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.DuctManifoldFixedResistance</H2>
<B>Manifold for a heat exchanger air duct connection</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExcha56c1cfbb2cf2d87btanceD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.DuctManifoldFixedResistance">
<P></P><H3>Information</H3>

<p>
Duct manifold with a fixed flow resistance.
</p>
<p>
This model causes the flow to be distributed equally
into each flow path by using a fixed flow resistance
for each flow path.
</p>
<P></P>
Extends from <A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctManifold"
>PartialDuctManifold</A> (Partial manifold for heat exchanger duct connection).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium in the component</TD></TR>
<TR><TD>Integer</TD><TD>nPipPar</TD><TD>&nbsp;</TD><TD>Number of parallel pipes in each register</TD></TR>
<TR><TD>Integer</TD><TD>nPipSeg</TD><TD>&nbsp;</TD><TD>Number of pipe segments per register used for discretization</TD></TR>
<TR><TD>Boolean</TD><TD>use_dh</TD><TD>false</TD><TD>Set to true to specify hydraulic diameter</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dh</TD><TD>1</TD><TD>Hydraulic diameter of duct [m]</TD></TR>
<TR><TD>Real</TD><TD>ReC</TD><TD>4000</TD><TD>Reynolds number where transition to turbulent starts</TD></TR>
<TR><TD>Real</TD><TD>deltaM</TD><TD>0.3</TD><TD>Fraction of nominal mass flow rate where transition to turbulent occurs</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dl</TD><TD>0.3</TD><TD>Length of mixing volume [m]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>mStart_flow_a</TD><TD>&nbsp;</TD><TD>Guess value for mass flow rate at port_a [kg/s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal Condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>&nbsp;</TD><TD>Mass flow rate at port_a [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp_nominal</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Advanced</B></TD></TR>
<TR><TD>Boolean</TD><TD>linearized</TD><TD>false</TD><TD>= true, use linear relation between m_flow and dp for any flow rate</TD></TR>
<TR><TD>Boolean</TD><TD>from_dp</TD><TD>false</TD><TD>= true, use m_flow = f(dp) else dp = f(m_flow)</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Dynamics</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Equations</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics</TD><TD>Modelica.Fluid.Types.Dynamic...</TD><TD>Default formulation of energy balances for volume</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a</TD><TD>Fluid connector a for medium (positive design flow direction is from port_a to port_b)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b[nPipPar, nPipSeg]</TD><TD>Fluid connector b for medium (positive design flow direction is from port_a to port_b)</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> DuctManifoldFixedResistance <font color="darkgreen">
  &quot;Manifold for a heat exchanger air duct connection&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctManifold"
>PartialDuctManifold</A>;

  <font color="blue">parameter </font>Boolean use_dh = false <font color="darkgreen">&quot;Set to true to specify hydraulic diameter&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> m_flow_nominal <font color="darkgreen">
    &quot;Mass flow rate at port_a&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</A> dp_nominal(min=0) <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> dh=1 <font color="darkgreen">&quot;Hydraulic diameter of duct&quot;</font>;
  <font color="blue">parameter </font>Real ReC=4000 <font color="darkgreen">
    &quot;Reynolds number where transition to turbulent starts&quot;</font>;
  <font color="blue">parameter </font>Boolean linearized = false <font color="darkgreen">
    &quot;= true, use linear relation between m_flow and dp for any flow rate&quot;</font>;
  <font color="blue">parameter </font>Real deltaM(min=0) = 0.3 <font color="darkgreen">
    &quot;Fraction of nominal mass flow rate where transition to turbulent occurs&quot;</font>;
  <font color="blue">parameter </font>Boolean from_dp = false <font color="darkgreen">
    &quot;= true, use m_flow = f(dp) else dp = f(m_flow)&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Fluid.FixedResistances.FixedResistanceDpM</A>[nPipPar,nPipSeg] fixRes(
    <font color="blue">redeclare </font><font color="blue">each </font><font color="blue">package</font> Medium = Medium,
    <font color="blue">each </font>m_flow_nominal=m_flow_nominal/nPipPar/nPipSeg,
    <font color="blue">each </font>m_flow(start=mStart_flow_a/nPipPar/nPipSeg),
    <font color="blue">each </font>dp_nominal=dp_nominal,
    <font color="blue">each </font>dh=dh/<font color="red">sqrt</font>(nPipPar*nPipSeg),
    <font color="blue">each </font>from_dp=from_dp,
    <font color="blue">each </font>deltaM=deltaM,
    <font color="blue">each </font>ReC=ReC,
    <font color="blue">each </font>use_dh=use_dh,
    <font color="blue">each </font>linearized=linearized) <font color="darkgreen">&quot;Fixed resistance for each duct&quot;</font>;</textblock>
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> dl = 0.3 <font color="darkgreen">&quot;Length of mixing volume&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Fluid.MixingVolumes.MixingVolume</A> vol(<font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    <font color="blue">final </font>V=dh*dh*dl,
    <font color="blue">final </font>nPorts=1+nPipPar*nPipSeg,
    <font color="blue">final </font>energyDynamics=energyDynamics,
    <font color="blue">final </font>massDynamics=energyDynamics,
    m_flow_nominal=m_flow_nominal);</textblock>
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Modelica.Fluid.Types.Dynamics</A> energyDynamics=
    Modelica.Fluid.Types.Dynamics.DynamicFreeInitial <font color="darkgreen">
    &quot;Default formulation of energy balances for volume&quot;</font>;
<font color="blue">equation </font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nPipPar<font color="blue"> loop</font>
    <font color="blue">for </font>j<font color="blue"> in </font>1:nPipSeg<font color="blue"> loop</font>
<textblock type="annotconnect" expanded="false">      <font color="red">connect</font>(vol.ports[1+(i-1)*nPipSeg+j], fixRes[i, j].port_a);</textblock>
    <font color="blue">end for</font>;
  <font color="blue">end for</font>;

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(port_a, vol.ports[1]);
  <font color="red">connect</font>(fixRes.port_b, port_b);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>DuctManifoldFixedResistance;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE DuctManifoldNoResistance<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExchada98fd043097efb4tanceI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.DuctManifoldNoResistance" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.DuctManifoldNoResistance"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.DuctManifoldNoResistance</H2>
<B>Duct manifold without resistance</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExchada98fd043097efb4tanceD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.DuctManifoldNoResistance">
<P></P><H3>Information</H3>

<p>
Duct manifold without flow resistance.
</p>
<p>
This model connects the flows between the ports without 
modeling flow friction. The model is used in conjunction with
a manifold which contains pressure drop elements and that
is added to the other side of the heat exchanger registers.
</p>
<P></P>
Extends from <A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctManifold"
>PartialDuctManifold</A> (Partial manifold for heat exchanger duct connection).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium in the component</TD></TR>
<TR><TD>Integer</TD><TD>nPipPar</TD><TD>&nbsp;</TD><TD>Number of parallel pipes in each register</TD></TR>
<TR><TD>Integer</TD><TD>nPipSeg</TD><TD>&nbsp;</TD><TD>Number of pipe segments per register used for discretization</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>mStart_flow_a</TD><TD>&nbsp;</TD><TD>Guess value for mass flow rate at port_a [kg/s]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a</TD><TD>Fluid connector a for medium (positive design flow direction is from port_a to port_b)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b[nPipPar, nPipSeg]</TD><TD>Fluid connector b for medium (positive design flow direction is from port_a to port_b)</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> DuctManifoldNoResistance <font color="darkgreen">&quot;Duct manifold without resistance&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctManifold"
>PartialDuctManifold</A>;

<font color="blue">equation </font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nPipPar<font color="blue"> loop</font>
    <font color="blue">for </font>j<font color="blue"> in </font>1:nPipSeg<font color="blue"> loop</font>
<textblock type="annotconnect" expanded="false">    <font color="red">connect</font>(port_a, port_b[i, j]);</textblock>
    <font color="blue">end for</font>;
  <font color="blue">end for</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>DuctManifoldNoResistance;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HACoilInside<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExcha7076bc547e015019nsideI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HACoilInside" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.HACoilInside"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.HACoilInside</H2>
<B>Calculates the hA value for water inside a coil</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExcha7076bc547e015019nsideD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HACoilInside">
<P></P><H3>Information</H3>

<p>
Model for convective heat transfer coefficients inside a coil.
Optionally, the convective heat transfer coefficient can
be computed as a function of temperature and mass flow rate.
</p>
<P></P>
Extends from <A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A> (Base icon).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>n</TD><TD>0.85</TD><TD>Water-side exponent for convective heat transfer coefficient, h proportional to m_flow^n</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>&nbsp;</TD><TD>Water mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</A></TD><TD>hA_nominal</TD><TD>&nbsp;</TD><TD>Convective heat transfer coefficient [W/K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_nominal</TD><TD>Modelica.SIunits.Conversions...</TD><TD>Nominal water temperature [K]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Advanced</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Modeling detail</TD></TR>
<TR><TD>Boolean</TD><TD>flowDependent</TD><TD>true</TD><TD>Set to false to make hA independent of mass flow rate</TD></TR>
<TR><TD>Boolean</TD><TD>temperatureDependent</TD><TD>true</TD><TD>Set to false to make hA independent of temperature</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>m_flow</TD><TD>Mass flow rate [kg/s]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>T</TD><TD>Temperature [K]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>hA</TD><TD>Inside convective heat transfer [W/K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> HACoilInside <font color="darkgreen">&quot;Calculates the hA value for water inside a coil&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> m_flow_nominal <font color="darkgreen">&quot;Water mass flow rate&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> m_flow(unit=&quot;kg/s&quot;) <font color="darkgreen">&quot;Mass flow rate&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> T(unit=&quot;K&quot;) <font color="darkgreen">&quot;Temperature&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> hA(unit=&quot;W/K&quot;) <font color="darkgreen">
    &quot;Inside convective heat transfer&quot;</font>;</textblock>

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> hA_nominal(min=0) <font color="darkgreen">
    &quot;Convective heat transfer coefficient&quot;</font>;
  <font color="blue">parameter </font>Real n(min=0, max=1)=0.85 <font color="darkgreen">
    &quot;Water-side exponent for convective heat transfer coefficient, h proportional to m_flow^n&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T_nominal=
          <font color="red">Modelica.SIunits.Conversions.from_degC</font>(20) <font color="darkgreen">
    &quot;Nominal water temperature&quot;</font>;
  <font color="blue">parameter </font>Boolean flowDependent=true <font color="darkgreen">
    &quot;Set to false to make hA independent of mass flow rate&quot;</font>;
  <font color="blue">parameter </font>Boolean temperatureDependent = true <font color="darkgreen">
    &quot;Set to false to make hA independent of temperature&quot;</font>;

<font color="blue">protected </font>
  Real x(min=0) <font color="darkgreen">
    &quot;Factor for temperature dependent variation of heat transfer coefficient&quot;</font>;
  <font color="blue">parameter </font>Real s(min=0, fixed=false) <font color="darkgreen">
    &quot;Coefficient for temperature dependence of heat transfer coefficient&quot;</font>;
  Real fm <font color="darkgreen">&quot;Fraction of actual to nominal mass flow rate&quot;</font>;

<font color="blue">initial </font><font color="blue">equation </font>
  s =  <font color="blue">if </font>temperatureDependent<font color="blue"> then </font>
            0.014/(1+0.014*<font color="red">Modelica.SIunits.Conversions.to_degC</font>(T_nominal))<font color="blue"> else </font>
              1;
<font color="blue">equation </font>
  fm = <font color="blue">if </font>flowDependent<font color="blue"> then </font>m_flow / m_flow_nominal<font color="blue"> else </font>1;
  x = <font color="blue">if </font>temperatureDependent<font color="blue"> then </font>1 + s * (T-T_nominal)<font color="blue"> else </font>1;
  <font color="blue">if </font>flowDependent<font color="blue"> and </font>temperatureDependent<font color="blue"> then</font>
    hA = x * hA_nominal *<font color="red"> Buildings.Utilities.Math.Functions.regNonZeroPower</font>(fm, n, 0.1);
  <font color="blue">elseif </font>flowDependent<font color="blue"> then</font>
    hA = hA_nominal *<font color="red"> Buildings.Utilities.Math.Functions.regNonZeroPower</font>(fm, n, 0.1);
  <font color="blue">elseif </font>temperatureDependent<font color="blue"> then</font>
    hA = x * hA_nominal;
  <font color="blue">else</font>
    hA = hA_nominal;
  <font color="blue">end if</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>HACoilInside;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HADryCoil<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExcha7670ce850aefe4cfyCoilI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.HADryCoil</H2>
<B>Sensible convective heat transfer model for air to water coil</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExcha7670ce850aefe4cfyCoilD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil">
<P></P><H3>Information</H3>

<p>
Model for sensible convective heat transfer coefficients for an air to water coil.
</p>
<p>
This model computes the convective heat transfer coefficient
for an air to water coil.
The parameters allow a user to enable or disable, individually
for each medium, the mass flow and/or the temperature dependence
of the convective heat transfer coefficients.
For a detailed explanation of the equation, see
the references below.
</p>
<h4>References</h4>
<ul>
<li>
Wetter Michael,
<A HREF="http://www.osti.gov/energycitations/product.biblio.jsp?osti_id=7353">
Simulation model finned water-air-coil without condensation</a>,
LBNL-42355,
Lawrence Berkeley National Laboratory,
Berkeley, CA, 1999.
</li>
<li>
Wetter Michael,
<A HREF="http://www.osti.gov/energycitations/product.biblio.jsp?osti_id=7352">
Simulation model air-to-air plate heat exchanger</A>,
LBNL-42354,
Lawrence Berkeley National Laboratory,
Berkeley, CA, 1999.
</li>
</ul>
<P></P>
Extends from <A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A> (Base icon).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>n_w</TD><TD>0.85</TD><TD>Water-side exponent for convective heat transfer coefficient, h~m_flow^n</TD></TR>
<TR><TD>Real</TD><TD>n_a</TD><TD>0.8</TD><TD>Air-side exponent for convective heat transfer coefficient, h~m_flow^n</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</A></TD><TD>UA_nominal</TD><TD>&nbsp;</TD><TD>Thermal conductance at nominal flow [W/K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal_w</TD><TD>&nbsp;</TD><TD>Water mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal_a</TD><TD>&nbsp;</TD><TD>Air mass flow rate [kg/s]</TD></TR>
<TR><TD>Real</TD><TD>r_nominal</TD><TD>0.5</TD><TD>Ratio between air-side and water-side convective heat transfer coefficient</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</A></TD><TD>hA_nominal_w</TD><TD>UA_nominal*(r_nominal + 1)/r...</TD><TD>Water side convective heat transfer coefficient [W/K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</A></TD><TD>hA_nominal_a</TD><TD>r_nominal*hA_nominal_w</TD><TD>Air side convective heat transfer coefficient, including fin resistance [W/K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T0_w</TD><TD>Modelica.SIunits.Conversions...</TD><TD>Water temperature [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T0_a</TD><TD>Modelica.SIunits.Conversions...</TD><TD>Air temperature [K]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Advanced</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Modeling detail</TD></TR>
<TR><TD>Boolean</TD><TD>waterSideFlowDependent</TD><TD>true</TD><TD>Set to false to make water-side hA independent of mass flow rate</TD></TR>
<TR><TD>Boolean</TD><TD>airSideFlowDependent</TD><TD>true</TD><TD>Set to false to make air-side hA independent of mass flow rate</TD></TR>
<TR><TD>Boolean</TD><TD>waterSideTemperatureDependent</TD><TD>true</TD><TD>Set to false to make water-side hA independent of temperature</TD></TR>
<TR><TD>Boolean</TD><TD>airSideTemperatureDependent</TD><TD>true</TD><TD>Set to false to make air-side hA independent of temperature</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>m1_flow</TD><TD>Mass flow rate medium 1</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>m2_flow</TD><TD>Mass flow rate medium 2</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>T_1</TD><TD>Temperature medium 1</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>T_2</TD><TD>Temperature medium 2</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>hA_1</TD><TD>Convective heat transfer medium 1</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>hA_2</TD><TD>Convective heat transfer medium 2</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> HADryCoil <font color="darkgreen">
  &quot;Sensible convective heat transfer model for air to water coil&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> UA_nominal(min=0) <font color="darkgreen">
    &quot;Thermal conductance at nominal flow&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> m_flow_nominal_w <font color="darkgreen">
    &quot;Water mass flow rate&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> m_flow_nominal_a <font color="darkgreen">&quot;Air mass flow rate&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> m1_flow <font color="darkgreen">&quot;Mass flow rate medium 1&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> m2_flow <font color="darkgreen">&quot;Mass flow rate medium 2&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> T_1 <font color="darkgreen">&quot;Temperature medium 1&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> T_2 <font color="darkgreen">&quot;Temperature medium 2&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> hA_1 <font color="darkgreen">
    &quot;Convective heat transfer medium 1&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> hA_2 <font color="darkgreen">
    &quot;Convective heat transfer medium 2&quot;</font>;</textblock>

  <font color="blue">parameter </font>Real r_nominal(min=0)=0.5 <font color="darkgreen">
    &quot;Ratio between air-side and water-side convective heat transfer coefficient&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> hA_nominal_w(min=0)=UA_nominal * (r_nominal+1)/r_nominal <font color="darkgreen">
    &quot;Water side convective heat transfer coefficient&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> hA_nominal_a(min=0)=r_nominal * hA_nominal_w <font color="darkgreen">
    &quot;Air side convective heat transfer coefficient, including fin resistance&quot;</font>;
  <font color="blue">parameter </font>Real n_w(min=0, max=1)=0.85 <font color="darkgreen">
    &quot;Water-side exponent for convective heat transfer coefficient, h~m_flow^n&quot;</font>;
  <font color="blue">parameter </font>Real n_a(min=0, max=1)=0.8 <font color="darkgreen">
    &quot;Air-side exponent for convective heat transfer coefficient, h~m_flow^n&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T0_w=
          <font color="red">Modelica.SIunits.Conversions.from_degC</font>(20) <font color="darkgreen">&quot;Water temperature&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T0_a=
          <font color="red">Modelica.SIunits.Conversions.from_degC</font>(20) <font color="darkgreen">&quot;Air temperature&quot;</font>;
  <font color="blue">parameter </font>Boolean waterSideFlowDependent=true <font color="darkgreen">
    &quot;Set to false to make water-side hA independent of mass flow rate&quot;</font>;
  <font color="blue">parameter </font>Boolean airSideFlowDependent = true <font color="darkgreen">
    &quot;Set to false to make air-side hA independent of mass flow rate&quot;</font>;
  <font color="blue">parameter </font>Boolean waterSideTemperatureDependent = true <font color="darkgreen">
    &quot;Set to false to make water-side hA independent of temperature&quot;</font>;
  <font color="blue">parameter </font>Boolean airSideTemperatureDependent = true <font color="darkgreen">
    &quot;Set to false to make air-side hA independent of temperature&quot;</font>;
<font color="blue">protected </font>
  Real x_a(min=0) <font color="darkgreen">
    &quot;Factor for air side temperature dependent variation of heat transfer coefficient&quot;</font>;
  Real x_w(min=0) <font color="darkgreen">
    &quot;Factor for water side temperature dependent variation of heat transfer coefficient&quot;</font>;
  <font color="blue">parameter </font>Real s_w(min=0, fixed=false) <font color="darkgreen">
    &quot;Coefficient for temperature dependence of water side heat transfer coefficient&quot;</font>;
  Real fm_w <font color="darkgreen">&quot;Fraction of actual to nominal mass flow rate&quot;</font>;
  Real fm_a <font color="darkgreen">&quot;Fraction of actual to nominal mass flow rate&quot;</font>;
<font color="blue">initial </font><font color="blue">equation </font>
  s_w =  <font color="blue">if </font>waterSideTemperatureDependent<font color="blue"> then </font>
            0.014/(1+0.014*<font color="red">Modelica.SIunits.Conversions.to_degC</font>(T0_w))<font color="blue"> else </font>
              1;
<font color="blue">equation </font>
  fm_w = <font color="blue">if </font>waterSideFlowDependent<font color="blue"> then </font>
              m1_flow / m_flow_nominal_w<font color="blue"> else </font>1;
  fm_a = <font color="blue">if </font>airSideFlowDependent<font color="blue"> then </font>
              m2_flow / m_flow_nominal_a<font color="blue"> else </font>1;
  x_w = <font color="blue">if </font>waterSideTemperatureDependent<font color="blue"> then </font>
         1 + s_w * (T_1-T0_w)<font color="blue"> else </font>
              1;
  x_a = <font color="blue">if </font>airSideTemperatureDependent<font color="blue"> then </font>
         1 + 4.769E-3 * (T_2-T0_a)<font color="blue"> else </font>
              1;
  <font color="blue">if </font>waterSideFlowDependent<font color="blue"> then</font>
    hA_1 = x_w * hA_nominal_w
               *<font color="red"> Buildings.Utilities.Math.Functions.regNonZeroPower</font>(fm_w, n_w, 0.1);
  <font color="blue">else</font>
    hA_1 = x_w * hA_nominal_w;
  <font color="blue">end if</font>;

  <font color="blue">if </font>airSideFlowDependent<font color="blue"> then</font>
    hA_2 = x_a * hA_nominal_a
               *<font color="red"> Buildings.Utilities.Math.Functions.regNonZeroPower</font>(fm_a, n_a, 0.1);
  <font color="blue">else</font>
    hA_2 = x_a * hA_nominal_a;
  <font color="blue">end if</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>HADryCoil;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HANaturalCylinder<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExchad881de7eba37d378inderI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HANaturalCylinder" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.HANaturalCylinder"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.HANaturalCylinder</H2>
<B>Calculates an hA value for natural convection around a cylinder</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExchad881de7eba37d378inderD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HANaturalCylinder">
<P></P><H3>Information</H3>

            <p>
            This model calculates the convection coefficient <i>h</i> for natural convection
            from a cylinder submerged in fluid. <i>h</i> is calcualted using Eq 9.34 from 
            Incropera and DeWitt (1996).
            Output of the block is the <i>hA</i> value.
            </p>
            <p>
            The Nusselt number is computed as
            </p>
            <p align="center" style="font-style:italic;">
            Nu<sub>D</sub> = (0.6 + (0.387 Ra<sub>D</sub><sup>(1/6)</sup>)/(1+(0.559 Pr)<sup>
            (9/16)</sup>)<sup>(8/27)</sup>)<sup>2</sup>);
            </p>
            <p>
            where <i>Nu<sub>D</sub></i> is the Nusselt number, <i>Ra<sub>D</sub></i> is the 
            Rayleigh number and 
            <i>Pr</i> is the Prandtl number.<br/>
            This correclation is accurate for <i>Ra<sub>D</sub></i> less than 10<sup>12</sup>.
            </p>
            <p>
            <i>h</i> is then calculated from the Nusselt number. The equation is
            </p>
            <p align="center" style="font-style:italic;">
            h = Nu<sub>D</sub> k/D
            </p>
            <p>
            where <i>k</i> is the thermal conductivity of the fluid and <i>D</i> is the diameter
            of the submerged cylinder.
            </p>
            <h4>References</h4>
            <p>
            Fundamentals of Heat and Mass Transfer (Fourth Edition), Frank Incropera and David 
            DeWitt, John Wiley and Sons, 1996
            </p>
            <P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Modelica.Media.Interfaces.Pa...</TD><TD>Partial medium model to be replaced with specific medium</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Diameter"
>Diameter</A></TD><TD>ChaLen</TD><TD>&nbsp;</TD><TD>Characteristic length of the cylinder [m]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</A></TD><TD>hA_nominal</TD><TD>&nbsp;</TD><TD>Convective heat transfer coefficient [W/K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>TFlu_nominal</TD><TD>&nbsp;</TD><TD>Fluid temperature at hA_nominal [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>TSur_nominal</TD><TD>&nbsp;</TD><TD>Surface temperature at hA_nominal [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Partial medium model to be replaced with specific medium</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TSur</TD><TD>Temperature of the external surface of the heat exchanger [K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TFlu</TD><TD>Temperature of the fluid in the heat exchanger [K]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>hA</TD><TD>hA-value of the heat exchanger [W/K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> HANaturalCylinder <font color="darkgreen">
  &quot;Calculates an hA value for natural convection around a cylinder&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium = <A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>Modelica.Media.Interfaces.PartialMedium</A> <font color="darkgreen">
    &quot;Partial medium model to be replaced with specific medium&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Diameter"
>Modelica.SIunits.Diameter</A> ChaLen <font color="darkgreen">
    &quot;Characteristic length of the cylinder&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> hA_nominal(min=0) <font color="darkgreen">
    &quot;Convective heat transfer coefficient&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> TFlu_nominal <font color="darkgreen">
    &quot;Fluid temperature at hA_nominal&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> TSur_nominal <font color="darkgreen">
    &quot;Surface temperature at hA_nominal&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TSur(unit = &quot;K&quot;) <font color="darkgreen">
    &quot;Temperature of the external surface of the heat exchanger&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TFlu(unit = &quot;K&quot;) <font color="darkgreen">
    &quot;Temperature of the fluid in the heat exchanger&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> hA(unit = &quot;W/K&quot;) <font color="darkgreen">
    &quot;hA-value of the heat exchanger&quot;</font>;</textblock>
  Real h(unit=&quot;W/(m2.K)&quot;) <font color="darkgreen">&quot;Convection coefficient&quot;</font>;
<font color="blue">protected </font>
  <font color="blue">parameter </font>Real Gr_nominal(fixed=false) <font color="darkgreen">&quot;Grashof number&quot;</font>;
  <font color="blue">parameter </font>Real B_nominal(unit=&quot;1/K&quot;, fixed=false) <font color="darkgreen">
    &quot;isobaricExpansionCoefficient&quot;</font>;
  <font color="blue">parameter </font>Real nu_nominal(unit = &quot;m2/s&quot;, fixed=false) <font color="darkgreen">
    &quot;Kinematic viscosity of the medium&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.DynamicViscosity"
>Modelica.SIunits.DynamicViscosity</A> mu_nominal(fixed=false) <font color="darkgreen">
    &quot;Dynamic viscosity of the medium&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Density"
>Modelica.SIunits.Density</A> rho_nominal(fixed=false) <font color="darkgreen">
    &quot;Density of the medium&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductivity"
>Modelica.SIunits.ThermalConductivity</A> k_nominal(fixed=false) <font color="darkgreen">
    &quot;Thermal conductivity of the fluid&quot;</font>;

  <font color="blue">parameter </font>Real Ra_nominal(fixed=false) <font color="darkgreen">&quot;Rayleigh number&quot;</font>;
  <font color="blue">parameter </font>Real Pr_nominal(fixed=false) <font color="darkgreen">&quot;Prandlt number&quot;</font>;
  <font color="blue">parameter </font>Real Nusselt_nominal(fixed=false) <font color="darkgreen">&quot;Nusselt number&quot;</font>;

  <font color="blue">parameter </font>Real h_nominal(unit=&quot;W/(m2.K)&quot;, fixed=false) <font color="darkgreen">
    &quot;Convection coefficient&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> A(fixed=false) <font color="darkgreen">
    &quot;Surface area, deduced from hA_nominal, fluid temperatures and characteristic length&quot;</font>;

  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductivity"
>Modelica.SIunits.ThermalConductivity</A> k <font color="darkgreen">&quot;Thermal conductivity of the fluid&quot;</font>;
  Real Gr <font color="darkgreen">&quot;Grashof number&quot;</font>;
  Real B(unit=&quot;1/K&quot;) <font color="darkgreen">&quot;isobaricExpansionCoefficient&quot;</font>;
  Real nu(unit = &quot;m2/s&quot;) <font color="darkgreen">&quot;Kinematic viscosity of the medium&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.DynamicViscosity"
>Modelica.SIunits.DynamicViscosity</A> mu <font color="darkgreen">&quot;Dynamic viscosity of the medium&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Density"
>Modelica.SIunits.Density</A> rho <font color="darkgreen">&quot;Density of the medium&quot;</font>;
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</A> g= Modelica.Constants.g_n <font color="darkgreen">
    &quot;Acceleration due to gravity&quot;</font>;

  Real Ra <font color="darkgreen">&quot;Rayleigh number&quot;</font>;
  Real Pr <font color="darkgreen">&quot;Prandlt number&quot;</font>;
  Real Nusselt <font color="darkgreen">&quot;Nusselt number&quot;</font>;

<textblock type="model" expanded="false" path="Buildings.Fluid.HeatExchangers.BaseClasses.HANaturalCylinder.nusselt"><font color="blue">function</font> nusselt
  <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductivity"
>Modelica.SIunits.ThermalConductivity</A> k <font color="darkgreen">&quot;Thermal conductivity&quot;</font>;
  <font color="blue">input </font>Real Pr <font color="darkgreen">&quot;Prandlt number&quot;</font>;
  <font color="blue">input </font>Real Ra <font color="darkgreen">&quot;Rayleigh number&quot;</font>;
  <font color="blue">output </font>Real Nu(min=0) <font color="darkgreen">&quot;Nusselt number&quot;</font>;
  <font color="blue">protected </font>
  Real num <font color="darkgreen">&quot;Numerator&quot;</font>;
  Real den <font color="darkgreen">&quot;Denominator&quot;</font>;
<font color="blue">algorithm </font>
  num := (0.387*<font color="red">Buildings.Utilities.Math.Functions.smoothMax</font>(Ra,1,0.1)^(1/6));
  den := ((1+(0.559/Pr)^(9/16))^(8/27));
  Nu := (0.6+num/den)^2;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>nusselt</textblock>;

<font color="blue">initial </font><font color="blue">equation </font>

  <font color="darkgreen">// Fluid properties</font>
  mu_nominal =<font color="red"> Buildings.Fluid.HeatExchangers.BaseClasses.dynamicViscosityWater</font>(
        T=  0.5 * (TSur_nominal+TFlu_nominal));
  rho_nominal =<font color="red"> Medium.density</font>(
        <font color="red">Medium.setState_pTX</font>(
          p=  Medium.p_default,
          T=  0.5*(TSur_nominal+TFlu_nominal),
          X=  Medium.X_default));
  Pr_nominal =<font color="red"> Buildings.Fluid.HeatExchangers.BaseClasses.prandtlNumberWater</font>(
          T=  0.5*(TSur_nominal+TFlu_nominal));

  B_nominal =<font color="red"> Buildings.Fluid.HeatExchangers.BaseClasses.isobaricExpansionCoefficientWater</font>(
          T=  0.5*(TSur_nominal+TFlu_nominal));
  nu_nominal = mu_nominal/rho_nominal;

  Gr_nominal = Modelica.Constants.g_n * B_nominal * (TSur_nominal -
  TFlu_nominal)*ChaLen^3/nu_nominal^2;
  Ra_nominal = Gr_nominal*Pr_nominal;
  <font color="darkgreen">// Convection coefficient</font>
  k_nominal =<font color="red"> Medium.thermalConductivity</font>(
    <font color="red">Medium.setState_pTX</font>(
    p=  Medium.p_default,
    T=  0.5*(TFlu_nominal+TSur_nominal),
    X=  Medium.X_default));
  Nusselt_nominal =<font color="red"> nusselt</font>(k=k_nominal, Pr=Pr_nominal, Ra=Ra_nominal);
  h_nominal = Nusselt_nominal * k_nominal/ChaLen;
  A = hA_nominal / h_nominal;
<font color="blue">equation </font>
  <font color="darkgreen">// Fluid properties</font>
  mu =<font color="red"> Buildings.Fluid.HeatExchangers.BaseClasses.dynamicViscosityWater</font>(
        T=  0.5 * (TSur+TFlu));
  rho =<font color="red"> Medium.density</font>(
        <font color="red">Medium.setState_pTX</font>(
          p=  Medium.p_default,
          T=  0.5*(TSur+TFlu),
          X=  Medium.X_default));
  Pr =<font color="red"> Buildings.Fluid.HeatExchangers.BaseClasses.prandtlNumberWater</font>(
          T=  0.5*(TSur+TFlu));

  B =<font color="red"> Buildings.Fluid.HeatExchangers.BaseClasses.isobaricExpansionCoefficientWater</font>(
          T=  0.5*(TSur+TFlu));
  nu = mu/rho;

  Gr = Modelica.Constants.g_n * B * (TSur - TFlu)*ChaLen^3/nu^2;
  Ra = Gr*Pr;
  <font color="darkgreen">// Convection coefficient</font>
  k =<font color="red"> Medium.thermalConductivity</font>(
    <font color="red">Medium.setState_pTX</font>(
    p=  Medium.p_default,
    T=  0.5*(TFlu+TSur),
    X=  Medium.X_default));
  Nusselt =<font color="red"> nusselt</font>(k=k, Pr=Pr, Ra=Ra);
  h = Nusselt * k/ChaLen;
  hA = h*A;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>HANaturalCylinder;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HexElementLatent<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExcha1b8f24e9b34cfd3aatentI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.HexElementLatent</H2>
<B>Element of a heat exchanger</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExcha1b8f24e9b34cfd3aatentD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent">
<P></P><H3>Information</H3>

<p>
Element of a heat exchanger with humidity condensation of fluid 2 and
with dynamics of the fluids and the solid. 
</p>
<p>
See 
<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement"
>
Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement</a>
for a description of the physics.
</p>
<P></P>
Extends from <A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement"
>Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement</A> (Element of a heat exchanger 2).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium1</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium 1 in the component</TD></TR>
<TR><TD colspan="2">replaceable package Medium2</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium 2 in the component</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.HeatCapacity"
>HeatCapacity</A></TD><TD>C</TD><TD>2*UA_nominal*tau_m</TD><TD>Heat capacity of metal (= cp*m) [J/K]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m1_flow_nominal</TD><TD>&nbsp;</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m2_flow_nominal</TD><TD>&nbsp;</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp1_nominal</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp2_nominal</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</A></TD><TD>UA_nominal</TD><TD>&nbsp;</TD><TD>Thermal conductance at nominal flow, used to compute time constant [W/K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>tau_m</TD><TD>60</TD><TD>Time constant of metal at nominal UA value [s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m1_flow.start</TD><TD>0</TD><TD>Mass flow rate from port_a1 to port_b1 (m1_flow &gt; 0 is design flow direction) [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp1.start</TD><TD>0</TD><TD>Pressure difference between port_a1 and port_b1 [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m2_flow.start</TD><TD>0</TD><TD>Mass flow rate from port_a2 to port_b2 (m2_flow &gt; 0 is design flow direction) [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp2.start</TD><TD>0</TD><TD>Pressure difference between port_a2 and port_b2 [Pa]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal1</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal in medium 1, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal2</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal in medium 2, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Advanced</B></TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m1_flow_small</TD><TD>1E-4*abs(m1_flow_nominal)</TD><TD>Small mass flow rate for regularization of zero flow [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m2_flow_small</TD><TD>1E-4*abs(m2_flow_nominal)</TD><TD>Small mass flow rate for regularization of zero flow [kg/s]</TD></TR>
<TR><TD>Boolean</TD><TD>homotopyInitialization</TD><TD>true</TD><TD>= true, use homotopy method</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Diagnostics</TD></TR>
<TR><TD>Boolean</TD><TD>show_T</TD><TD>false</TD><TD>= true, if actual temperature at port is computed</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Flow resistance</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 1</TD></TR>
<TR><TD>Boolean</TD><TD>from_dp1</TD><TD>false</TD><TD>= true, use m_flow = f(dp) else dp = f(m_flow)</TD></TR>
<TR><TD>Boolean</TD><TD>linearizeFlowResistance1</TD><TD>false</TD><TD>= true, use linear relation between m_flow and dp for any flow rate</TD></TR>
<TR><TD>Real</TD><TD>deltaM1</TD><TD>0.1</TD><TD>Fraction of nominal flow rate where flow transitions to laminar</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 2</TD></TR>
<TR><TD>Boolean</TD><TD>from_dp2</TD><TD>false</TD><TD>= true, use m_flow = f(dp) else dp = f(m_flow)</TD></TR>
<TR><TD>Boolean</TD><TD>linearizeFlowResistance2</TD><TD>false</TD><TD>= true, use linear relation between m_flow and dp for any flow rate</TD></TR>
<TR><TD>Real</TD><TD>deltaM2</TD><TD>0.1</TD><TD>Fraction of nominal flow rate where flow transitions to laminar</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Dynamics</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>tau1</TD><TD>30</TD><TD>Time constant at nominal flow [s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>tau2</TD><TD>30</TD><TD>Time constant at nominal flow [s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Equations</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics</TD><TD>Modelica.Fluid.Types.Dynamic...</TD><TD>Formulation of energy balance</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>massDynamics</TD><TD>energyDynamics</TD><TD>Formulation of mass balance</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics1</TD><TD>Modelica.Fluid.Types.Dynamic...</TD><TD>Default formulation of energy balances for volume 1</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics2</TD><TD>Modelica.Fluid.Types.Dynamic...</TD><TD>Default formulation of energy balances for volume 2</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Initialization</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 1</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p1_start</TD><TD>Medium1.p_default</TD><TD>Start value of pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T1_start</TD><TD>Medium1.T_default</TD><TD>Start value of temperature [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X1_start[Medium1.nX]</TD><TD>Medium1.X_default</TD><TD>Start value of mass fractions m_i/m [kg/kg]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C1_start[Medium1.nC]</TD><TD>fill(0, Medium1.nC)</TD><TD>Start value of trace substances</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C1_nominal[Medium1.nC]</TD><TD>fill(1E-2, Medium1.nC)</TD><TD>Nominal value of trace substances. (Set to typical order of magnitude.)</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 2</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p2_start</TD><TD>Medium2.p_default</TD><TD>Start value of pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T2_start</TD><TD>Medium2.T_default</TD><TD>Start value of temperature [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X2_start[Medium2.nX]</TD><TD>Medium2.X_default</TD><TD>Start value of mass fractions m_i/m [kg/kg]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C2_start[Medium2.nC]</TD><TD>fill(0, Medium2.nC)</TD><TD>Start value of trace substances</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C2_nominal[Medium2.nC]</TD><TD>fill(1E-2, Medium2.nC)</TD><TD>Nominal value of trace substances. (Set to typical order of magnitude.)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a1</TD><TD>Fluid connector a1 (positive design flow direction is from port_a1 to port_b1)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b1</TD><TD>Fluid connector b1 (positive design flow direction is from port_a1 to port_b1)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a2</TD><TD>Fluid connector a2 (positive design flow direction is from port_a2 to port_b2)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b2</TD><TD>Fluid connector b2 (positive design flow direction is from port_a2 to port_b2)</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>Gc_1</TD><TD>Signal representing the convective thermal conductance medium 1 in [W/K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>Gc_2</TD><TD>Signal representing the convective thermal conductance medium 2 in [W/K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> HexElementLatent <font color="darkgreen">&quot;Element of a heat exchanger&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement"
>Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement</A>(
    <font color="blue">redeclare </font><font color="blue">final </font><A HREF="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolumeMoistAir"
>Buildings.Fluid.MixingVolumes.MixingVolumeMoistAir</A> vol2(
      <font color="blue">final </font>energyDynamics=energyDynamics2,
      <font color="blue">final </font>massDynamics=energyDynamics2));

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.MassExchange"
>MassExchange</A> masExc(
     <font color="blue">redeclare </font><font color="blue">final </font><font color="blue">package</font> Medium=<A HREF="Buildings_Fluid_Interfaces_Medium2.html#Buildings.Fluid.Interfaces.FourPort.Medium2"
>Medium2</A>) <font color="darkgreen">&quot;Model for mass exchange&quot;</font>;
<font color="blue">protected </font>
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Sensors.html#Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor"
>Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor</A> temSen(
    T(<font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
      <font color="blue">final </font>unit = &quot;K&quot;, displayUnit = &quot;degC&quot;, min=0)) <font color="darkgreen">
    &quot;Temperature sensor of metal&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(temSen.T, masExc.TSur);
  <font color="red">connect</font>(masExc.mWat_flow, vol2.mWat_flow);
  <font color="red">connect</font>(masExc.TLiq, vol2.TWat);
  <font color="red">connect</font>(vol2.X_w, masExc.XInf);
  <font color="red">connect</font>(mas.port, temSen.port);
  <font color="red">connect</font>(Gc_2, masExc.Gc);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>HexElementLatent;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HexElementSensible<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExcha953a279e069b3fd1sibleI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HexElementSensible" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.HexElementSensible"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.HexElementSensible</H2>
<B>Element of a heat exchanger with humidity condensation of fluid 2</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExcha953a279e069b3fd1sibleD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.HexElementSensible">
<P></P><H3>Information</H3>

<p>
Element of a heat exchanger with humidity condensation and
with dynamics of the fluids and the solid. 
</p>
<p>
See 
<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement"
>
Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement</a>
for a description of the physics.
</p>
<P></P>
Extends from <A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement"
>Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement</A> (Element of a heat exchanger 2).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium1</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium 1 in the component</TD></TR>
<TR><TD colspan="2">replaceable package Medium2</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium 2 in the component</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.HeatCapacity"
>HeatCapacity</A></TD><TD>C</TD><TD>2*UA_nominal*tau_m</TD><TD>Heat capacity of metal (= cp*m) [J/K]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m1_flow_nominal</TD><TD>&nbsp;</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m2_flow_nominal</TD><TD>&nbsp;</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp1_nominal</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp2_nominal</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</A></TD><TD>UA_nominal</TD><TD>&nbsp;</TD><TD>Thermal conductance at nominal flow, used to compute time constant [W/K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>tau_m</TD><TD>60</TD><TD>Time constant of metal at nominal UA value [s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m1_flow.start</TD><TD>0</TD><TD>Mass flow rate from port_a1 to port_b1 (m1_flow &gt; 0 is design flow direction) [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp1.start</TD><TD>0</TD><TD>Pressure difference between port_a1 and port_b1 [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m2_flow.start</TD><TD>0</TD><TD>Mass flow rate from port_a2 to port_b2 (m2_flow &gt; 0 is design flow direction) [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp2.start</TD><TD>0</TD><TD>Pressure difference between port_a2 and port_b2 [Pa]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal1</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal in medium 1, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal2</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal in medium 2, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Advanced</B></TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m1_flow_small</TD><TD>1E-4*abs(m1_flow_nominal)</TD><TD>Small mass flow rate for regularization of zero flow [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m2_flow_small</TD><TD>1E-4*abs(m2_flow_nominal)</TD><TD>Small mass flow rate for regularization of zero flow [kg/s]</TD></TR>
<TR><TD>Boolean</TD><TD>homotopyInitialization</TD><TD>true</TD><TD>= true, use homotopy method</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Diagnostics</TD></TR>
<TR><TD>Boolean</TD><TD>show_T</TD><TD>false</TD><TD>= true, if actual temperature at port is computed</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Flow resistance</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 1</TD></TR>
<TR><TD>Boolean</TD><TD>from_dp1</TD><TD>false</TD><TD>= true, use m_flow = f(dp) else dp = f(m_flow)</TD></TR>
<TR><TD>Boolean</TD><TD>linearizeFlowResistance1</TD><TD>false</TD><TD>= true, use linear relation between m_flow and dp for any flow rate</TD></TR>
<TR><TD>Real</TD><TD>deltaM1</TD><TD>0.1</TD><TD>Fraction of nominal flow rate where flow transitions to laminar</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 2</TD></TR>
<TR><TD>Boolean</TD><TD>from_dp2</TD><TD>false</TD><TD>= true, use m_flow = f(dp) else dp = f(m_flow)</TD></TR>
<TR><TD>Boolean</TD><TD>linearizeFlowResistance2</TD><TD>false</TD><TD>= true, use linear relation between m_flow and dp for any flow rate</TD></TR>
<TR><TD>Real</TD><TD>deltaM2</TD><TD>0.1</TD><TD>Fraction of nominal flow rate where flow transitions to laminar</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Dynamics</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>tau1</TD><TD>30</TD><TD>Time constant at nominal flow [s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>tau2</TD><TD>30</TD><TD>Time constant at nominal flow [s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Equations</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics</TD><TD>Modelica.Fluid.Types.Dynamic...</TD><TD>Formulation of energy balance</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>massDynamics</TD><TD>energyDynamics</TD><TD>Formulation of mass balance</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics1</TD><TD>Modelica.Fluid.Types.Dynamic...</TD><TD>Default formulation of energy balances for volume 1</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics2</TD><TD>Modelica.Fluid.Types.Dynamic...</TD><TD>Default formulation of energy balances for volume 2</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Initialization</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 1</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p1_start</TD><TD>Medium1.p_default</TD><TD>Start value of pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T1_start</TD><TD>Medium1.T_default</TD><TD>Start value of temperature [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X1_start[Medium1.nX]</TD><TD>Medium1.X_default</TD><TD>Start value of mass fractions m_i/m [kg/kg]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C1_start[Medium1.nC]</TD><TD>fill(0, Medium1.nC)</TD><TD>Start value of trace substances</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C1_nominal[Medium1.nC]</TD><TD>fill(1E-2, Medium1.nC)</TD><TD>Nominal value of trace substances. (Set to typical order of magnitude.)</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 2</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p2_start</TD><TD>Medium2.p_default</TD><TD>Start value of pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T2_start</TD><TD>Medium2.T_default</TD><TD>Start value of temperature [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X2_start[Medium2.nX]</TD><TD>Medium2.X_default</TD><TD>Start value of mass fractions m_i/m [kg/kg]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C2_start[Medium2.nC]</TD><TD>fill(0, Medium2.nC)</TD><TD>Start value of trace substances</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C2_nominal[Medium2.nC]</TD><TD>fill(1E-2, Medium2.nC)</TD><TD>Nominal value of trace substances. (Set to typical order of magnitude.)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a1</TD><TD>Fluid connector a1 (positive design flow direction is from port_a1 to port_b1)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b1</TD><TD>Fluid connector b1 (positive design flow direction is from port_a1 to port_b1)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a2</TD><TD>Fluid connector a2 (positive design flow direction is from port_a2 to port_b2)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b2</TD><TD>Fluid connector b2 (positive design flow direction is from port_a2 to port_b2)</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>Gc_1</TD><TD>Signal representing the convective thermal conductance medium 1 in [W/K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>Gc_2</TD><TD>Signal representing the convective thermal conductance medium 2 in [W/K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> HexElementSensible <font color="darkgreen">
  &quot;Element of a heat exchanger with humidity condensation of fluid 2&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement"
>Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement</A>(
    <font color="blue">redeclare </font><font color="blue">final </font><A HREF="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</A> vol2(
        <font color="blue">final </font>energyDynamics=energyDynamics2,
        <font color="blue">final </font>massDynamics=energyDynamics2));

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>HexElementSensible;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE MassExchange<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExcha4f3d4227286e511changeI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.MassExchange" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.MassExchange"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.MassExchange</H2>
<B>Block to compute the latent heat transfer based on the Lewis number</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExcha4f3d4227286e511changeD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.MassExchange">
<P></P><H3>Information</H3>

<p>
This model computes the mass transfer based on similarity laws between
the convective sensible heat transfer coefficient and the mass transfer coefficient.
</p>
<p>
Using the Lewis number which is defined as the ratio between the heat and mass
diffusion coefficients, one can obtain the ratio between convection 
heat transfer coefficient <i>h</i> in (W/(m^2*K)) and
mass transfer coefficient <i>h<sub>m</sub></i> in (m/s) as follows:
</p>
<p align="center" style="font-style:italic;">
  h &frasl; h<sub>m</sub> = &rho;  c<sub>p</sub>  Le<sup>(1-n)</sup> &frasl;
 h<sub>m</sub>
</p>
<p>
where <i>&rho;</i> is the mass density,
<i>c<sub>p</sub></i> is the specific heat capacity
of the bulk medium and <i>n</i> is a coefficient from the boundary layer analysis, which
is typically <i>n=1/3</i>.
From this equation, we can compute the water vapor mass flow rate 
<i>n<sub>A</sub></i> in (kg/s) as
</p>
<p align="center" style="font-style:italic;">
  n<sub>A</sub> = G<sub>c</sub> &frasl; (c<sub>p</sub> Le<sup>(1-n)</sup>)
  (X<sub>s</sub> - X<sub>&#8734;</sub>),
</p>
<p>
where <i>G<sub>c</sub></i> is the sensible heat conductivity in (W/K) and 
<i>X<sub>s</sub></i> and 
<i>X<sub>&#8734;</sub></i> are the water vapor mass per unit volume 
in the boundary layer and in the 
bulk of the medium. In this model, 
<i>X<sub>s</sub></i> is the saturation water vapor pressure
corresponding to the temperature <i>T<sub>sur</sub></i> which is an input.
</p>
<P></P>
Extends from <A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A> (Base icon).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Modelica.Media.Interfaces.Pa...</TD><TD>Fluid medium model</TD></TR>
<TR><TD>Real</TD><TD>Le</TD><TD>1</TD><TD>Lewis number (around 1 for water vapor in air)</TD></TR>
<TR><TD>Real</TD><TD>n</TD><TD>1/3</TD><TD>Exponent in bondary layer ratio, delta/delta_t = Pr^n</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Fluid medium model</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>XInf</TD><TD>Water mass fraction of medium</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TSur</TD><TD>Surface temperature [K]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>mWat_flow</TD><TD>Water flow rate [kg/s]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>TLiq</TD><TD>Temperature at which condensate drains from system [K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>Gc</TD><TD>Signal representing the convective (sensible) thermal conductance in [W/K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> MassExchange <font color="darkgreen">
  &quot;Block to compute the latent heat transfer based on the Lewis number&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium = <A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>Modelica.Media.Interfaces.PartialMedium</A> <font color="darkgreen">
    &quot;Fluid medium model&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> XInf <font color="darkgreen">&quot;Water mass fraction of medium&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TSur(<font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
                                            <font color="blue">final </font>unit = &quot;K&quot;, displayUnit = &quot;degC&quot;, min=0) <font color="darkgreen">
    &quot;Surface temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> mWat_flow(<font color="blue">final </font>unit = &quot;kg/s&quot;) <font color="darkgreen">
    &quot;Water flow rate&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> TLiq(<font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
                                             <font color="blue">final </font>unit = &quot;K&quot;, displayUnit = &quot;degC&quot;, min=0) <font color="darkgreen">
    &quot;Temperature at which condensate drains from system&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> Gc <font color="darkgreen">
    &quot;Signal representing the convective (sensible) thermal conductance in [W/K]&quot;</font>;</textblock>
  <font color="blue">parameter </font>Real Le = 1 <font color="darkgreen">&quot;Lewis number (around 1 for water vapor in air)&quot;</font>;
  <font color="blue">parameter </font>Real n = 1/3 <font color="darkgreen">
    &quot;Exponent in bondary layer ratio, delta/delta_t = Pr^n&quot;</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">public </font>
  <A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics.X_pW"
>Buildings.Utilities.Psychrometrics.X_pW</A> humRatPre(use_p_in=false) <font color="darkgreen">
    &quot;Model to convert water vapor pressure into humidity ratio&quot;</font>;
  <A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics.pW_TDewPoi"
>Buildings.Utilities.Psychrometrics.pW_TDewPoi</A> TDewPoi <font color="darkgreen">
    &quot;Model to compute the water vapor pressure at the dew point&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</A> gain(k=1/cpLe_default) <font color="darkgreen">
    &quot;Constant to convert from heat transfer to mass transfer&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Product"
>Modelica.Blocks.Math.Product</A> mWat <font color="darkgreen">&quot;Water flow rate&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Min"
>Modelica.Blocks.Math.Min</A> min;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> zero(k=0) <font color="darkgreen">&quot;Constant for zero&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</A> delX(k2=-1, k1=1) <font color="darkgreen">&quot;Humidity difference&quot;</font>;</textblock>
<font color="blue">protected </font>
 <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>Medium.ThermodynamicState</A> sta_default =<font color="red"> Medium.setState_phX</font>(h=Medium.h_default,
       p=Medium.p_default, X=Medium.X_default);
 <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>Modelica.SIunits.SpecificHeatCapacity</A> cp_default=<font color="red">Medium.specificHeatCapacityCp</font>(sta_default) <font color="darkgreen">
    &quot;Density, used to compute fluid volume&quot;</font>;
 <font color="blue">parameter </font>Real cpLe_default(unit=&quot;J/(kg.K)&quot;) = cp_default * Le^(1-n);
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(TSur, TDewPoi.T);
  <font color="red">connect</font>(TDewPoi.p_w, humRatPre.p_w);
  <font color="red">connect</font>(TSur, TLiq);
  <font color="red">connect</font>(Gc, gain.u);
  <font color="red">connect</font>(gain.y, mWat.u2);
  <font color="red">connect</font>(mWat.y, mWat_flow);
  <font color="red">connect</font>(zero.y,min. u1);
  <font color="red">connect</font>(delX.u2,XInf);
  <font color="red">connect</font>(humRatPre.X_w, delX.u1);
  <font color="red">connect</font>(delX.y, min.u2);
  <font color="red">connect</font>(min.y, mWat.u1);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>MassExchange;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialEffectiveness<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExcha58f2ae39d7b1a5d3enessI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialEffectiveness" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.PartialEffectiveness"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.PartialEffectiveness</H2>
<B>Partial model to implement heat exchangers based on effectiveness model</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExcha58f2ae39d7b1a5d3enessD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialEffectiveness">
<P></P><H3>Information</H3>

<p>
Partial model to implement heat exchanger models.
</p>
<p>
Classes that extend this model need to implement heat and 
mass balance equations in a form like
</p>
<pre>
  // transfered heat
  Q1_flow = eps * QMax_flow;
  // no heat loss to ambient
  0 = Q1_flow + Q2_flow;
  // no mass exchange
  mXi1_flow = zeros(Medium1.nXi);
  mXi2_flow = zeros(Medium2.nXi);
</pre>
<p>
Thus, if medium 1 is heated in this device, then <code>Q1_flow &gt; 0</code>
and <code>QMax_flow &gt; 0</code>.
</p>
<P></P>
Extends from <A HREF="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.StaticFourPortHeatMassExchanger"
>Fluid.Interfaces.StaticFourPortHeatMassExchanger</A> (Partial model transporting two fluid streams between four ports without storing mass or energy).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium1</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium 1 in the component</TD></TR>
<TR><TD colspan="2">replaceable package Medium2</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium 2 in the component</TD></TR>
<TR><TD>Boolean</TD><TD>sensibleOnly1</TD><TD>&nbsp;</TD><TD>Set to true if sensible exchange only for medium 1</TD></TR>
<TR><TD>Boolean</TD><TD>sensibleOnly2</TD><TD>&nbsp;</TD><TD>Set to true if sensible exchange only for medium 2</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m1_flow_nominal</TD><TD>&nbsp;</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m2_flow_nominal</TD><TD>&nbsp;</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp1_nominal</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp2_nominal</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m1_flow.start</TD><TD>0</TD><TD>Mass flow rate from port_a1 to port_b1 (m1_flow &gt; 0 is design flow direction) [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp1.start</TD><TD>0</TD><TD>Pressure difference between port_a1 and port_b1 [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m2_flow.start</TD><TD>0</TD><TD>Mass flow rate from port_a2 to port_b2 (m2_flow &gt; 0 is design flow direction) [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp2.start</TD><TD>0</TD><TD>Pressure difference between port_a2 and port_b2 [Pa]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal1</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal in medium 1, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal2</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal in medium 2, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Advanced</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h_outflow_a1_start</TD><TD>Medium1.h_default</TD><TD>Start value for enthalpy flowing out of port a1 [J/kg]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h_outflow_b1_start</TD><TD>Medium1.h_default</TD><TD>Start value for enthalpy flowing out of port b1 [J/kg]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h_outflow_a2_start</TD><TD>Medium2.h_default</TD><TD>Start value for enthalpy flowing out of port a2 [J/kg]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h_outflow_b2_start</TD><TD>Medium2.h_default</TD><TD>Start value for enthalpy flowing out of port b2 [J/kg]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m1_flow_small</TD><TD>1E-4*abs(m1_flow_nominal)</TD><TD>Small mass flow rate for regularization of zero flow [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m2_flow_small</TD><TD>1E-4*abs(m2_flow_nominal)</TD><TD>Small mass flow rate for regularization of zero flow [kg/s]</TD></TR>
<TR><TD>Boolean</TD><TD>homotopyInitialization</TD><TD>true</TD><TD>= true, use homotopy method</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Diagnostics</TD></TR>
<TR><TD>Boolean</TD><TD>show_T</TD><TD>false</TD><TD>= true, if actual temperature at port is computed</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Flow resistance</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 1</TD></TR>
<TR><TD>Boolean</TD><TD>from_dp1</TD><TD>false</TD><TD>= true, use m_flow = f(dp) else dp = f(m_flow)</TD></TR>
<TR><TD>Boolean</TD><TD>linearizeFlowResistance1</TD><TD>false</TD><TD>= true, use linear relation between m_flow and dp for any flow rate</TD></TR>
<TR><TD>Real</TD><TD>deltaM1</TD><TD>0.1</TD><TD>Fraction of nominal flow rate where flow transitions to laminar</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 2</TD></TR>
<TR><TD>Boolean</TD><TD>from_dp2</TD><TD>false</TD><TD>= true, use m_flow = f(dp) else dp = f(m_flow)</TD></TR>
<TR><TD>Boolean</TD><TD>linearizeFlowResistance2</TD><TD>false</TD><TD>= true, use linear relation between m_flow and dp for any flow rate</TD></TR>
<TR><TD>Real</TD><TD>deltaM2</TD><TD>0.1</TD><TD>Fraction of nominal flow rate where flow transitions to laminar</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a1</TD><TD>Fluid connector a1 (positive design flow direction is from port_a1 to port_b1)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b1</TD><TD>Fluid connector b1 (positive design flow direction is from port_a1 to port_b1)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a2</TD><TD>Fluid connector a2 (positive design flow direction is from port_a2 to port_b2)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b2</TD><TD>Fluid connector b2 (positive design flow direction is from port_a2 to port_b2)</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">partial </font><font color="blue">model</font> PartialEffectiveness <font color="darkgreen">
  &quot;Partial model to implement heat exchangers based on effectiveness model&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.StaticFourPortHeatMassExchanger"
>Fluid.Interfaces.StaticFourPortHeatMassExchanger</A>(show_T=false);

  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T_in1 <font color="darkgreen">&quot;Inlet temperature medium 1&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T_in2 <font color="darkgreen">&quot;Inlet temperature medium 2&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> C1_flow <font color="darkgreen">
    &quot;Heat capacity flow rate medium 1&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> C2_flow <font color="darkgreen">
    &quot;Heat capacity flow rate medium 2&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> CMin_flow(min=0) <font color="darkgreen">
    &quot;Minimum heat capacity flow rate&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</A> QMax_flow <font color="darkgreen">
    &quot;Maximum heat flow rate into medium 1&quot;</font>;
<font color="blue">protected </font>
  <font color="blue">parameter </font>Real delta=1E-3 <font color="darkgreen">&quot;Parameter used for smoothing&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>Modelica.SIunits.SpecificHeatCapacity</A> cp1_default(fixed=false) <font color="darkgreen">
    &quot;Specific heat capacity of medium 1 at default medium state&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>Modelica.SIunits.SpecificHeatCapacity</A> cp2_default(fixed=false) <font color="darkgreen">
    &quot;Specific heat capacity of medium 2 at default medium state&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> CMin_flow_small(fixed=false) <font color="darkgreen">
    &quot;Small value for smoothing of minimum heat capacity flow rate&quot;</font>;
  Real fra_a1(min=0, max=1) <font color="darkgreen">
    &quot;Fraction of incoming state taken from port a2 (used to avoid excessive calls to regStep)&quot;</font>;
  Real fra_b1(min=0, max=1) <font color="darkgreen">
    &quot;Fraction of incoming state taken from port b2 (used to avoid excessive calls to regStep)&quot;</font>;
  Real fra_a2(min=0, max=1) <font color="darkgreen">
    &quot;Fraction of incoming state taken from port a2 (used to avoid excessive calls to regStep)&quot;</font>;
  Real fra_b2(min=0, max=1) <font color="darkgreen">
    &quot;Fraction of incoming state taken from port b2 (used to avoid excessive calls to regStep)&quot;</font>;
<font color="blue">initial </font><font color="blue">equation </font>
  cp1_default =<font color="red"> Medium1.specificHeatCapacityCp</font>(<font color="red">Medium1.setState_pTX</font>(
    Medium1.p_default,
    Medium1.T_default,
    Medium1.X_default));
  cp2_default =<font color="red"> Medium2.specificHeatCapacityCp</font>(<font color="red">Medium2.setState_pTX</font>(
    Medium2.p_default,
    Medium2.T_default,
    Medium2.X_default));
  CMin_flow_small =<font color="red"> min</font>(m1_flow_small*cp1_default, m2_flow_small*cp2_default);
<font color="blue">equation </font>
  <font color="blue">if </font>allowFlowReversal2<font color="blue"> then</font>
    fra_a2 =<font color="red"> Modelica.Fluid.Utilities.regStep</font>(
      m2_flow,
      1,
      0,
      m2_flow_small);
    fra_b2 = 1-fra_a2;
  <font color="blue">else</font>
    fra_a2 = 1;
    fra_b2 = 0;
  <font color="blue">end if</font>;
  <font color="blue">if </font>allowFlowReversal1<font color="blue"> then</font>
    fra_a1 =<font color="red"> Modelica.Fluid.Utilities.regStep</font>(
      m1_flow,
      1,
      0,
      m1_flow_small);
    fra_b1 = 1-fra_a1;
  <font color="blue">else</font>
    fra_a1 = 1;
    fra_b1 = 0;
  <font color="blue">end if</font>;

  <font color="darkgreen">/////////////////////////////////////////////////////////</font>
  <font color="darkgreen">// Definitions for heat transfer effectiveness model</font>
  T_in1 = <font color="blue">if </font>allowFlowReversal1<font color="blue"> then </font>
    fra_a1 *<font color="red"> Medium1.temperature</font>(state_a1_inflow) + fra_b1 *<font color="red"> Medium1.temperature</font>(state_b1_inflow)<font color="blue"> else </font>
    <font color="red">Medium1.temperature</font>(state_a1_inflow);
  T_in2 = <font color="blue">if </font>allowFlowReversal2<font color="blue"> then </font>
    fra_a2 *<font color="red"> Medium2.temperature</font>(state_a2_inflow) + fra_b2 *<font color="red"> Medium2.temperature</font>(state_b2_inflow)<font color="blue"> else </font>
    <font color="red">Medium2.temperature</font>(state_a2_inflow);

  C1_flow =<font color="red"> abs</font>(m1_flow)*
    ( <font color="blue">if </font>allowFlowReversal1<font color="blue"> then </font>
           fra_a1 *<font color="red"> Medium1.specificHeatCapacityCp</font>(state_a1_inflow) +
           fra_b1 *<font color="red"> Medium1.specificHeatCapacityCp</font>(state_b1_inflow)<font color="blue"> else </font>
        <font color="red">Medium1.specificHeatCapacityCp</font>(state_a1_inflow));
  C2_flow =<font color="red"> abs</font>(m2_flow)*
    ( <font color="blue">if </font>allowFlowReversal2<font color="blue"> then </font>
           fra_a2 *<font color="red"> Medium2.specificHeatCapacityCp</font>(state_a2_inflow) +
           fra_b2 *<font color="red"> Medium2.specificHeatCapacityCp</font>(state_b2_inflow)<font color="blue"> else </font>
        <font color="red">Medium2.specificHeatCapacityCp</font>(state_a2_inflow));
  CMin_flow =<font color="red"> min</font>(C1_flow, C2_flow);

  <font color="darkgreen">// QMax_flow is maximum heat transfer into medium 1</font>
  QMax_flow = CMin_flow*(T_in2 - T_in1);

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>PartialEffectiveness;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialHexElement<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExchad2ea9b0e609271e2ementI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.PartialHexElement</H2>
<B>Element of a heat exchanger 2</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExchad2ea9b0e609271e2ementD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialHexElement">
<P></P><H3>Information</H3>

<p>
Element of a heat exchanger 
with dynamics of the fluids and the solid. 
The <i>hA</i> value for both fluids is an input.
The driving force for the heat transfer is the temperature difference
between the fluid volumes and the solid.
</p>
<p>
The heat capacity <i>C</i> of the metal is assigned as follows.
Suppose the metal temperature is governed by
</p>
<p align="center" style="font-style:italic;">
  C dT &frasl; dt = (hA)<sub>1</sub> (T<sub>1</sub> - T)
  + (hA)<sub>2</sub> (T<sub>2</sub> - T)
</p>
<p>
where <i>hA</i> are the convective heat transfer coefficients times 
heat transfer area that also take
into account heat conduction in the heat exchanger fins and
<i>T<sub>1</sub></i> and <i>T<sub>2</sub></i> are the medium temperatures.
Assuming <i>(hA)<sub>1</sub>=(hA)<sub>2</sub></i>, 
this equation can be rewritten as
</p>
<p align="center" style="font-style:italic;">
  C dT &frasl; dt =
  2 (UA)<sub>0</sub> ( (T<sub>1</sub> - T) + (T<sub>2</sub> - T) )

</p>
<p>
where <i>(UA)<sub>0</sub></i> is the <i>UA</i> value at nominal conditions. 
Hence we set the heat capacity of the metal 
to
</p>
<p align="center" style="font-style:italic;">
C = 2 (UA)<sub>0</sub> &tau;<sub>m</sub>
</p>
<p>
where <i>&tau;<sub>m</sub></i> is the time constant that the metal
of the heat exchanger has if the metal is approximated by a lumped
thermal mass.
</p>
<p>
<b>Note:</b> This model is introduced to allow the instances
<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent"
>
Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent
</a>
and
<A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HexElementSensible"
>
Buildings.Fluid.HeatExchangers.BaseClasses.HexElementSensible
</a>
to redeclare the volume as <code>final</code>, thereby avoiding
that a GUI displays the volume as a replaceable component.
</p>
<P></P>
Extends from <A HREF="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.FourPortHeatMassExchanger"
>Buildings.Fluid.Interfaces.FourPortHeatMassExchanger</A> (Model transporting two fluid streams between four ports with storing mass or energy).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium1</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium 1 in the component</TD></TR>
<TR><TD colspan="2">replaceable package Medium2</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium 2 in the component</TD></TR>
<TR><TD><A HREF="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>MixingVolume</A></TD><TD>vol2</TD><TD>redeclare Buildings.Fluid.Mi...</TD><TD>Volume for fluid 2</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.HeatCapacity"
>HeatCapacity</A></TD><TD>C</TD><TD>2*UA_nominal*tau_m</TD><TD>Heat capacity of metal (= cp*m) [J/K]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m1_flow_nominal</TD><TD>&nbsp;</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m2_flow_nominal</TD><TD>&nbsp;</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp1_nominal</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp2_nominal</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</A></TD><TD>UA_nominal</TD><TD>&nbsp;</TD><TD>Thermal conductance at nominal flow, used to compute time constant [W/K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>tau_m</TD><TD>60</TD><TD>Time constant of metal at nominal UA value [s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m1_flow.start</TD><TD>0</TD><TD>Mass flow rate from port_a1 to port_b1 (m1_flow &gt; 0 is design flow direction) [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp1.start</TD><TD>0</TD><TD>Pressure difference between port_a1 and port_b1 [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m2_flow.start</TD><TD>0</TD><TD>Mass flow rate from port_a2 to port_b2 (m2_flow &gt; 0 is design flow direction) [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp2.start</TD><TD>0</TD><TD>Pressure difference between port_a2 and port_b2 [Pa]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal1</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal in medium 1, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal2</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal in medium 2, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Advanced</B></TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m1_flow_small</TD><TD>1E-4*abs(m1_flow_nominal)</TD><TD>Small mass flow rate for regularization of zero flow [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m2_flow_small</TD><TD>1E-4*abs(m2_flow_nominal)</TD><TD>Small mass flow rate for regularization of zero flow [kg/s]</TD></TR>
<TR><TD>Boolean</TD><TD>homotopyInitialization</TD><TD>true</TD><TD>= true, use homotopy method</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Diagnostics</TD></TR>
<TR><TD>Boolean</TD><TD>show_T</TD><TD>false</TD><TD>= true, if actual temperature at port is computed</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Flow resistance</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 1</TD></TR>
<TR><TD>Boolean</TD><TD>from_dp1</TD><TD>false</TD><TD>= true, use m_flow = f(dp) else dp = f(m_flow)</TD></TR>
<TR><TD>Boolean</TD><TD>linearizeFlowResistance1</TD><TD>false</TD><TD>= true, use linear relation between m_flow and dp for any flow rate</TD></TR>
<TR><TD>Real</TD><TD>deltaM1</TD><TD>0.1</TD><TD>Fraction of nominal flow rate where flow transitions to laminar</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 2</TD></TR>
<TR><TD>Boolean</TD><TD>from_dp2</TD><TD>false</TD><TD>= true, use m_flow = f(dp) else dp = f(m_flow)</TD></TR>
<TR><TD>Boolean</TD><TD>linearizeFlowResistance2</TD><TD>false</TD><TD>= true, use linear relation between m_flow and dp for any flow rate</TD></TR>
<TR><TD>Real</TD><TD>deltaM2</TD><TD>0.1</TD><TD>Fraction of nominal flow rate where flow transitions to laminar</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Dynamics</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>tau1</TD><TD>30</TD><TD>Time constant at nominal flow [s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>tau2</TD><TD>30</TD><TD>Time constant at nominal flow [s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Equations</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics</TD><TD>Modelica.Fluid.Types.Dynamic...</TD><TD>Formulation of energy balance</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>massDynamics</TD><TD>energyDynamics</TD><TD>Formulation of mass balance</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics1</TD><TD>Modelica.Fluid.Types.Dynamic...</TD><TD>Default formulation of energy balances for volume 1</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics2</TD><TD>Modelica.Fluid.Types.Dynamic...</TD><TD>Default formulation of energy balances for volume 2</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Initialization</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 1</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p1_start</TD><TD>Medium1.p_default</TD><TD>Start value of pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T1_start</TD><TD>Medium1.T_default</TD><TD>Start value of temperature [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X1_start[Medium1.nX]</TD><TD>Medium1.X_default</TD><TD>Start value of mass fractions m_i/m [kg/kg]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C1_start[Medium1.nC]</TD><TD>fill(0, Medium1.nC)</TD><TD>Start value of trace substances</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C1_nominal[Medium1.nC]</TD><TD>fill(1E-2, Medium1.nC)</TD><TD>Nominal value of trace substances. (Set to typical order of magnitude.)</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Medium 2</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p2_start</TD><TD>Medium2.p_default</TD><TD>Start value of pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T2_start</TD><TD>Medium2.T_default</TD><TD>Start value of temperature [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X2_start[Medium2.nX]</TD><TD>Medium2.X_default</TD><TD>Start value of mass fractions m_i/m [kg/kg]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C2_start[Medium2.nC]</TD><TD>fill(0, Medium2.nC)</TD><TD>Start value of trace substances</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C2_nominal[Medium2.nC]</TD><TD>fill(1E-2, Medium2.nC)</TD><TD>Nominal value of trace substances. (Set to typical order of magnitude.)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a1</TD><TD>Fluid connector a1 (positive design flow direction is from port_a1 to port_b1)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b1</TD><TD>Fluid connector b1 (positive design flow direction is from port_a1 to port_b1)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a2</TD><TD>Fluid connector a2 (positive design flow direction is from port_a2 to port_b2)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b2</TD><TD>Fluid connector b2 (positive design flow direction is from port_a2 to port_b2)</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>Gc_1</TD><TD>Signal representing the convective thermal conductance medium 1 in [W/K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>Gc_2</TD><TD>Signal representing the convective thermal conductance medium 2 in [W/K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> PartialHexElement <font color="darkgreen">&quot;Element of a heat exchanger 2&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.FourPortHeatMassExchanger"
>Buildings.Fluid.Interfaces.FourPortHeatMassExchanger</A>(
   vol1(<font color="blue">final </font>energyDynamics=energyDynamics1,
        <font color="blue">final </font>massDynamics=energyDynamics1));

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> UA_nominal <font color="darkgreen">
    &quot;Thermal conductance at nominal flow, used to compute time constant&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> tau_m(min=0) = 60 <font color="darkgreen">
    &quot;Time constant of metal at nominal UA value&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.HeatCapacity"
>Modelica.SIunits.HeatCapacity</A> C=2*UA_nominal*tau_m <font color="darkgreen">
    &quot;Heat capacity of metal (= cp*m)&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> Gc_1 <font color="darkgreen">
    &quot;Signal representing the convective thermal conductance medium 1 in [W/K]&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> Gc_2 <font color="darkgreen">
    &quot;Signal representing the convective thermal conductance medium 2 in [W/K]&quot;</font>;</textblock>

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Modelica.Fluid.Types.Dynamics</A> energyDynamics1=
    Modelica.Fluid.Types.Dynamics.DynamicFreeInitial <font color="darkgreen">
    &quot;Default formulation of energy balances for volume 1&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Modelica.Fluid.Types.Dynamics</A> energyDynamics2=
    Modelica.Fluid.Types.Dynamics.DynamicFreeInitial <font color="darkgreen">
    &quot;Default formulation of energy balances for volume 2&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.HeatCapacitor"
>Modelica.Thermal.HeatTransfer.Components.HeatCapacitor</A> mas(
    C=C,
    T(stateSelect=StateSelect.always)) <font color="darkgreen">&quot;Mass of metal&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.Convection"
>Modelica.Thermal.HeatTransfer.Components.Convection</A> con1(dT(min=-200)) <font color="darkgreen">
    &quot;Convection (and conduction) on fluid side 1&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.Convection"
>Modelica.Thermal.HeatTransfer.Components.Convection</A> con2(dT(min=-200)) <font color="darkgreen">
    &quot;Convection (and conduction) on fluid side 2&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(Gc_1, con1.Gc);
  <font color="red">connect</font>(Gc_2, con2.Gc);
  <font color="red">connect</font>(con1.solid,mas. port);
  <font color="red">connect</font>(con2.solid,mas. port);
  <font color="red">connect</font>(con1.fluid, vol1.heatPort);
  <font color="red">connect</font>(con2.fluid, vol2.heatPort);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>PartialHexElement;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialDuctManifold<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExchaf5169d3349c0b86fifoldI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctManifold" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctManifold"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.PartialDuctManifold</H2>
<B>Partial manifold for heat exchanger duct connection</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExchaf5169d3349c0b86fifoldD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctManifold">
<P></P><H3>Information</H3>

<p>
Partial duct manifold for a heat exchanger.
</p>
<p>
This model defines the duct connection to a heat exchanger.
It is extended by other models that model the flow connection 
between the ports with and without flow friction.
</p>
<P></P>
Extends from <A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctPipeManifold"
>PartialDuctPipeManifold</A> (Partial heat exchanger duct and pipe manifold).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium in the component</TD></TR>
<TR><TD>Integer</TD><TD>nPipPar</TD><TD>&nbsp;</TD><TD>Number of parallel pipes in each register</TD></TR>
<TR><TD>Integer</TD><TD>nPipSeg</TD><TD>&nbsp;</TD><TD>Number of pipe segments per register used for discretization</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>mStart_flow_a</TD><TD>&nbsp;</TD><TD>Guess value for mass flow rate at port_a [kg/s]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a</TD><TD>Fluid connector a for medium (positive design flow direction is from port_a to port_b)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b[nPipPar, nPipSeg]</TD><TD>Fluid connector b for medium (positive design flow direction is from port_a to port_b)</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">partial </font><font color="blue">model</font> PartialDuctManifold <font color="darkgreen">
  &quot;Partial manifold for heat exchanger duct connection&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctPipeManifold"
>PartialDuctPipeManifold</A>;
  <font color="blue">parameter </font>Integer nPipSeg(min=1) <font color="darkgreen">
    &quot;Number of pipe segments per register used for discretization&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>Modelica.Fluid.Interfaces.FluidPort_b</A>[nPipPar,nPipSeg] port_b(
        <font color="blue">redeclare </font><font color="blue">each </font><font color="blue">package</font> Medium = Medium,
        <font color="blue">each </font>m_flow(start=-mStart_flow_a/nPipSeg/nPipPar,
             max=<font color="blue">if </font>allowFlowReversal<font color="blue"> then </font>+Modelica.Constants.inf<font color="blue"> else </font>0)) <font color="darkgreen">
    &quot;Fluid connector b for medium (positive design flow direction is from port_a to port_b)&quot;</font>;
<font color="blue">end </font>PartialDuctManifold;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialDuctPipeManifold<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExchac048acf90cb410b4ifoldI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctPipeManifold" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctPipeManifold"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.PartialDuctPipeManifold</H2>
<B>Partial heat exchanger duct and pipe manifold</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExchac048acf90cb410b4ifoldD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctPipeManifold">
<P></P><H3>Information</H3>

<p>
Partial heat exchanger manifold.
This partial model defines ports and parameters that are used
for air-side and water-side heat exchanger manifolds.
</p>
<P></P>
Extends from <A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A> (Base icon).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Modelica.Media.Interfaces.Pa...</TD><TD>Medium in the component</TD></TR>
<TR><TD>Integer</TD><TD>nPipPar</TD><TD>&nbsp;</TD><TD>Number of parallel pipes in each register</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>mStart_flow_a</TD><TD>&nbsp;</TD><TD>Guess value for mass flow rate at port_a [kg/s]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Medium in the component</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a</TD><TD>Fluid connector a for medium (positive design flow direction is from port_a to port_b)</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">partial </font><font color="blue">model</font> PartialDuctPipeManifold <font color="darkgreen">
  &quot;Partial heat exchanger duct and pipe manifold&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A>;

  <font color="blue">outer </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system <font color="darkgreen">&quot;System wide properties&quot;</font>;

  <font color="blue">replaceable </font><font color="blue">package</font> Medium =
      <A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>Modelica.Media.Interfaces.PartialMedium</A> <font color="darkgreen">&quot;Medium in the component&quot;</font>;

  <font color="blue">parameter </font>Boolean allowFlowReversal = system.allowFlowReversal <font color="darkgreen">
    &quot;= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)&quot;</font>;

  <font color="blue">parameter </font>Integer nPipPar(min=1) <font color="darkgreen">&quot;Number of parallel pipes in each register&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> mStart_flow_a <font color="darkgreen">
    &quot;Guess value for mass flow rate at port_a&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>Modelica.Fluid.Interfaces.FluidPort_a</A> port_a(
        <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
        m_flow(start=mStart_flow_a, min=<font color="blue">if </font>allowFlowReversal<font color="blue"> then </font>-Modelica.Constants.inf<font color="blue"> else </font>0)) <font color="darkgreen">
    &quot;Fluid connector a for medium (positive design flow direction is from port_a to port_b)&quot;</font>;
<font color="blue">end </font>PartialDuctPipeManifold;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialPipeManifold<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExchade69b8a343b2c96fifoldI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialPipeManifold" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.PartialPipeManifold"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.PartialPipeManifold</H2>
<B>Partial pipe manifold for a heat exchanger</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExchade69b8a343b2c96fifoldD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PartialPipeManifold">
<P></P><H3>Information</H3>

<p>
Partial pipe manifold for a heat exchanger.
</p>
<p>
This model defines the pipe connection to a heat exchanger.
It is extended by other models that model the flow connection 
between the ports with and without flow friction.
</p>
<P></P>
Extends from <A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctPipeManifold"
>PartialDuctPipeManifold</A> (Partial heat exchanger duct and pipe manifold).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium in the component</TD></TR>
<TR><TD>Integer</TD><TD>nPipPar</TD><TD>&nbsp;</TD><TD>Number of parallel pipes in each register</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>mStart_flow_a</TD><TD>&nbsp;</TD><TD>Guess value for mass flow rate at port_a [kg/s]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a</TD><TD>Fluid connector a for medium (positive design flow direction is from port_a to port_b)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b[nPipPar]</TD><TD>Fluid connector b for medium (positive design flow direction is from port_a to port_b)</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">partial </font><font color="blue">model</font> PartialPipeManifold <font color="darkgreen">
  &quot;Partial pipe manifold for a heat exchanger&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialDuctPipeManifold"
>PartialDuctPipeManifold</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>Modelica.Fluid.Interfaces.FluidPort_b</A>[nPipPar] port_b(
        <font color="blue">redeclare </font><font color="blue">each </font><font color="blue">package</font> Medium = Medium,
        <font color="blue">each </font>m_flow(start=-mStart_flow_a/nPipPar, max=<font color="blue">if </font>allowFlowReversal<font color="blue"> then </font>+Modelica.Constants.inf<font color="blue"> else </font>0)) <font color="darkgreen">
    &quot;Fluid connector b for medium (positive design flow direction is from port_a to port_b)&quot;</font>;
<font color="blue">end </font>PartialPipeManifold;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PipeManifoldFixedResistance<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExcha201daf8bbf7ad828tanceI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PipeManifoldFixedResistance" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.PipeManifoldFixedResistance"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.PipeManifoldFixedResistance</H2>
<B>Pipe manifold for a heat exchanger connection</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExcha201daf8bbf7ad828tanceD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PipeManifoldFixedResistance">
<P></P><H3>Information</H3>

<p>
Pipe manifold with a fixed flow resistance.
</p>
<p>
This model causes the flow to be distributed equally
into each flow path by using a fixed flow resistance
for each flow path.
</p>
<P></P>
Extends from <A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialPipeManifold"
>PartialPipeManifold</A> (Partial pipe manifold for a heat exchanger).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium in the component</TD></TR>
<TR><TD>Integer</TD><TD>nPipPar</TD><TD>&nbsp;</TD><TD>Number of parallel pipes in each register</TD></TR>
<TR><TD>Boolean</TD><TD>use_dh</TD><TD>false</TD><TD>Set to true to specify hydraulic diameter</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dh</TD><TD>0.025</TD><TD>Hydraulic diameter for each pipe [m]</TD></TR>
<TR><TD>Real</TD><TD>ReC</TD><TD>4000</TD><TD>Reynolds number where transition to turbulent starts</TD></TR>
<TR><TD>Real</TD><TD>deltaM</TD><TD>0.3</TD><TD>Fraction of nominal mass flow rate where transition to turbulent occurs</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>mStart_flow_a</TD><TD>&nbsp;</TD><TD>Guess value for mass flow rate at port_a [kg/s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal Condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>&nbsp;</TD><TD>Mass flow rate at port_a [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp_nominal</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Advanced</B></TD></TR>
<TR><TD>Boolean</TD><TD>linearized</TD><TD>false</TD><TD>= true, use linear relation between m_flow and dp for any flow rate</TD></TR>
<TR><TD>Boolean</TD><TD>from_dp</TD><TD>false</TD><TD>= true, use m_flow = f(dp) else dp = f(m_flow)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a</TD><TD>Fluid connector a for medium (positive design flow direction is from port_a to port_b)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b[nPipPar]</TD><TD>Fluid connector b for medium (positive design flow direction is from port_a to port_b)</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> PipeManifoldFixedResistance <font color="darkgreen">
  &quot;Pipe manifold for a heat exchanger connection&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialPipeManifold"
>PartialPipeManifold</A>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> m_flow_nominal <font color="darkgreen">
    &quot;Mass flow rate at port_a&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</A> dp_nominal(min=0) <font color="darkgreen">&quot;Pressure&quot;</font>;

  <font color="blue">parameter </font>Boolean use_dh = false <font color="darkgreen">&quot;Set to true to specify hydraulic diameter&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> dh=0.025 <font color="darkgreen">&quot;Hydraulic diameter for each pipe&quot;</font>;
  <font color="blue">parameter </font>Real ReC=4000 <font color="darkgreen">
    &quot;Reynolds number where transition to turbulent starts&quot;</font>;
  <font color="blue">parameter </font>Boolean linearized = false <font color="darkgreen">
    &quot;= true, use linear relation between m_flow and dp for any flow rate&quot;</font>;
  <font color="blue">parameter </font>Real deltaM(min=0) = 0.3 <font color="darkgreen">
    &quot;Fraction of nominal mass flow rate where transition to turbulent occurs&quot;</font>;
  <font color="blue">parameter </font>Boolean from_dp = false <font color="darkgreen">
    &quot;= true, use m_flow = f(dp) else dp = f(m_flow)&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Fluid.FixedResistances.FixedResistanceDpM</A>[nPipPar] fixRes(
    <font color="blue">redeclare </font><font color="blue">each </font><font color="blue">package</font> Medium = Medium,
    <font color="blue">each </font>m_flow_nominal=m_flow_nominal/nPipPar,
    <font color="blue">each </font>m_flow(start=mStart_flow_a),
    <font color="blue">each </font>dp_nominal=dp_nominal,
    <font color="blue">each </font>dh=dh,
    <font color="blue">each </font>from_dp=from_dp,
    <font color="blue">each </font>deltaM=deltaM,
    <font color="blue">each </font>ReC=ReC,
    <font color="blue">each </font>use_dh=use_dh,
    <font color="blue">each </font>linearized=linearized) <font color="darkgreen">&quot;Fixed resistance for each duct&quot;</font>;</textblock>
<font color="blue">equation </font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nPipPar<font color="blue"> loop</font>
<textblock type="annotconnect" expanded="false">    <font color="red">connect</font>(port_a, fixRes[i].port_a);
    <font color="red">connect</font>(fixRes[i].port_b, port_b[i]);</textblock>
  <font color="blue">end for</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>PipeManifoldFixedResistance;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PipeManifoldNoResistance<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExchaa9fb81743030c8a4tanceI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PipeManifoldNoResistance" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.PipeManifoldNoResistance"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.PipeManifoldNoResistance</H2>
<B>Manifold for heat exchanger register</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExchaa9fb81743030c8a4tanceD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.PipeManifoldNoResistance">
<P></P><H3>Information</H3>

<p>
Pipe manifold without flow resistance.
</p>
<p>
This model connects the flows between the ports without 
modeling flow friction. The model is used in conjunction with
a manifold which contains pressure drop elements and that
is added to the other side of the heat exchanger registers.
</p>
<P></P>
Extends from <A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialPipeManifold"
>PartialPipeManifold</A> (Partial pipe manifold for a heat exchanger).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium in the component</TD></TR>
<TR><TD>Integer</TD><TD>nPipPar</TD><TD>&nbsp;</TD><TD>Number of parallel pipes in each register</TD></TR>
<TR><TD>Boolean</TD><TD>connectAllPressures</TD><TD>true</TD><TD>&nbsp;</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>mStart_flow_a</TD><TD>&nbsp;</TD><TD>Guess value for mass flow rate at port_a [kg/s]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a</TD><TD>Fluid connector a for medium (positive design flow direction is from port_a to port_b)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b[nPipPar]</TD><TD>Fluid connector b for medium (positive design flow direction is from port_a to port_b)</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> PipeManifoldNoResistance <font color="darkgreen">&quot;Manifold for heat exchanger register&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialPipeManifold"
>PartialPipeManifold</A>;
 <font color="blue">parameter </font>Boolean connectAllPressures=true;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Fluid_Fittings.html#Modelica.Fluid.Fittings.MultiPort"
>Modelica.Fluid.Fittings.MultiPort</A> mulPor(
      <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      <font color="blue">final </font>nPorts_b=nPipPar);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(port_a, mulPor.port_a);
  <font color="red">connect</font>(mulPor.ports_b, port_b);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>PipeManifoldNoResistance;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE RayleighNumber<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.HeatExchad07ce4b42389716cumberI.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.RayleighNumber" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.RayleighNumber"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.RayleighNumber</H2>
<B>Calculates the Rayleigh number for a given fluid and characteristic length</B><p></P>
<IMG SRC="Buildings.Fluid.HeatExchad07ce4b42389716cumberD.png" ALT="Buildings.Fluid.HeatExchangers.BaseClasses.RayleighNumber">
<P></P><H3>Information</H3>

<p>
This model calculates the rayleigh number for a given fluid and characteristic length. 
It is calculated using Eq 9.25 in Incropera and DeWitt (1996). The equation is:
</p>
<p align="center" style="font-style:italic;">
Ra<sub>L</sub> = Gr<sub>L</sub> Pr (g B (T<sub>S</sub> - T<sub>F</sub>) L<sup>3</sup>) /(&nu;*&alpha;)
</p>
<p>
where:<br/>
  <i>Ra<sub>L</sub></i> is the Rayleigh number, <i>Gr<sub>L</sub></i> is the Grashof number, <i>Pr</i> 
  is the Prandtl number, <i>g</i> is gravity, <i>B</i> is the isobaric expansion coefficient,
  <i>T<sub>S</sub></i> is the temperature of the surface, <i>T<sub>F</sub></i> is the temperature of the 
  fluid, <i>L</i> is the characteristic length, <i>&nu;</i> is the kinematic viscosity and <i>&alpha;</i> 
  is the thermal diffusivity.
</p>
<p>
This model is currently only used in natural convection calculations for water. As a result, the 
calculations reference functions to identify properties of water instead of a medium model. 
</p>
<h4>References</h4>
<p>
Fundamentals of Heat and Mass Transfer (Fourth Edition), Frank Incropera and David DeWitt, John Wiley and Sons, 1996
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Modelica.Media.Interfaces.Pa...</TD><TD>Fluid medium model</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Diameter"
>Diameter</A></TD><TD>ChaLen</TD><TD>&nbsp;</TD><TD>Characteristic length [m]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Fluid medium model</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TSur</TD><TD>Surface temperature of the HX [K]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>Ra</TD><TD>Rayleigh number</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>Pr</TD><TD>Prandlt number</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TFlu</TD><TD>Temperature of the surrounding fluid [K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> RayleighNumber <font color="darkgreen">
  &quot;Calculates the Rayleigh number for a given fluid and characteristic length&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
   <font color="blue">replaceable </font><font color="blue">package</font> Medium = <A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>Modelica.Media.Interfaces.PartialMedium</A> <font color="darkgreen">
    &quot;Fluid medium model&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Diameter"
>Modelica.SIunits.Diameter</A> ChaLen <font color="darkgreen">&quot;Characteristic length&quot;</font>;
  Real Gr <font color="darkgreen">&quot;Grashof number&quot;</font>;
  Real B(unit=&quot;1/K&quot;) <font color="darkgreen">&quot;isobaricExpansionCoefficient&quot;</font>;
  Real nu(unit = &quot;m2/s&quot;) <font color="darkgreen">&quot;Kinematic viscosity of the medium&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.DynamicViscosity"
>Modelica.SIunits.DynamicViscosity</A> mu <font color="darkgreen">&quot;Dynamic viscosity of the medium&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Density"
>Modelica.SIunits.Density</A> rho <font color="darkgreen">&quot;Density of the medium&quot;</font>;

<textblock type="annotcomp" expanded="false">   <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TSur(unit = &quot;K&quot;) <font color="darkgreen">
    &quot;Surface temperature of the HX&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">   <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> Ra <font color="darkgreen">&quot;Rayleigh number&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">   <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> Pr <font color="darkgreen">&quot;Prandlt number&quot;</font>;
   <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TFlu(unit=&quot;K&quot;) <font color="darkgreen">
    &quot;Temperature of the surrounding fluid&quot;</font>;</textblock>
<font color="blue">equation </font>
    mu =<font color="red"> Buildings.Fluid.HeatExchangers.BaseClasses.dynamicViscosityWater</font>(
        T=  0.5 * (TSur+TFlu));
    rho =<font color="red"> Medium.density</font>(
        <font color="red">Medium.setState_pTX</font>(
        p=  Medium.p_default,
        T=  0.5*(TSur+TFlu),
        X=  Medium.X_default));
    Pr =<font color="red"> Buildings.Fluid.HeatExchangers.BaseClasses.prandtlNumberWater</font>(
          T=  0.5*(TSur+TFlu));

    B =<font color="red"> Buildings.Fluid.HeatExchangers.BaseClasses.isobaricExpansionCoefficientWater</font>(
          T=  0.5*(TSur+TFlu));
    nu = mu/rho;

    Gr = Modelica.Constants.g_n * B * (TSur - TFlu)*ChaLen^3/nu^2;
    Ra = Gr*Pr;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>RayleighNumber;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE appartusDewPoint<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.appartusDewPoint"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.appartusDewPoint</H2>
<B>Computes the apparatus dewpoint temperature</B><p></P>
<P></P><H3>Information</H3>

<p>
This function computes iteratively the apparatus dew point temperature for a cooling coil.
The apparatus dew point temperature is defined as in the HVAC2 Toolkit (Brandemuehl <i>et al.</i>
1993), namely as the intersection of the line between coil air inlet state <i>(T,X)</i> and
outlet state, and the saturation line.
</p>
<p>
This function does its own iterations to find a solution because a solution may not exist or
not be unique because the saturation line is convex.
Therefore, this function searches for the solution starting at the air inlet temperature
and progressively reduces the guess value for the apparatus dew point temperature.
When a temperature below the apparatus dew point temperature has been found, it is rejected, and the
search continues with a smaller step until the step size is smaller than a prescribed value. This
ensures that the solution corresponding to the higher temperature is found.
If no solution can be found, the function stops the simulation.
</p>
<h4>References</h4>
<p>
Brandemuehl, Michael, Shauna Gabel and Inger Andresen. <i>HVAC2 Toolkit, A toolkit for secondary HVAC system
energy calculations</i>. ASHRAE, Atlanta. 1993.
</p>
<P></P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>TAir_in</TD><TD>&nbsp;</TD><TD>Air inlet temperature at design condition [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>TAir_out</TD><TD>&nbsp;</TD><TD>Air inlet temperature at design condition [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</A></TD><TD>XW_in</TD><TD>&nbsp;</TD><TD>Water vapor concentration at coil inlet at design condition [1]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</A></TD><TD>XW_out</TD><TD>&nbsp;</TD><TD>Water vapor concentration at coil outlet at design condition [1]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_dp</TD><TD>Apparatus dew point temperature [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</A></TD><TD>XW_dp</TD><TD>Water vapor concentration at apparatus dew point [1]</TD></TR>
<TR><TD>Real</TD><TD>m</TD><TD>Slope, used to compute apparatus dewpoint temperature [1/K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> appartusDewPoint <font color="darkgreen">
  &quot;Computes the apparatus dewpoint temperature&quot;</font>
  <font color="blue">import </font>psy = <A HREF="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions"
>Buildings.Utilities.Psychrometrics.Functions</A>;

  <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> TAir_in <font color="darkgreen">
    &quot;Air inlet temperature at design condition&quot;</font>;
  <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> TAir_out <font color="darkgreen">
    &quot;Air inlet temperature at design condition&quot;</font>;

  <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</A> XW_in <font color="darkgreen">
    &quot;Water vapor concentration at coil inlet at design condition&quot;</font>;
  <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</A> XW_out <font color="darkgreen">
    &quot;Water vapor concentration at coil outlet at design condition&quot;</font>;
  <font color="blue">output </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T_dp <font color="darkgreen">&quot;Apparatus dew point temperature&quot;</font>;
  <font color="blue">output </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</A> XW_dp <font color="darkgreen">
    &quot;Water vapor concentration at apparatus dew point&quot;</font>;
  <font color="blue">output </font>Real m(unit=&quot;1/K&quot;) <font color="darkgreen">
    &quot;Slope, used to compute apparatus dewpoint temperature&quot;</font>;

<font color="blue">protected </font>
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T <font color="darkgreen">&quot;Iteration variable for temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> dT <font color="darkgreen">
    &quot;Temperature increment used in initial search&quot;</font>;
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> dTMin = 1E-10 <font color="darkgreen">
    &quot;Minimum temperature increment used during search&quot;</font>;

  Integer i <font color="darkgreen">&quot;Number of iterations&quot;</font>;
  <font color="blue">constant </font>Integer iMax = 1000 <font color="darkgreen">&quot;Maximum number of iterations&quot;</font>;

  Real m_nominal(unit=&quot;1/K&quot;) <font color="darkgreen">
    &quot;Slope based on nominal conditions, used to compute apparatus dewpoint temperature&quot;</font>;
  Boolean converged <font color="darkgreen">&quot;Flag to control iteration&quot;</font>;

<font color="blue">algorithm </font>
  <font color="darkgreen">// Slope at design condition</font>
  m_nominal :=(XW_in - XW_out)/(TAir_in - TAir_out);
  <font color="darkgreen">// Start value for iteration</font>
  T_dp :=TAir_in;
  dT :=1;
  converged :=false;
  i :=0;
  <font color="blue">while </font><font color="blue">not </font>converged<font color="blue"> loop</font>
    i :=i + 1;
    <font color="red">assert</font>(i &lt; iMax, &quot;Maximum number of iterations exceeded in computing\n&quot;
      + &quot;apparatus dew point for coil at nominal conditions&quot;
      + &quot;\n  Best known approximation is T_dp = &quot; +<font color="red"> String</font>(T_dp)
      + &quot;\n  Search step is dT = &quot; +<font color="red"> String</font>(dT));

    T :=T_dp - dT;
    <font color="darkgreen">// New trial value</font>
    XW_dp :=<font color="red">psy.X_pW</font>(<font color="red">psy.pW_TDewPoi</font>(T));
    m :=(XW_in - XW_dp)/(TAir_in - T);
    <font color="blue">if </font>(m &lt; m_nominal)<font color="blue"> then</font><font color="darkgreen"> // T is above dew point</font>
       T_dp :=T;<font color="darkgreen"> // Accept T as new approximation to solution</font>
    <font color="blue">else</font><font color="darkgreen"> // T is below dew point.</font>
       <font color="blue">if </font>(dT &lt; dTMin)<font color="blue"> then</font><font color="darkgreen"> // achieved required accuracy</font>
         T_dp :=T;
         converged :=true;
       <font color="blue">else</font><font color="darkgreen">  // need to shorten step. Reject last iterate T</font>
         dT:=dT/10;
         T :=T_dp;<font color="darkgreen"> // Resets T to last known value above dew point</font>
       <font color="blue">end if</font>;
    <font color="blue">end if</font>;
  <font color="blue">end while</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>appartusDewPoint;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE dynamicViscosityWater<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.dynamicViscosityWater"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.dynamicViscosityWater</H2>
<B>Returns the dynamic viscosity for water</B><p></P>
<P></P><H3>Information</H3>

<p>
This function is used to identify the dynamic viscosity of water at a given temperature. 
The function used is a fourth order polynomial fit to data from Incropera and Dewitt (1996).
</p>
<h4>References</h4>
<p>
Fundamentals of Heat and Mass Transfer (Fourth Edition), Frank Incropera and David P. Dewitt, 
John Wiley &amp; Sons, 1996
</p>
<P></P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Thermodynamic state record [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.DynamicViscosity"
>DynamicViscosity</A></TD><TD>mu</TD><TD>Dynamic viscosity [Pa.s]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> dynamicViscosityWater <font color="darkgreen">
  &quot;Returns the dynamic viscosity for water&quot;</font>
    <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T <font color="darkgreen">&quot;Thermodynamic state record&quot;</font>;
    <font color="blue">output </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.DynamicViscosity"
>Modelica.SIunits.DynamicViscosity</A> mu <font color="darkgreen">&quot;Dynamic viscosity&quot;</font>;
<font color="blue">algorithm </font>
        mu := ((2.86651*10^(-5))*T^4-0.039376307*T^3+20.32805026*T^2-
        4680.303158*T+406389.0375)*10^(-6);
  <font color="darkgreen">      //Equation is a fourth order polynomial fit to data from Fundamentals of</font>
  <font color="darkgreen">      //Heat and Mass Transfer (Fourth Edition), Frank Incropera &amp; David DeWitt,</font>
  <font color="darkgreen">      //John Wiley &amp; Sons, 1996</font>

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>dynamicViscosityWater;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE epsilon_C<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.epsilon_C"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.epsilon_C</H2>
<B>Computes heat exchanger effectiveness for given capacity flow rates and heat exchanger flow regime</B><p></P>
<P></P><H3>Information</H3>

<p>
This function computes the heat exchanger effectiveness,
the Number of Transfer Units, and the capacity flow ratio
for given capacity flow rates.
</p>
<p>
The implementation allows for zero flow rate.
As <code>CMin_flow</code> crosses <code>delta*CMin_flow_nominal</code> from above,
the Number of Transfer Units and the heat exchanger effectiveness go to zero.
</p>
<P></P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</A></TD><TD>UA</TD><TD>&nbsp;</TD><TD>UA value [W/K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</A></TD><TD>C1_flow</TD><TD>&nbsp;</TD><TD>Enthalpy flow rate medium 1 [W/K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</A></TD><TD>C2_flow</TD><TD>&nbsp;</TD><TD>Enthalpy flow rate medium 2 [W/K]</TD></TR>
<TR><TD><A HREF="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerFlowRegime"
>HeatExchangerFlowRegime</A></TD><TD>flowRegime</TD><TD>&nbsp;</TD><TD>Heat exchanger flow regime</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</A></TD><TD>CMin_flow_nominal</TD><TD>&nbsp;</TD><TD>Minimum enthalpy flow rate at nominal condition [W/K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</A></TD><TD>CMax_flow_nominal</TD><TD>&nbsp;</TD><TD>Maximum enthalpy flow rate at nominal condition [W/K]</TD></TR>
<TR><TD>Real</TD><TD>delta</TD><TD>1E-3</TD><TD>Small value used for smoothing</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>eps</TD><TD>Heat exchanger effectiveness</TD></TR>
<TR><TD>Real</TD><TD>NTU</TD><TD>Number of transfer units</TD></TR>
<TR><TD>Real</TD><TD>Z</TD><TD>Ratio of capacity flow rate (CMin/CMax)</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> epsilon_C <font color="darkgreen">
  &quot;Computes heat exchanger effectiveness for given capacity flow rates and heat exchanger flow regime&quot;</font>
  <font color="blue">import </font>f = <A HREF="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerFlowRegime"
>Buildings.Fluid.Types.HeatExchangerFlowRegime</A>;
  <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> UA <font color="darkgreen">&quot;UA value&quot;</font>;
  <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> C1_flow <font color="darkgreen">
    &quot;Enthalpy flow rate medium 1&quot;</font>;
  <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> C2_flow <font color="darkgreen">
    &quot;Enthalpy flow rate medium 2&quot;</font>;
  <font color="blue">input </font><A HREF="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerFlowRegime"
>Buildings.Fluid.Types.HeatExchangerFlowRegime</A> flowRegime <font color="darkgreen">
    &quot;Heat exchanger flow regime&quot;</font>;
  <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> CMin_flow_nominal <font color="darkgreen">
    &quot;Minimum enthalpy flow rate at nominal condition&quot;</font>;
  <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> CMax_flow_nominal <font color="darkgreen">
    &quot;Maximum enthalpy flow rate at nominal condition&quot;</font>;
  <font color="blue">input </font>Real delta = 1E-3 <font color="darkgreen">&quot;Small value used for smoothing&quot;</font>;
  <font color="blue">output </font>Real eps(min=0, max=1) <font color="darkgreen">&quot;Heat exchanger effectiveness&quot;</font>;
  <font color="blue">output </font>Real NTU <font color="darkgreen">&quot;Number of transfer units&quot;</font>;
  <font color="blue">output </font>Real Z(min=0, max=1) <font color="darkgreen">&quot;Ratio of capacity flow rate (CMin/CMax)&quot;</font>;
<font color="blue">protected </font>
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> deltaCMin <font color="darkgreen">
    &quot;Small number for capacity flow rate&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> deltaCMax <font color="darkgreen">
    &quot;Small number for capacity flow rate&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> CMin_flow <font color="darkgreen">&quot;Minimum capacity flow rate&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> CMax_flow <font color="darkgreen">&quot;Maximum capacity flow rate&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> CMinNZ_flow <font color="darkgreen">
    &quot;Minimum capacity flow rate, bounded away from zero&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</A> CMaxNZ_flow <font color="darkgreen">
    &quot;Maximum capacity flow rate, bounded away from zero&quot;</font>;
  Real gai(min=0, max=1) <font color="darkgreen">
    &quot;Gain used to force UA to zero for very small flow rates&quot;</font>;
<font color="blue">algorithm </font>
  deltaCMin := delta*CMin_flow_nominal;
  deltaCMax := delta*CMax_flow_nominal;
  <font color="darkgreen">// effectiveness</font>
  CMin_flow :=<font color="red">Buildings.Utilities.Math.Functions.smoothMin</font>(
    C1_flow,
    C2_flow,
    deltaCMin/4);
  CMax_flow :=<font color="red">Buildings.Utilities.Math.Functions.smoothMax</font>(
    C1_flow,
    C2_flow,
    deltaCMax/4);
  <font color="darkgreen">// CMin and CMax, constrained to be non-zero to compute eps-NTU-Z relationship</font>
  CMinNZ_flow :=<font color="red">Buildings.Utilities.Math.Functions.smoothMax</font>(
    CMin_flow,
    deltaCMin,
    deltaCMin/4);
  CMaxNZ_flow :=<font color="red">Buildings.Utilities.Math.Functions.smoothMax</font>(
    CMax_flow,
    deltaCMax,
    deltaCMax/4);
  Z :=CMin_flow/CMaxNZ_flow;
  <font color="darkgreen">// Gain that goes to zero as CMin_flow gets below deltaCMin</font>
  <font color="darkgreen">// This is needed to allow zero flow</font>
  gai :=<font color="red"> Buildings.Utilities.Math.Functions.spliceFunction</font>(
                 pos=1, neg=0, x=CMin_flow-deltaCMin, deltax=deltaCMin/2);
  <font color="blue">if </font>( gai == 0)<font color="blue"> then</font>
    NTU := 0;
    eps := 1;<font color="darkgreen"> // around zero flow, eps=Q/(CMin*dT) should be one</font>
  <font color="blue">else</font>
    NTU :=gai*UA/CMinNZ_flow;
    eps := gai*<font color="red">Buildings.Fluid.HeatExchangers.BaseClasses.epsilon_ntuZ</font>(NTU=NTU, Z=Z, flowRegime=flowRegime);
  <font color="blue">end if</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>epsilon_C;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE epsilon_ntuZ<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.epsilon_ntuZ"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.epsilon_ntuZ</H2>
<B>Computes heat exchanger effectiveness for given number of transfer units and heat exchanger flow regime</B><p></P>
<P></P><H3>Information</H3>

This function computes the heat exchanger effectiveness for a given number of transfer units, capacity flow ratio and heat exchanger flow regime.
<P></P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>NTU</TD><TD>&nbsp;</TD><TD>Number of transfer units</TD></TR>
<TR><TD>Real</TD><TD>Z</TD><TD>&nbsp;</TD><TD>Ratio of capacity flow rate (CMin/CMax)</TD></TR>
<TR><TD><A HREF="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerFlowRegime"
>HeatExchangerFlowRegime</A></TD><TD>flowRegime</TD><TD>&nbsp;</TD><TD>Heat exchanger flow regime</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>eps</TD><TD>Heat exchanger effectiveness</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> epsilon_ntuZ <font color="darkgreen">
  &quot;Computes heat exchanger effectiveness for given number of transfer units and heat exchanger flow regime&quot;</font>
  <font color="blue">import </font>f = <A HREF="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerFlowRegime"
>Buildings.Fluid.Types.HeatExchangerFlowRegime</A>;
  <font color="blue">input </font>Real NTU <font color="darkgreen">&quot;Number of transfer units&quot;</font>;
  <font color="blue">input </font>Real Z(min=0, max=1) <font color="darkgreen">&quot;Ratio of capacity flow rate (CMin/CMax)&quot;</font>;
  <font color="blue">input </font><A HREF="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerFlowRegime"
>Buildings.Fluid.Types.HeatExchangerFlowRegime</A> flowRegime <font color="darkgreen">
    &quot;Heat exchanger flow regime&quot;</font>;
  <font color="blue">output </font>Real eps(min=0, max=1) <font color="darkgreen">&quot;Heat exchanger effectiveness&quot;</font>;
<font color="blue">protected </font>
  Real a <font color="darkgreen">&quot;Auxiliary variable&quot;</font>;
<font color="blue">algorithm </font>
  <font color="blue">if </font>(flowRegime == f.ParallelFlow)<font color="blue"> then</font><font color="darkgreen"> // parallel flow</font>
    a := 0;
    eps := (1 -<font color="red"> Modelica.Math.exp</font>(-NTU*(1 + Z)))/(1 + Z);
  <font color="blue">elseif </font>(flowRegime == f.CounterFlow)<font color="blue"> then</font><font color="darkgreen">// counter flow</font>
   <font color="darkgreen">// a is constraining Z since eps is not defined for Z=1.</font>
    a :=<font color="red"> smooth</font>(1, <font color="blue">if </font>Z &lt; 0.97<font color="blue"> then </font>Z<font color="blue"> else </font>
      <font color="red">Buildings.Utilities.Math.Functions.smoothMin</font>(
      x1=Z,
      x2=0.98,
      deltaX=0.01));
    eps := (1 -<font color="red"> Modelica.Math.exp</font>(-NTU*(1 - a)))/(1 - a*<font color="red">Modelica.Math.exp</font>(-NTU*(
      1 - a)));
  <font color="blue">elseif </font>(flowRegime == f.CrossFlowUnmixed)<font color="blue"> then</font>
   a := NTU^(-0.22);
    eps := 1 -<font color="red"> Modelica.Math.exp</font>( (<font color="red"> Modelica.Math.exp</font>( - NTU * Z * a)  - 1)  / (Z * a));
  <font color="blue">elseif </font>(flowRegime == f.CrossFlowCMinUnmixedCMaxMixed)<font color="blue"> then</font>
    <font color="darkgreen">// cross flow, (single pass), CMax mixed, CMin unmixed. (Coil with one row.)</font>
    a := 0;
    eps := (1 -<font color="red"> Modelica.Math.exp</font>(-Z*(1 -<font color="red"> Modelica.Math.exp</font>(-NTU))))/Z;
  <font color="blue">elseif </font>(flowRegime == f.CrossFlowCMinMixedCMaxUnmixed)<font color="blue"> then</font>
    <font color="darkgreen">// cross flow, (single pass), CMin mixed, CMax unmixed.</font>
    a := 0;
    eps := 1 -<font color="red"> Modelica.Math.exp</font>(-(1 -<font color="red"> Modelica.Math.exp</font>(-Z*NTU))/Z);
  <font color="blue">else</font>
    a := 0;
    eps := 0;
    <font color="red">assert</font>(f.ParallelFlow &lt;= flowRegime<font color="blue"> and </font>
           flowRegime &lt;= f.CrossFlowCMinUnmixedCMaxMixed,
           &quot;Flow regime is not implemented.&quot;);
  <font color="blue">end if</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>epsilon_ntuZ;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE isobaricExpansionCoefficientWater<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.isobaricExpansionCoefficientWater"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.isobaricExpansionCoefficientWater</H2>
<B>Returns the isobaric expansion coefficient for water</B><p></P>
<P></P><H3>Information</H3>

<p>
This function is used to identify the isobaric expansion coefficient of water at a 
given temperature. The function used is a fourth order polynomial fit to data from 
Incropera and Dewitt (1996).
</p>
<h4>References</h4>
<p>
Fundamentals of Heat and Mass Transfer (Fourth Edition), Frank Incropera and David P. 
Dewitt, John Wiley &amp; Sons, 1996
</p>
<P></P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Thermodynamic state record [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>beta</TD><TD>Dynamic viscosity [1/K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> isobaricExpansionCoefficientWater <font color="darkgreen">
  &quot;Returns the isobaric expansion coefficient for water&quot;</font>
    <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T <font color="darkgreen">&quot;Thermodynamic state record&quot;</font>;
    <font color="blue">output </font>Real beta( unit=&quot;1/K&quot;) <font color="darkgreen">&quot;Dynamic viscosity&quot;</font>;
<font color="blue">algorithm </font>
        beta := (-8.53296*10^(-6)*T^4+0.011562287*T^3-5.88800657*T^2+
        1341.798661*T-115406.5225)*10^(-6);
  <font color="darkgreen">      //Equation is a fourth order polynomial fit to data from Fundamentals of</font>
  <font color="darkgreen">      //Heat and Mass Transfer (Fourth Edition), Frank Incropera &amp; David DeWitt,</font>
  <font color="darkgreen">      //John Wiley &amp; Sons, 1996</font>

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>isobaricExpansionCoefficientWater;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ntu_epsilonZ<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.ntu_epsilonZ"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.ntu_epsilonZ</H2>
<B>Computes number of transfer units for given heat exchanger effectiveness and heat exchanger flow regime</B><p></P>
<P></P><H3>Information</H3>

<p>
This function computes the number of transfer units for a given heat exchanger effectiveness,
capacity flow ratio and heat exchanger flow regime.
</p>
<p>
Note that for the flow regime <code>CrossFlowUnmixed</code>, computing the
function requires the numerical solution of an equation in one variable.
This is handled internally and not exposed to the global solver.
</p>
<P></P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>eps</TD><TD>&nbsp;</TD><TD>Heat exchanger effectiveness</TD></TR>
<TR><TD>Real</TD><TD>Z</TD><TD>&nbsp;</TD><TD>Ratio of capacity flow rate (CMin/CMax)</TD></TR>
<TR><TD><A HREF="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerFlowRegime"
>HeatExchangerFlowRegime</A></TD><TD>flowRegime</TD><TD>&nbsp;</TD><TD>Heat exchanger flow regime</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>NTU</TD><TD>Number of transfer units</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> ntu_epsilonZ <font color="darkgreen">
  &quot;Computes number of transfer units for given heat exchanger effectiveness and heat exchanger flow regime&quot;</font>
  <font color="blue">import </font>f = <A HREF="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerFlowRegime"
>Buildings.Fluid.Types.HeatExchangerFlowRegime</A>;
  <font color="blue">input </font>Real eps(min=0, max=0.999) <font color="darkgreen">&quot;Heat exchanger effectiveness&quot;</font>;
  <font color="blue">input </font>Real Z(min=0, max=1) <font color="darkgreen">&quot;Ratio of capacity flow rate (CMin/CMax)&quot;</font>;
  <font color="blue">input </font><A HREF="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerFlowRegime"
>Buildings.Fluid.Types.HeatExchangerFlowRegime</A> flowRegime <font color="darkgreen">
    &quot;Heat exchanger flow regime&quot;</font>;
  <font color="blue">output </font>Real NTU <font color="darkgreen">&quot;Number of transfer units&quot;</font>;

<font color="blue">protected </font>
  Real a <font color="darkgreen">&quot;Auxiliary variable&quot;</font>;
<font color="blue">algorithm </font>
  <font color="blue">if </font>(flowRegime == f.ParallelFlow)<font color="blue"> then</font><font color="darkgreen"> // parallel flow</font>
    a := Z+1;
    <font color="red">assert</font>(eps &lt; 1/a,
      &quot;Invalid input data. eps &gt; 1/(1+Z) is physically not possible for parallel flow.
  Received eps = &quot; +<font color="red"> String</font>(eps) + &quot;
             Z = &quot; +<font color="red"> String</font>(Z) + &quot;
       1/(Z+1) = &quot; +<font color="red"> String</font>(1/a));
    NTU := -(<font color="red">Modelica.Math.log</font>(1-eps*a))/(a);
  <font color="blue">elseif </font>(flowRegime == f.CounterFlow)<font color="blue"> then</font><font color="darkgreen">// counter flow</font>
   <font color="darkgreen">// a is constraining Z since eps is not defined for Z=1.</font>
    a :=<font color="red"> smooth</font>(1, <font color="blue">if </font>Z &lt; 0.97<font color="blue"> then </font>Z<font color="blue"> else </font>
      <font color="red">Buildings.Utilities.Math.Functions.smoothMin</font>(
      x1=Z,
      x2=0.98,
      deltaX=0.01));
    NTU :=<font color="red"> Modelica.Math.log</font>((1-eps)/(1-eps*a)) / (a-1);

  <font color="blue">elseif </font>(flowRegime == f.CrossFlowUnmixed)<font color="blue"> then</font>
    a := 0;
    <font color="darkgreen">// The function Internal.solve evaluates epsilon_ntuZ at NTU=x_min-1e-10 and NTU=x_max+1e-10</font>
    <font color="darkgreen">// when it solves iteratively epsilon_ntuZ for ntu</font>
    <font color="darkgreen">// Therefore, we set x_min=1.5*1e-10 to prevent computing NTU^(-0.22)=(-1e-10)^(-0.22).</font>
    NTU :=<font color="red"> Internal.solve</font>(y_zero=eps, x_min=1.5*1e-10, x_max=1E6, pressure=Z);
  <font color="blue">elseif </font>(flowRegime == f.CrossFlowCMinUnmixedCMaxMixed)<font color="blue"> then</font>
    <font color="darkgreen">// cross flow, (single pass), CMax mixed, CMin unmixed. (Coil with one row.)</font>
   a :=<font color="red"> smooth</font>(1, <font color="blue">if </font>Z &gt; 0.03<font color="blue"> then </font>Z<font color="blue"> else </font>
      <font color="red">Buildings.Utilities.Math.Functions.smoothMin</font>(
      x1=0.02,
      x2=Z,
      deltaX=0.01));
    NTU := -<font color="red">Modelica.Math.log</font>(1+(<font color="red">Modelica.Math.log</font>(1-eps*a)/a));
  <font color="blue">elseif </font>(flowRegime == f.CrossFlowCMinMixedCMaxUnmixed)<font color="blue"> then</font>
    <font color="darkgreen">// cross flow, (single pass), CMin mixed, CMax unmixed.</font>
   a :=<font color="red"> smooth</font>(1, <font color="blue">if </font>Z &gt; 0.03<font color="blue"> then </font>Z<font color="blue"> else </font>
      <font color="red">Buildings.Utilities.Math.Functions.smoothMin</font>(
      x1=0.02,
      x2=Z,
      deltaX=0.01));
    NTU := -<font color="red">Modelica.Math.log</font>(1+Z*<font color="red">Modelica.Math.log</font>(1-eps))/Z;
  <font color="blue">else</font>
    a := 0;
    NTU := 0;
    <font color="red">assert</font>(0 &lt; flowRegime<font color="blue"> and </font>flowRegime &lt; 6, &quot;Flow regime is not implemented.&quot;);
  <font color="blue">end if</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>ntu_epsilonZ;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE lmtd<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.lmtd"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.lmtd</H2>
<B>Log-mean temperature difference</B><p></P>
<P></P><H3>Information</H3>

<p>
This function computes the log mean temperature difference of a heat exchanger.
</p>
<p>
Note that the implementation requires the temperature differences to be non-zero.
</p>
<P></P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_a1</TD><TD>&nbsp;</TD><TD>Temperature at port a1 [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_b1</TD><TD>&nbsp;</TD><TD>Temperature at port b1 [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_a2</TD><TD>&nbsp;</TD><TD>Temperature at port a2 [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_b2</TD><TD>&nbsp;</TD><TD>Temperature at port b2 [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>TemperatureDifference</A></TD><TD>lmtd</TD><TD>Log-mean temperature difference [K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> lmtd <font color="darkgreen">&quot;Log-mean temperature difference&quot;</font>
  <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T_a1 <font color="darkgreen">&quot;Temperature at port a1&quot;</font>;
  <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T_b1 <font color="darkgreen">&quot;Temperature at port b1&quot;</font>;
  <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T_a2 <font color="darkgreen">&quot;Temperature at port a2&quot;</font>;
  <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T_b2 <font color="darkgreen">&quot;Temperature at port b2&quot;</font>;
  <font color="blue">output </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>Modelica.SIunits.TemperatureDifference</A> lmtd <font color="darkgreen">
    &quot;Log-mean temperature difference&quot;</font>;
<font color="blue">protected </font>
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>Modelica.SIunits.TemperatureDifference</A> dT1 <font color="darkgreen">&quot;Temperature difference side 1&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>Modelica.SIunits.TemperatureDifference</A> dT2 <font color="darkgreen">&quot;Temperature difference side 2&quot;</font>;
<font color="blue">algorithm </font>
  dT1 :=T_a1 - T_b2;
  dT2 :=T_b1 - T_a2;
  lmtd :=(dT2 - dT1)/<font color="red">Modelica.Math.log</font>(dT2/dT1);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>lmtd;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE prandtlNumberWater<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Fluid.HeatExchangers.BaseClasses.prandtlNumberWater"></A><A HREF="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>Buildings.Fluid.HeatExchangers.BaseClasses</A>.prandtlNumberWater</H2>
<B>Returns the Prandtl number for water</B><p></P>
<P></P><H3>Information</H3>

<p>
This function is used to identify the Prandtl number of water at a given temperature. 
The function used is a fourth order polynomial fit to data from Incropera and Dewitt 
(1996).
</p>
<h4>References</h4>
<p>
Fundamentals of Heat and Mass Transfer (Fourth Edition), Frank Incropera and David P. 
Dewitt, John Wiley &amp; Sons, 1996
</p>
<P></P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Thermodynamic state record [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>Pr</TD><TD>Prandtl number</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> prandtlNumberWater <font color="darkgreen">&quot;Returns the Prandtl number for water&quot;</font>
    <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T <font color="darkgreen">&quot;Thermodynamic state record&quot;</font>;
    <font color="blue">output </font>Real Pr <font color="darkgreen">&quot;Prandtl number&quot;</font>;
<font color="blue">algorithm </font>
        Pr := ((2.55713*10^(-7))*T^4-0.000350293*T^3+0.180259651*T^2-
        41.34104323*T+3571.372195);
  <font color="darkgreen">      //Equation is a fourth order polynomial fit to data from Fundamentals</font>
  <font color="darkgreen">      //of Heat and Mass Transfer (Fourth Edition), Frank Incropera &amp; David DeWitt,</font>
  <font color="darkgreen">      //John Wiley &amp; Sons, 1996</font>

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>prandtlNumberWater;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Fri Dec 13 11:35:18 2013.
</address></BODY>
</HTML>
