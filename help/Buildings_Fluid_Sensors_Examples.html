<HTML>
<HEAD>
<TITLE>Buildings.Fluid.Sensors.Examples</TITLE>
<META name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META name="description" content="&quot;Collection of models that illustrate model use and test models&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- --- header ------ -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- --- end header -- -->
</P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Examples<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Fluid.Sensors.Examples"></A><A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors"
>Buildings.Fluid.Sensors</A>.Examples</H2>
<B>Collection of models that illustrate model use and test models</B>
<P></P>
<P></P><H3>Information</H3>

<p>
This package contains examples for the use of models that can be found in
<A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors"
>
Buildings.Fluid.Sensors</a>.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</A> (Icon for packages containing runnable examples).
<P></P><H3>Package Content</H3>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" ALT="Buildings.Fluid.Sensors.Examples.Density" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.Density"
>Density</A>
</TD><TD>Test model for the density sensor</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" ALT="Buildings.Fluid.Sensors.Examples.EnthalpyFlowRate" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.EnthalpyFlowRate"
>EnthalpyFlowRate</A>
</TD><TD>Test model for the enthalpy flow rate sensors</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" ALT="Buildings.Fluid.Sensors.Examples.MassFraction" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.MassFraction"
>MassFraction</A>
</TD><TD>Test model for the mass fraction sensor</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" ALT="Buildings.Fluid.Sensors.Examples.MoistAirEnthalpyFlowRate" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.MoistAirEnthalpyFlowRate"
>MoistAirEnthalpyFlowRate</A>
</TD><TD>Test model for the sensible and latent enthalpy flow rate sensors</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" ALT="Buildings.Fluid.Sensors.Examples.Pressure" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.Pressure"
>Pressure</A>
</TD><TD>Test model for the pressure sensor</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" ALT="Buildings.Fluid.Sensors.Examples.RelativeHumidity" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.RelativeHumidity"
>RelativeHumidity</A>
</TD><TD>Test model for relative humidity sensor</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" ALT="Buildings.Fluid.Sensors.Examples.SpecificEnthalpy" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.SpecificEnthalpy"
>SpecificEnthalpy</A>
</TD><TD>Test model for the enthalpy flow rate sensors</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" ALT="Buildings.Fluid.Sensors.Examples.SpecificEntropy" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.SpecificEntropy"
>SpecificEntropy</A>
</TD><TD>Test model for the entropy flow rate sensors</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" ALT="Buildings.Fluid.Sensors.Examples.TemperatureDryBulb" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.TemperatureDryBulb"
>TemperatureDryBulb</A>
</TD><TD>Test model for the dry bulb temperature sensor</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" ALT="Buildings.Fluid.Sensors.Examples.TemperatureWetBulb" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.TemperatureWetBulb"
>TemperatureWetBulb</A>
</TD><TD>Test model for the wet bulb temperature sensor</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" ALT="Buildings.Fluid.Sensors.Examples.TraceSubstances" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.TraceSubstances"
>TraceSubstances</A>
</TD><TD>Test model for the extra property sensor</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" ALT="Buildings.Fluid.Sensors.Examples.VolumeFlowRate" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.VolumeFlowRate"
>VolumeFlowRate</A>
</TD><TD>Test model for the volume flow rate sensor</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Density<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Sensors.Examples.DensityI.png" ALT="Buildings.Fluid.Sensors.Examples.Density" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Sensors.Examples.Density"></A><A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</A>.Density</H2>
<B>Test model for the density sensor</B><p></P>
<IMG SRC="Buildings.Fluid.Sensors.Examples.DensityD.png" ALT="Buildings.Fluid.Sensors.Examples.Density">
<P></P><H3>Information</H3>

<p>
This example tests the density sensors.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Density <font color="darkgreen">&quot;Test model for the density sensor&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_PerfectGases_MoistAirUnsaturated.html#Buildings.Media.PerfectGases.MoistAirUnsaturated"
>Buildings.Media.PerfectGases.MoistAirUnsaturated</A> <font color="darkgreen">
    &quot;Medium model&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T=293.15,
    nPorts=1) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</A> masFloRat(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_T_in=false,
    X={0.02,0.98},
    nPorts=1,
    use_m_flow_in=true) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.Density"
>Buildings.Fluid.Sensors.Density</A> senDenVol(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium) <font color="darkgreen">&quot;Density sensor for the volume&quot;</font>;
  <A HREF="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</A> vol(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    V=1,
    nPorts=3,
    m_flow_nominal=10,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <font color="darkgreen">&quot;Volume&quot;</font>;
  <A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</A> dp(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=10,
    dp_nominal=200) <font color="darkgreen">&quot;Flow resistance&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.DensityTwoPort"
>Buildings.Fluid.Sensors.DensityTwoPort</A> senDenFlo(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=10) <font color="darkgreen">&quot;Density sensor for the flowing medium&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> ramp(
    height=-20,
    offset=10,
    duration=60);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(masFloRat.ports[1], vol.ports[1]);
  <font color="red">connect</font>(vol.ports[2], dp.port_a);
  <font color="red">connect</font>(vol.ports[3], senDenVol.port);
  <font color="red">connect</font>(dp.port_b, senDenFlo.port_a);
  <font color="red">connect</font>(senDenFlo.port_b, sin.ports[1]);
  <font color="red">connect</font>(ramp.y, masFloRat.m_flow_in);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Density;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE EnthalpyFlowRate<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Sensors.Examples.DensityI.png" ALT="Buildings.Fluid.Sensors.Examples.EnthalpyFlowRate" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Sensors.Examples.EnthalpyFlowRate"></A><A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</A>.EnthalpyFlowRate</H2>
<B>Test model for the enthalpy flow rate sensors</B><p></P>
<IMG SRC="Buildings.Fluid.Sensors.Ef0b7de606ba2a231wRateD.png" ALT="Buildings.Fluid.Sensors.Examples.EnthalpyFlowRate">
<P></P><H3>Information</H3>

<p>
This example tests the enthalpy flow rate sensor and the
specific enthalpy sensor.
The model compares the output of the enthalpy flow rate sensor with 
the product of the output of the enthalpy and the mass flow rate sensor.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> EnthalpyFlowRate <font color="darkgreen">
  &quot;Test model for the enthalpy flow rate sensors&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_IdealGases_SimpleAir.html#Buildings.Media.IdealGases.SimpleAir"
>Buildings.Media.IdealGases.SimpleAir</A> <font color="darkgreen">&quot;Medium model&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.EnthalpyFlowRate"
>Buildings.Fluid.Sensors.EnthalpyFlowRate</A> senH_flow(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=2) <font color="darkgreen">&quot;Enthalpy flow rate sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_m_flow_in=true,
    nPorts=1,
    T=293.15) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    nPorts=1,
    T=313.15) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> ramp(
    height=-2,
    offset=1,
    duration=60);
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.SpecificEnthalpyTwoPort"
>Buildings.Fluid.Sensors.SpecificEnthalpyTwoPort</A> senH(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=2) <font color="darkgreen">&quot;Specific enthalpy sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.MassFlowRate"
>Buildings.Fluid.Sensors.MassFlowRate</A> senM_flow(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium) <font color="darkgreen">&quot;Mass flow rate sensor&quot;</font>;
  <A HREF="Buildings_Utilities_Diagnostics.html#Buildings.Utilities.Diagnostics.AssertEquality"
>Buildings.Utilities.Diagnostics.AssertEquality</A> assEqu <font color="darkgreen">
    &quot;Asserts the equality of the enthalpy flow rate computations&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Product"
>Modelica.Blocks.Math.Product</A> pro <font color="darkgreen">&quot;Computes the enthalphy flow rate&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(ramp.y, sou.m_flow_in);
  <font color="red">connect</font>(sou.ports[1], senH_flow.port_a);
  <font color="red">connect</font>(senH_flow.port_b, senH.port_a);
  <font color="red">connect</font>(senH.port_b, senM_flow.port_a);
  <font color="red">connect</font>(senM_flow.port_b, sin.ports[1]);
  <font color="red">connect</font>(senH_flow.H_flow, assEqu.u1);
  <font color="red">connect</font>(senH.h_out, pro.u1);
  <font color="red">connect</font>(senM_flow.m_flow, pro.u2);
  <font color="red">connect</font>(pro.y, assEqu.u2);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>EnthalpyFlowRate;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE MassFraction<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Sensors.Examples.DensityI.png" ALT="Buildings.Fluid.Sensors.Examples.MassFraction" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Sensors.Examples.MassFraction"></A><A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</A>.MassFraction</H2>
<B>Test model for the mass fraction sensor</B><p></P>
<IMG SRC="Buildings.Fluid.Sensors.Eb501ca4b0508a8a6ctionD.png" ALT="Buildings.Fluid.Sensors.Examples.MassFraction">
<P></P><H3>Information</H3>

<p>
This example tests the mass fraction sensors.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> MassFraction <font color="darkgreen">&quot;Test model for the mass fraction sensor&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_PerfectGases_MoistAirUnsaturated.html#Buildings.Media.PerfectGases.MoistAirUnsaturated"
>Buildings.Media.PerfectGases.MoistAirUnsaturated</A> <font color="darkgreen">
    &quot;Medium model&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    nPorts=1,
    T=293.15) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</A> masFloRat(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_m_flow_in=false,
    use_T_in=false,
    X={0.02,0.98},
    m_flow=10,
    nPorts=1) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.MassFraction"
>Buildings.Fluid.Sensors.MassFraction</A> senMasFra2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium) <font color="darkgreen">&quot;Mass fraction sensor for the volume&quot;</font>;
  <A HREF="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</A> vol(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    V=1,
    nPorts=3,
    m_flow_nominal=10) <font color="darkgreen">&quot;Volume&quot;</font>;
  <A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</A> dp(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=10,
    dp_nominal=200) <font color="darkgreen">&quot;Flow resistance&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.MassFractionTwoPort"
>Buildings.Fluid.Sensors.MassFractionTwoPort</A> senMasFra1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium, m_flow_nominal=10) <font color="darkgreen">
    &quot;Mass fraction sensor for the flowing medium&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(dp.port_b, sin.ports[1]);
  <font color="red">connect</font>(masFloRat.ports[1], senMasFra1.port_a);
  <font color="red">connect</font>(senMasFra1.port_b, vol.ports[1]);
  <font color="red">connect</font>(vol.ports[2], dp.port_a);
  <font color="red">connect</font>(vol.ports[3], senMasFra2.port);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>MassFraction;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE MoistAirEnthalpyFlowRate<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Sensors.Examples.DensityI.png" ALT="Buildings.Fluid.Sensors.Examples.MoistAirEnthalpyFlowRate" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Sensors.Examples.MoistAirEnthalpyFlowRate"></A><A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</A>.MoistAirEnthalpyFlowRate</H2>
<B>Test model for the sensible and latent enthalpy flow rate sensors</B><p></P>
<IMG SRC="Buildings.Fluid.Sensors.E8f2434a6a52546a9wRateD.png" ALT="Buildings.Fluid.Sensors.Examples.MoistAirEnthalpyFlowRate">
<P></P><H3>Information</H3>

<p>
This example tests the sensible and latent enthalpy sensors.
It compares the output from the enthalpy sensor with the sum of the
sensible and latent enthalpy sensors.
If they differ, the model stops with an error.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> MoistAirEnthalpyFlowRate <font color="darkgreen">
  &quot;Test model for the sensible and latent enthalpy flow rate sensors&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_PerfectGases_MoistAirUnsaturated.html#Buildings.Media.PerfectGases.MoistAirUnsaturated"
>Buildings.Media.PerfectGases.MoistAirUnsaturated</A>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.EnthalpyFlowRate"
>Buildings.Fluid.Sensors.EnthalpyFlowRate</A> senH_flow(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=1) <font color="darkgreen">&quot;Sensor for enthalpy flow rate&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_m_flow_in=true,
    nPorts=1,
    T=293.15) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(
     <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    nPorts=1,
    X={0.02,0.98},
    T=313.15) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> ramp(
    height=-2,
    offset=1,
    duration=60);
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.SpecificEnthalpyTwoPort"
>Buildings.Fluid.Sensors.SpecificEnthalpyTwoPort</A> senH(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=1) <font color="darkgreen">&quot;Specific enthalpy sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.MassFlowRate"
>Buildings.Fluid.Sensors.MassFlowRate</A> senM_flow(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium) <font color="darkgreen">&quot;Mass flow rate sensor&quot;</font>;
  <A HREF="Buildings_Utilities_Diagnostics.html#Buildings.Utilities.Diagnostics.AssertEquality"
>Buildings.Utilities.Diagnostics.AssertEquality</A> assEqu1 <font color="darkgreen">
    &quot;Assert to check then enthalpy flow rate sensor&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Product"
>Modelica.Blocks.Math.Product</A> product <font color="darkgreen">&quot;Product to compute enthalpy flow rate&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.LatentEnthalpyFlowRate"
>Buildings.Fluid.Sensors.LatentEnthalpyFlowRate</A> senHLat_flow(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=1) <font color="darkgreen">&quot;Latent enthalpy flow rate sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.SensibleEnthalpyFlowRate"
>Buildings.Fluid.Sensors.SensibleEnthalpyFlowRate</A> senHSen_flow(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium, m_flow_nominal=1) <font color="darkgreen">
    &quot;Sensible enthalpy flow rate sensor&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</A> add <font color="darkgreen">
    &quot;Outputs the sensible plus latent enthalpy flow rate&quot;</font>;
  <A HREF="Buildings_Utilities_Diagnostics.html#Buildings.Utilities.Diagnostics.AssertEquality"
>Buildings.Utilities.Diagnostics.AssertEquality</A> assEqu2 <font color="darkgreen">
    &quot;Assert to check the sensible and latent enthalpy flow rate sensors&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(ramp.y, sou.m_flow_in);
  <font color="red">connect</font>(sou.ports[1], senH_flow.port_a);
  <font color="red">connect</font>(senH_flow.port_b, senH.port_a);
  <font color="red">connect</font>(senH.port_b, senM_flow.port_a);
  <font color="red">connect</font>(senH_flow.H_flow, assEqu1.u1);
  <font color="red">connect</font>(senH.h_out, product.u1);
  <font color="red">connect</font>(senM_flow.m_flow, product.u2);
  <font color="red">connect</font>(product.y, assEqu1.u2);
  <font color="red">connect</font>(senHLat_flow.H_flow, add.u1);
  <font color="red">connect</font>(senHSen_flow.H_flow, add.u2);
  <font color="red">connect</font>(senM_flow.port_b, senHLat_flow.port_a);
  <font color="red">connect</font>(senHLat_flow.port_b, senHSen_flow.port_a);
  <font color="red">connect</font>(senH_flow.H_flow, assEqu2.u1);
  <font color="red">connect</font>(add.y, assEqu2.u2);
  <font color="red">connect</font>(senHSen_flow.port_b, sin.ports[1]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>MoistAirEnthalpyFlowRate;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Pressure<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Sensors.Examples.DensityI.png" ALT="Buildings.Fluid.Sensors.Examples.Pressure" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Sensors.Examples.Pressure"></A><A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</A>.Pressure</H2>
<B>Test model for the pressure sensor</B><p></P>
<IMG SRC="Buildings.Fluid.Sensors.E2ebca582dc089ed9ssureD.png" ALT="Buildings.Fluid.Sensors.Examples.Pressure">
<P></P><H3>Information</H3>

<p>
This example tests the pressure sensors.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Pressure <font color="darkgreen">&quot;Test model for the pressure sensor&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_PerfectGases_MoistAirUnsaturated.html#Buildings.Media.PerfectGases.MoistAirUnsaturated"
>Buildings.Media.PerfectGases.MoistAirUnsaturated</A> <font color="darkgreen">
    &quot;Medium model&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T=293.15,
    nPorts=1) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</A> masFloRat(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_T_in=false,
    X={0.02,0.98},
    use_m_flow_in=true,
    nPorts=1) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</A> dp(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=10,
    dp_nominal=200) <font color="darkgreen">&quot;Flow resistance&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> ramp(
    height=-20,
    offset=10,
    duration=1);
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.Pressure"
>Buildings.Fluid.Sensors.Pressure</A> senPre_a(<font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium) <font color="darkgreen">
    &quot;Pressure sensor at resistance port a&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.Pressure"
>Buildings.Fluid.Sensors.Pressure</A> senPre_b(<font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium) <font color="darkgreen">
    &quot;Pressure sensor at resistance port b&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.RelativePressure"
>Buildings.Fluid.Sensors.RelativePressure</A> senRelPre(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium) <font color="darkgreen">&quot;Pressure difference across resistance&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(ramp.y, masFloRat.m_flow_in);
  <font color="red">connect</font>(masFloRat.ports[1], dp.port_a);
  <font color="red">connect</font>(dp.port_b, sin.ports[1]);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(senPre_a.port, dp.port_a);
  <font color="red">connect</font>(senPre_b.port, dp.port_b);
  <font color="red">connect</font>(senRelPre.port_a, dp.port_a);
  <font color="red">connect</font>(senRelPre.port_b, dp.port_b);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Pressure;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE RelativeHumidity<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Sensors.Examples.DensityI.png" ALT="Buildings.Fluid.Sensors.Examples.RelativeHumidity" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Sensors.Examples.RelativeHumidity"></A><A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</A>.RelativeHumidity</H2>
<B>Test model for relative humidity sensor</B><p></P>
<IMG SRC="Buildings.Fluid.Sensors.E0834a268b4cde4abidityD.png" ALT="Buildings.Fluid.Sensors.Examples.RelativeHumidity">
<P></P><H3>Information</H3>

<p>
This example tests the relative humidity sensors.
Note that the sensor with one port always measures the humidity
as if the flow would be leaving the source.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> RelativeHumidity <font color="darkgreen">&quot;Test model for relative humidity sensor&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_PerfectGases_MoistAir.html#Buildings.Media.PerfectGases.MoistAir"
>Buildings.Media.PerfectGases.MoistAir</A> <font color="darkgreen">&quot;Medium model&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(
   <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    T=293.15,
    nPorts=1);
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow=1,
    use_T_in=true,
    use_X_in=true,
    use_m_flow_in=true,
    nPorts=2) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> TDryBul(
    height=10,
    offset=273.15 + 30,
    duration=120) <font color="darkgreen">&quot;Dry bulb temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> XHum(
    duration=1,
    height=(0.0133 - 0.0175),
    offset=0.0175) <font color="darkgreen">&quot;Humidity concentration&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> const(k=1) <font color="darkgreen">&quot;Constant&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Feedback"
>Modelica.Blocks.Math.Feedback</A> dif <font color="darkgreen">
    &quot;Difference, used to compute the mass fraction of dry air&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.RelativeHumidity"
>Buildings.Fluid.Sensors.RelativeHumidity</A> senRelHum(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium) <font color="darkgreen">
    &quot;Relative humidity of the flow source if the medium were outflowing&quot;</font>;
    <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> m_flow(
    height=-2,
    offset=1,
    duration=500) <font color="darkgreen">&quot;Mass flow rate&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.RelativeHumidityTwoPort"
>Buildings.Fluid.Sensors.RelativeHumidityTwoPort</A> relHum(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium, m_flow_nominal=1,
    initType=Modelica.Blocks.Types.Init.InitialState) <font color="darkgreen">
    &quot;Relative humidity of the passing fluid&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(TDryBul.y, sou.T_in);
  <font color="red">connect</font>(const.y, dif.u1);
  <font color="red">connect</font>(XHum.y, dif.u2);
  <font color="red">connect</font>(XHum.y, sou.X_in[1]);
  <font color="red">connect</font>(dif.y, sou.X_in[2]);
  <font color="red">connect</font>(m_flow.y, sou.m_flow_in);
  <font color="red">connect</font>(relHum.port_b, sin.ports[1]);
  <font color="red">connect</font>(senRelHum.port, sou.ports[1]);
  <font color="red">connect</font>(sou.ports[2], relHum.port_a);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>RelativeHumidity;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SpecificEnthalpy<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Sensors.Examples.DensityI.png" ALT="Buildings.Fluid.Sensors.Examples.SpecificEnthalpy" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Sensors.Examples.SpecificEnthalpy"></A><A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</A>.SpecificEnthalpy</H2>
<B>Test model for the enthalpy flow rate sensors</B><p></P>
<IMG SRC="Buildings.Fluid.Sensors.E5e638b9868609b17halpyD.png" ALT="Buildings.Fluid.Sensors.Examples.SpecificEnthalpy">
<P></P><H3>Information</H3>

<p>
This example tests the specific enthalpy sensors.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> SpecificEnthalpy <font color="darkgreen">
  &quot;Test model for the enthalpy flow rate sensors&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_IdealGases_SimpleAir.html#Buildings.Media.IdealGases.SimpleAir"
>Buildings.Media.IdealGases.SimpleAir</A> <font color="darkgreen">&quot;Medium model&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_h"
>Buildings.Fluid.Sources.MassFlowSource_h</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_m_flow_in=true,
    use_h_in=false,
    nPorts=2) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_ph"
>Buildings.Fluid.Sources.Boundary_ph</A> sin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_h_in=false,
    h=20,
    nPorts=1) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> ramp(
    height=-2,
    offset=1,
    duration=60);
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.SpecificEnthalpy"
>Buildings.Fluid.Sensors.SpecificEnthalpy</A> senFloSou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium) <font color="darkgreen">&quot;Sensor at the flow source&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.SpecificEnthalpyTwoPort"
>Buildings.Fluid.Sensors.SpecificEnthalpyTwoPort</A> senStr(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=2) <font color="darkgreen">&quot;Sensor in the fluid stream&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(ramp.y, sou.m_flow_in);
  <font color="red">connect</font>(sou.ports[1], senFloSou.port);
  <font color="red">connect</font>(sou.ports[2], senStr.port_a);
  <font color="red">connect</font>(senStr.port_b, sin.ports[1]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>SpecificEnthalpy;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SpecificEntropy<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Sensors.Examples.DensityI.png" ALT="Buildings.Fluid.Sensors.Examples.SpecificEntropy" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Sensors.Examples.SpecificEntropy"></A><A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</A>.SpecificEntropy</H2>
<B>Test model for the entropy flow rate sensors</B><p></P>
<IMG SRC="Buildings.Fluid.Sensors.Ea82e84d6734f3f52tropyD.png" ALT="Buildings.Fluid.Sensors.Examples.SpecificEntropy">
<P></P><H3>Information</H3>

<p>
This example tests the specific entropy sensors.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> SpecificEntropy <font color="darkgreen">&quot;Test model for the entropy flow rate sensors&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_IdealGases_SimpleAir.html#Buildings.Media.IdealGases.SimpleAir"
>Buildings.Media.IdealGases.SimpleAir</A> <font color="darkgreen">&quot;Medium model&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_h"
>Buildings.Fluid.Sources.MassFlowSource_h</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_m_flow_in=true,
    use_h_in=false,
    nPorts=2) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_ph"
>Buildings.Fluid.Sources.Boundary_ph</A> sin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_h_in=false,
    h=20,
    nPorts=1) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> ramp(
    height=-2,
    offset=1,
    duration=60);
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.SpecificEntropy"
>Buildings.Fluid.Sensors.SpecificEntropy</A> senFloSou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium) <font color="darkgreen">&quot;Sensor at the flow source&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.SpecificEntropyTwoPort"
>Buildings.Fluid.Sensors.SpecificEntropyTwoPort</A> senStr(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=2) <font color="darkgreen">&quot;Sensor in the fluid stream&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(ramp.y, sou.m_flow_in);
  <font color="red">connect</font>(sou.ports[1], senFloSou.port);
  <font color="red">connect</font>(sou.ports[2], senStr.port_a);
  <font color="red">connect</font>(senStr.port_b, sin.ports[1]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>SpecificEntropy;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TemperatureDryBulb<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Sensors.Examples.DensityI.png" ALT="Buildings.Fluid.Sensors.Examples.TemperatureDryBulb" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Sensors.Examples.TemperatureDryBulb"></A><A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</A>.TemperatureDryBulb</H2>
<B>Test model for the dry bulb temperature sensor</B><p></P>
<IMG SRC="Buildings.Fluid.Sensors.E30365b01e18a3818yBulbD.png" ALT="Buildings.Fluid.Sensors.Examples.TemperatureDryBulb">
<P></P><H3>Information</H3>

<p>
This example tests the dry bulb temperature sensors.
One sensor is configured to be a steady-state model,
and the other sensor is configured to be a dynamic sensor.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> TemperatureDryBulb <font color="darkgreen">
  &quot;Test model for the dry bulb temperature sensor&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

 <font color="blue">package</font> Medium = <A HREF="Buildings_Media_PerfectGases_MoistAirUnsaturated.html#Buildings.Media.PerfectGases.MoistAirUnsaturated"
>Buildings.Media.PerfectGases.MoistAirUnsaturated</A> <font color="darkgreen">
    &quot;Medium model&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> amb(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T=298.15,
    nPorts=1) <font color="darkgreen">
    &quot;Ambient conditions, used to test the relative temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</A> masFloRat(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_T_in=true,
    use_m_flow_in=true,
    nPorts=1) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> TDryBul(
    height=10,
    duration=1,
    offset=273.15 + 30) <font color="darkgreen">&quot;Dry bulb temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> XHum(
    height=(0.0133 - 0.0175),
    offset=0.0175,
    duration=60) <font color="darkgreen">&quot;Humidity concentration&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> const(k=1);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Feedback"
>Modelica.Blocks.Math.Feedback</A> dif <font color="darkgreen">
    &quot;Difference, used to compute the mass fraction of dry air&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> temSteSta(
   <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
   m_flow_nominal=2,
   tau=0) <font color="darkgreen">&quot;Steady state temperature sensor&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
    <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Pulse"
>Modelica.Blocks.Sources.Pulse</A> m_flow(
    offset=-1,
    amplitude=2,
    period=30) <font color="darkgreen">&quot;Mass flow rate&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> temDyn(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=2,
    initType=Modelica.Blocks.Types.Init.InitialState,
    T_start=293.15) <font color="darkgreen">&quot;Dynamic temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.RelativeTemperature"
>RelativeTemperature</A> senRelTem(<font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium) <font color="darkgreen">
    &quot;Temperature difference sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    nPorts=2,
    T=293.15) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(TDryBul.y, masFloRat.T_in);
  <font color="red">connect</font>(const.y, dif.u1);
  <font color="red">connect</font>(XHum.y, dif.u2);
  <font color="red">connect</font>(XHum.y, masFloRat.X_in[1]);
  <font color="red">connect</font>(dif.y, masFloRat.X_in[2]);
  <font color="red">connect</font>(masFloRat.ports[1], temSteSta.port_a);
  <font color="red">connect</font>(m_flow.y, masFloRat.m_flow_in);
  <font color="red">connect</font>(temSteSta.port_b, temDyn.port_a);
  <font color="red">connect</font>(temDyn.port_b, sin.ports[1]);
  <font color="red">connect</font>(amb.ports[1], senRelTem.port_a);
  <font color="red">connect</font>(senRelTem.port_b, sin.ports[2]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>TemperatureDryBulb;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TemperatureWetBulb<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Sensors.Examples.DensityI.png" ALT="Buildings.Fluid.Sensors.Examples.TemperatureWetBulb" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Sensors.Examples.TemperatureWetBulb"></A><A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</A>.TemperatureWetBulb</H2>
<B>Test model for the wet bulb temperature sensor</B><p></P>
<IMG SRC="Buildings.Fluid.Sensors.E7bfb87b00f5a381ctBulbD.png" ALT="Buildings.Fluid.Sensors.Examples.TemperatureWetBulb">
<P></P><H3>Information</H3>

<p>
This example tests the wet bulb temperature sensor.
The problem setup is such that the moisture concentration and
the dry bulb temperature are varied simultaneously in such a way
that the wet bulb temperature remains close to a constant value.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> TemperatureWetBulb <font color="darkgreen">
  &quot;Test model for the wet bulb temperature sensor&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
 <font color="blue">package</font> Medium = <A HREF="Buildings_Media_PerfectGases_MoistAir.html#Buildings.Media.PerfectGases.MoistAir"
>Buildings.Media.PerfectGases.MoistAir</A> <font color="darkgreen">&quot;Medium model&quot;</font>;
<textblock type="annotcomp" expanded="false">    <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> p(
    duration=1,
    offset=101325,
    height=250) <font color="darkgreen">&quot;Pressure boundary condition&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium=Medium,
    use_p_in=true,
    nPorts=1,
    T=293.15) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureWetBulbTwoPort"
>Buildings.Fluid.Sensors.TemperatureWetBulbTwoPort</A> senWetBul(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium=Medium,
    m_flow_nominal=1,
    tau=0) <font color="darkgreen">&quot;Wet bulb temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow=1,
    use_T_in=true,
    use_X_in=true,
    nPorts=1) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> TDryBul(
    height=10,
    offset=273.15 + 30,
    duration=50) <font color="darkgreen">&quot;Dry bulb temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> XHum(
    height=(0.0133 - 0.0175),
    offset=0.0175,
    duration=50) <font color="darkgreen">&quot;Humidity concentration&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> const(k=1);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Feedback"
>Modelica.Blocks.Math.Feedback</A> dif <font color="darkgreen">
    &quot;Difference, used to compute the mass fraction of dry air&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(TDryBul.y, sou.T_in);
  <font color="red">connect</font>(const.y, dif.u1);
  <font color="red">connect</font>(XHum.y, dif.u2);
  <font color="red">connect</font>(XHum.y, sou.X_in[1]);
  <font color="red">connect</font>(dif.y, sou.X_in[2]);
  <font color="red">connect</font>(p.y, sin.p_in);
  <font color="red">connect</font>(sou.ports[1], senWetBul.port_a);
  <font color="red">connect</font>(senWetBul.port_b, sin.ports[1]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>TemperatureWetBulb;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TraceSubstances<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Sensors.Examples.DensityI.png" ALT="Buildings.Fluid.Sensors.Examples.TraceSubstances" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Sensors.Examples.TraceSubstances"></A><A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</A>.TraceSubstances</H2>
<B>Test model for the extra property sensor</B><p></P>
<IMG SRC="Buildings.Fluid.Sensors.E90fe01e38627b039ancesD.png" ALT="Buildings.Fluid.Sensors.Examples.TraceSubstances">
<P></P><H3>Information</H3>

<p>
This example tests the sensors that measure trace substances.
A CO<sub>2</sub> mass flow rate of <i>8.18E-8</i> kg/kg is added to the
volume. The volume also has a fresh air mass flow rate and
an exhaust air mass flow rate. The initial CO<sub>2</sub> concentration
of the volume is <i>0</i> kg/kg.
Note that the fresh air supply has zero carbon dioxide concentration.
Therefore, if it were outside air, then all concentrations are relative
to the outside air concentration.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>15*1.2/3600</TD><TD>Mass flow rate into and out of the volume [kg/s]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> TraceSubstances <font color="darkgreen">&quot;Test model for the extra property sensor&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
 <font color="blue">package</font> Medium = <A HREF="Buildings_Media_GasesPTDecoupled_SimpleAir.html#Buildings.Media.GasesPTDecoupled.SimpleAir"
>Buildings.Media.GasesPTDecoupled.SimpleAir</A>(extraPropertiesNames={&quot;CO2&quot;}) <font color="darkgreen">
    &quot;Medium model&quot;</font>;

 <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> m_flow_nominal = 15*1.2/3600 <font color="darkgreen">
    &quot;Mass flow rate into and out of the volume&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>MixingVolumes.MixingVolume</A> vol(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    V=2*3*3,
    m_flow_nominal=1E-6,
    nPorts=4,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <font color="darkgreen">&quot;Mixing volume&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.TraceSubstancesFlowSource"
>Sources.TraceSubstancesFlowSource</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    nPorts=2,
    use_m_flow_in=true) <font color="darkgreen">&quot;CO2 mass flow source&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> step(k=8.18E-6) <font color="darkgreen">&quot;CO2 mass flow rate&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TraceSubstances"
>Buildings.Fluid.Sensors.TraceSubstances</A> senVol(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium) <font color="darkgreen">&quot;Sensor at volume&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TraceSubstances"
>Buildings.Fluid.Sensors.TraceSubstances</A> senSou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    substanceName=&quot;CO2&quot;) <font color="darkgreen">&quot;Sensor at source&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> m_flow(k=m_flow_nominal) <font color="darkgreen">
    &quot;Fresh air mass flow rate&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</A> mSou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_m_flow_in=true,
    nPorts=1) <font color="darkgreen">&quot;Fresh air supply&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</A> gain(k=-1) <font color="darkgreen">&quot;Gain for exhaust air mass flow rate&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</A> mSin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_m_flow_in=true,
    nPorts=1) <font color="darkgreen">&quot;Exhaust air&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors_Conversions.html#Buildings.Fluid.Sensors.Conversions.To_VolumeFraction"
>Buildings.Fluid.Sensors.Conversions.To_VolumeFraction</A> masFraSou(
    MMMea=Modelica.Media.IdealGases.Common.SingleGasesData.CO2.MM) <font color="darkgreen">
    &quot;Conversion of mass ratio to volume ratio&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors_Conversions.html#Buildings.Fluid.Sensors.Conversions.To_VolumeFraction"
>Buildings.Fluid.Sensors.Conversions.To_VolumeFraction</A> masFraVol(
    MMMea=Modelica.Media.IdealGases.Common.SingleGasesData.CO2.MM) <font color="darkgreen">
    &quot;Conversion of mass ratio to volume ratio&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TraceSubstancesTwoPort"
>Buildings.Fluid.Sensors.TraceSubstancesTwoPort</A> senTraSub(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=m_flow_nominal) <font color="darkgreen">&quot;Sensor at exhaust air&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;</textblock>

<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(m_flow.y, mSou.m_flow_in);
  <font color="red">connect</font>(m_flow.y, gain.u);
  <font color="red">connect</font>(gain.y, mSin.m_flow_in);
  <font color="red">connect</font>(senSou.C, masFraSou.m);
  <font color="red">connect</font>(senVol.C, masFraVol.m);
  <font color="red">connect</font>(sou.ports[1], senSou.port);
  <font color="red">connect</font>(step.y, sou.m_flow_in);
  <font color="red">connect</font>(mSin.ports[1], senTraSub.port_b);
  <font color="red">connect</font>(sou.ports[2], vol.ports[1]);
  <font color="red">connect</font>(mSou.ports[1], vol.ports[2]);
  <font color="red">connect</font>(senTraSub.port_a, vol.ports[3]);
  <font color="red">connect</font>(vol.ports[4], senVol.port);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>TraceSubstances;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE VolumeFlowRate<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Sensors.Examples.DensityI.png" ALT="Buildings.Fluid.Sensors.Examples.VolumeFlowRate" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Sensors.Examples.VolumeFlowRate"></A><A HREF="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</A>.VolumeFlowRate</H2>
<B>Test model for the volume flow rate sensor</B><p></P>
<IMG SRC="Buildings.Fluid.Sensors.E546089fd3ac14cfcwRateD.png" ALT="Buildings.Fluid.Sensors.Examples.VolumeFlowRate">
<P></P><H3>Information</H3>

<p>
This example tests the volume flow rate sensor.
One sensor is configured to be steady-state, and the other is 
configured to be dynamic.
Note that steady-state sensors can lead to numerical problems
if used incorrectly. 
See
<A HREF="Buildings_Fluid_Sensors_UsersGuide.html#Buildings.Fluid.Sensors.UsersGuide"
>
Buildings.Fluid.Sensors.UsersGuide</a> for an explanation.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> VolumeFlowRate <font color="darkgreen">&quot;Test model for the volume flow rate sensor&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_PerfectGases_MoistAirUnsaturated.html#Buildings.Media.PerfectGases.MoistAirUnsaturated"
>Buildings.Media.PerfectGases.MoistAirUnsaturated</A> <font color="darkgreen">
    &quot;Medium model&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T=293.15,
    nPorts=1) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</A> masFloRat(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_T_in=false,
    X={0.02,0.98},
    use_m_flow_in=true,
    nPorts=1) <font color="darkgreen">&quot;Flow boundary condition&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> ramp(
    height=-20,
    offset=10,
    duration=60);
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.VolumeFlowRate"
>Buildings.Fluid.Sensors.VolumeFlowRate</A> senDyn(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=10) <font color="darkgreen">
    &quot;Sensor configured to use a dynamic model for the density&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.VolumeFlowRate"
>Buildings.Fluid.Sensors.VolumeFlowRate</A> senSteSta(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=10,
    tau=0) <font color="darkgreen">&quot;Sensor configured to use a steady-state model for the density&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(ramp.y, masFloRat.m_flow_in);
  <font color="red">connect</font>(masFloRat.ports[1], senDyn.port_a);
  <font color="red">connect</font>(senDyn.port_b, senSteSta.port_a);
  <font color="red">connect</font>(senSteSta.port_b, sin.ports[1]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>VolumeFlowRate;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Thu Oct 24 15:09:51 2013.
</address></BODY>
</HTML>
