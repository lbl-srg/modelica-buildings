<HTML>
<HEAD>
<TITLE>Buildings.Examples.ChillerPlant.BaseClasses.Controls</TITLE>
<META name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META name="description" content="&quot;Package with control components for Buildings.Examples.ChillerPlant&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- --- header ------ -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- --- end header -- -->
</P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Controls<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Examples.ChillerPlant.BaseClasses.Controls"></A><A HREF="Buildings_Examples_ChillerPlant_BaseClasses.html#Buildings.Examples.ChillerPlant.BaseClasses"
>Buildings.Examples.ChillerPlant.BaseClasses</A>.Controls</H2>
<B>Package with control components for Buildings.Examples.ChillerPlant</B>
<P></P>
<P></P><H3>Information</H3>

<p>
This package contains component models that are used to construct the control system in
<A HREF="Buildings_Examples_ChillerPlant.html#Buildings.Examples.ChillerPlant"
>Buildings.Examples.ChillerPlant</a>.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons_VariantsPackage.html#Modelica.Icons.VariantsPackage"
>Modelica.Icons.VariantsPackage</A> (Icon for package containing variants).
<P></P><H3>Package Content</H3>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Buildings.Examples.Chille185e20d8bdde5cc2witchS.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.ChillerSwitch" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.ChillerSwitch"
>ChillerSwitch</A>
</TD><TD>Control unit for enabling/disabling chiller</TD></TR>
<TR><TD><IMG SRC="Buildings.Examples.Chille68f475eb386a85cdinusUS.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.KMinusU" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.KMinusU"
>KMinusU</A>
</TD><TD>Output y=k-u</TD></TR>
<TR><TD><IMG SRC="Buildings.Examples.Chille53ac86a0e07312c8seTwoS.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.LinearPiecewiseTwo" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.LinearPiecewiseTwo"
>LinearPiecewiseTwo</A>
</TD><TD>A two-pieces linear piecewise function</TD></TR>
<TR><TD><IMG SRC="Buildings.Examples.Chillea603ef0e56637393unterS.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.RequestCounter" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.RequestCounter"
>RequestCounter</A>
</TD><TD>Count the number of actuators that have request</TD></TR>
<TR><TD><IMG SRC="Buildings.Examples.Chillecc60e43d7e68836cspondS.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.TrimAndRespond" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.TrimAndRespond"
>TrimAndRespond</A>
</TD><TD>Trim and respond logic</TD></TR>
<TR><TD><IMG SRC="Buildings.Examples.Chille204c27065169fa82ationS.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.TrimAndRespondContinuousTimeApproximation" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.TrimAndRespondContinuousTimeApproximation"
>TrimAndRespondContinuousTimeApproximation</A>
</TD><TD>Trim and respond logic</TD></TR>
<TR><TD><IMG SRC="Buildings.Examples.Chillee4403c6d2f2446d2ntrolS.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.WSEControl" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.WSEControl"
>WSEControl</A>
</TD><TD>Control unit for WSE</TD></TR>
<TR><TD><IMG SRC="Buildings.Examples.Chille5458a1e65d6043a9mplesS.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples"
>Examples</A>
</TD><TD>Test of components</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ChillerSwitch<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Examples.Chille185e20d8bdde5cc2witchI.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.ChillerSwitch" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Examples.ChillerPlant.BaseClasses.Controls.ChillerSwitch"></A><A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls</A>.ChillerSwitch</H2>
<B>Control unit for enabling/disabling chiller</B><p></P>
<IMG SRC="Buildings.Examples.Chille185e20d8bdde5cc2witchD.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.ChillerSwitch">
<P></P><H3>Information</H3>

The controls for enabling/disabling chiller are as follows:
<ul>
<li>
The chiller is enabled when 
<p align="left" style="font-style:italic;">
  T<sub>Chi_CHWST</sub> &gt; T<sub>ChiSet</sub> + T<sub>DeaBan</sub> </p>
  </li>
<li>
The chiller is disabled when 
<p align="left" style="font-style:italic;">
  T<sub>Chi_CHWST</sub> &le; T<sub>ChiSet</sub></p>
</li>
</ul>
where <i>T<sub>Chi_CHWST</sub></i> is chiller chilled water supply temperature, <i>T<sub>ChiSet</sub></i> is set temperature for chilled water leaving chiller, and <i>T<sub>DeaBan</sub></i> is dead band to prevent short cycling. 
<pre>
</PRE><P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>deaBan</TD><TD>&nbsp;</TD><TD>Dead band of temperature to prevent chiller short cycling [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>chiCHWST</TD><TD>Chiller chilled water supply temperature (water entering chiller) [K]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</A></TD><TD>y</TD><TD>Control signal for chiller. 1: Enable, 0: Disable</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TSet</TD><TD>Set temperature of chiller [K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> ChillerSwitch <font color="darkgreen">&quot;Control unit for enabling/disabling chiller&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> chiCHWST(
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;K&quot;,
    displayUnit=&quot;deg&quot;) <font color="darkgreen">
    &quot;Chiller chilled water supply temperature (water entering chiller)&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>Modelica.Blocks.Interfaces.BooleanOutput</A> y <font color="darkgreen">
    &quot;Control signal for chiller. 1: Enable, 0: Disable&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TSet(
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;K&quot;,
    displayUnit=&quot;deg&quot;) <font color="darkgreen">&quot;Set temperature of chiller&quot;</font>;</textblock>
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> deaBan <font color="darkgreen">
    &quot;Dead band of temperature to prevent chiller short cycling&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Hysteresis"
>Modelica.Blocks.Logical.Hysteresis</A> hysteresis(uLow=0, uHigh=deaBan);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</A> add(k1=+1, k2=-1);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(hysteresis.y, y);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(chiCHWST, add.u1);
  <font color="red">connect</font>(TSet, add.u2);
  <font color="red">connect</font>(add.y, hysteresis.u);</textblock>

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>ChillerSwitch;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE KMinusU<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Examples.Chille68f475eb386a85cdinusUI.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.KMinusU" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Examples.ChillerPlant.BaseClasses.Controls.KMinusU"></A><A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls</A>.KMinusU</H2>
<B>Output y=k-u</B><p></P>
<IMG SRC="Buildings.Examples.Chille68f475eb386a85cdinusUD.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.KMinusU">
<P></P><H3>Information</H3>

This component computes the value of
<p align="left" style="font-style:italic;"> y = k - u. </p>
<pre>
</PRE><P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>k</TD><TD>&nbsp;</TD><TD>Sum of u and y</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>u</TD><TD>Input</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Output</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> KMinusU <font color="darkgreen">&quot;Output y=k-u&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
<font color="blue">public </font>
  <font color="blue">parameter </font>Real k <font color="darkgreen">&quot;Sum of u and y&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> u <font color="darkgreen">&quot;Input&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> y <font color="darkgreen">&quot;Output&quot;</font>;</textblock>
<font color="blue">equation </font>
  y = k - u;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>KMinusU;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE LinearPiecewiseTwo<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Examples.Chille53ac86a0e07312c8seTwoI.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.LinearPiecewiseTwo" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Examples.ChillerPlant.BaseClasses.Controls.LinearPiecewiseTwo"></A><A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls</A>.LinearPiecewiseTwo</H2>
<B>A two-pieces linear piecewise function</B><p></P>
<IMG SRC="Buildings.Examples.Chille53ac86a0e07312c8seTwoD.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.LinearPiecewiseTwo">
<P></P><H3>Information</H3>

<p>
This component calcuates the output according to two piecewise linear function as 
</p>
<table>
<tr>
<td>
<i>u &isin; [x<sub>0</sub>, x<sub>1</sub>]:</i></td>
    <td><i>y<sub>1</sub> = y<sub>10</sub> + u (y<sub>11</sub>-y<sub>10</sub>)/(x<sub>1</sub>-x<sub>0</sub>)</i><br/>
        <i>y<sub>2</sub> = y<sub>20</sub></i></td>
</tr>
<tr>
<td><i>u &isin; (x<sub>1</sub>, x<sub>2</sub>]:</i></td>
    <td><i>y<sub>1</sub> = y<sub>11</sub></i><br/>
    <i>y<sub>2</sub> = y<sub>20</sub> + (u-x<sub>1</sub>) 
       (y<sub>21</sub>-y<sub>20</sub>)/(x<sub>2</sub>-x<sub>1</sub>)</i></td>
</tr>
</table> 
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>x0</TD><TD>&nbsp;</TD><TD>First interval [x0, x1]</TD></TR>
<TR><TD>Real</TD><TD>x1</TD><TD>&nbsp;</TD><TD>First interval [x0, x1] and second interval (x1, x2]</TD></TR>
<TR><TD>Real</TD><TD>x2</TD><TD>&nbsp;</TD><TD>Second interval (x1, x2]</TD></TR>
<TR><TD>Real</TD><TD>y10</TD><TD>&nbsp;</TD><TD>y[1] at u = x0</TD></TR>
<TR><TD>Real</TD><TD>y11</TD><TD>&nbsp;</TD><TD>y[1] at u = x1</TD></TR>
<TR><TD>Real</TD><TD>y20</TD><TD>&nbsp;</TD><TD>y[2] at u = x1</TD></TR>
<TR><TD>Real</TD><TD>y21</TD><TD>&nbsp;</TD><TD>y[2] at u = x2</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>u</TD><TD>Set point</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y[2]</TD><TD>Connectors of Real output signal</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> LinearPiecewiseTwo <font color="darkgreen">&quot;A two-pieces linear piecewise function&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
  <font color="blue">parameter </font>Real x0 <font color="darkgreen">&quot;First interval [x0, x1]&quot;</font>;
  <font color="blue">parameter </font>Real x1 <font color="darkgreen">&quot;First interval [x0, x1] and second interval (x1, x2]&quot;</font>;
  <font color="blue">parameter </font>Real x2 <font color="darkgreen">&quot;Second interval (x1, x2]&quot;</font>;
  <font color="blue">parameter </font>Real y10 <font color="darkgreen">&quot;y[1] at u = x0&quot;</font>;
  <font color="blue">parameter </font>Real y11 <font color="darkgreen">&quot;y[1] at u = x1&quot;</font>;
  <font color="blue">parameter </font>Real y20 <font color="darkgreen">&quot;y[2] at u = x1&quot;</font>;
  <font color="blue">parameter </font>Real y21 <font color="darkgreen">&quot;y[2] at u = x2&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> u <font color="darkgreen">&quot;Set point&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> y[2] <font color="darkgreen">&quot;Connectors of Real output signal&quot;</font>;
  <A HREF="Buildings_Controls_SetPoints.html#Buildings.Controls.SetPoints.Table"
>Buildings.Controls.SetPoints.Table</A> y1Tab(table=[x0, y10; x1, y11; x2, y11]) <font color="darkgreen">
    &quot;Tabel for y[1]&quot;</font>;
  <A HREF="Buildings_Controls_SetPoints.html#Buildings.Controls.SetPoints.Table"
>Buildings.Controls.SetPoints.Table</A> y2Tab(table=[x0, y20; x1, y20; x2, y21]) <font color="darkgreen">
    &quot;Tabel for y[2]&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(u, y1Tab.u);
  <font color="red">connect</font>(u, y2Tab.u);
  <font color="red">connect</font>(y1Tab.y, y[1]);
  <font color="red">connect</font>(y2Tab.y, y[2]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>LinearPiecewiseTwo;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE RequestCounter<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Examples.Chillea603ef0e56637393unterI.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.RequestCounter" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Examples.ChillerPlant.BaseClasses.Controls.RequestCounter"></A><A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls</A>.RequestCounter</H2>
<B>Count the number of actuators that have request</B><p></P>
<IMG SRC="Buildings.Examples.Chillea603ef0e56637393unterD.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.RequestCounter">
<P></P><H3>Information</H3>

   This model counts the number of requests sent by actuators. A request is triggerred when an input singal <code>uAct[i]</code> is larger than <code>uTri</code>.
   <P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>nAct</TD><TD>&nbsp;</TD><TD>Number of actuators</TD></TR>
<TR><TD>Real</TD><TD>uTri</TD><TD>&nbsp;</TD><TD>Value to trigger a request from actuator</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.IntegerOutput"
>IntegerOutput</A></TD><TD>nInc</TD><TD>Number of actuators requesting control signal increase</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>uAct[nAct]</TD><TD>Input signal from actuators</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> RequestCounter <font color="darkgreen">
  &quot;Count the number of actuators that have request&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
  <font color="blue">parameter </font>Integer nAct <font color="darkgreen">&quot;Number of actuators&quot;</font>;
  <font color="blue">parameter </font>Real uTri <font color="darkgreen">&quot;Value to trigger a request from actuator&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.IntegerOutput"
>Modelica.Blocks.Interfaces.IntegerOutput</A> nInc <font color="darkgreen">
    &quot;Number of actuators requesting control signal increase&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> uAct[nAct] <font color="darkgreen">&quot;Input signal from actuators&quot;</font>;</textblock>
<font color="blue">algorithm </font>
  nInc := 0;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nAct<font color="blue"> loop</font>
    <font color="blue">if </font>uAct[i] &gt; uTri<font color="blue"> then</font>
      nInc := nInc + 1;
    <font color="blue">end if</font>;
  <font color="blue">end for</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>RequestCounter;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TrimAndRespond<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Examples.Chillecc60e43d7e68836cspondI.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.TrimAndRespond" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Examples.ChillerPlant.BaseClasses.Controls.TrimAndRespond"></A><A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls</A>.TrimAndRespond</H2>
<B>Trim and respond logic</B><p></P>
<IMG SRC="Buildings.Examples.Chillecc60e43d7e68836cspondD.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.TrimAndRespond">
<P></P><H3>Information</H3>

<p>
   This model implements the trim and respond logic. The model samples the outputs of actuators every <code>tSam</code>.
   The control sequence is as follows:
</p>
<ul>
  <li>If <code>u &ge; 0</code>, then <code>y = y + nActInc</code>,</li> 
  <li>If <code>u &lt; 0</code>, then <code>y = y - yDec</code>.</li>
</ul>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.DiscreteSISO"
>Modelica.Blocks.Interfaces.DiscreteSISO</A> (Single Input Single Output discrete control block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>samplePeriod</TD><TD>&nbsp;</TD><TD>Sample period of component [s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>First sample time instant [s]</TD></TR>
<TR><TD>Real</TD><TD>uTri</TD><TD>&nbsp;</TD><TD>Value to triggering the request for actuator</TD></TR>
<TR><TD>Real</TD><TD>yEqu0</TD><TD>&nbsp;</TD><TD>y setpoint when equipment starts</TD></TR>
<TR><TD>Real</TD><TD>yDec</TD><TD>&nbsp;</TD><TD>y decrement (must be negative)</TD></TR>
<TR><TD>Real</TD><TD>yInc</TD><TD>&nbsp;</TD><TD>y increment (must be positive)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>u</TD><TD>Continuous input signal</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Continuous output signal</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> TrimAndRespond <font color="darkgreen">&quot;Trim and respond logic&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.DiscreteSISO"
>Modelica.Blocks.Interfaces.DiscreteSISO</A>;
  <font color="blue">parameter </font>Real uTri <font color="darkgreen">&quot;Value to triggering the request for actuator&quot;</font>;
  <font color="blue">parameter </font>Real yEqu0 <font color="darkgreen">&quot;y setpoint when equipment starts&quot;</font>;
  <font color="blue">parameter </font>Real yDec(max=0) <font color="darkgreen">&quot;y decrement (must be negative)&quot;</font>;
  <font color="blue">parameter </font>Real yInc(min=0) <font color="darkgreen">&quot;y increment (must be positive)&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.GreaterEqualThreshold"
>Modelica.Blocks.Logical.GreaterEqualThreshold</A>
                                           incY(threshold=0) <font color="darkgreen">
    &quot;Outputs true if y needs to be increased&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Switch"
>Modelica.Blocks.Logical.Switch</A> swi;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.Sampler"
>Modelica.Blocks.Discrete.Sampler</A> sam(samplePeriod=samplePeriod) <font color="darkgreen">&quot;Sampler&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> conYDec(k=yDec) <font color="darkgreen">&quot;y decrease&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> conYInc(k=yInc) <font color="darkgreen">&quot;y increase&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.UnitDelay"
>Modelica.Blocks.Discrete.UnitDelay</A> uniDel1(
    y_start=yEqu0,
    samplePeriod=samplePeriod,
    startTime=samplePeriod);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</A> add;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Nonlinear.html#Modelica.Blocks.Nonlinear.Limiter"
>Modelica.Blocks.Nonlinear.Limiter</A> lim(uMax=1, uMin=0) <font color="darkgreen">&quot;State limiter&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(lim.y, y);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(add.y, lim.u);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(uniDel1.y, add.u2);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(incY.y, swi.u2);
  <font color="red">connect</font>(sam.y, incY.u);
  <font color="red">connect</font>(lim.y, uniDel1.u);
  <font color="red">connect</font>(swi.y, add.u1);
  <font color="red">connect</font>(swi.u3, conYDec.y);
  <font color="red">connect</font>(conYInc.y, swi.u1);
  <font color="red">connect</font>(sam.u, u);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>TrimAndRespond;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TrimAndRespondContinuousTimeApproximation<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Examples.Chille204c27065169fa82ationI.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.TrimAndRespondContinuousTimeApproximation" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Examples.ChillerPlant.BaseClasses.Controls.TrimAndRespondContinuousTimeApproximation"></A><A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls</A>.TrimAndRespondContinuousTimeApproximation</H2>
<B>Trim and respond logic</B><p></P>
<IMG SRC="Buildings.Examples.Chille204c27065169fa82ationD.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.TrimAndRespondContinuousTimeApproximation">
<P></P><H3>Information</H3>

<p>
   This model implements a continuous time approximation to the trim and respond
   control algorithm.
</p>
   <P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Modelica.Blocks.Interfaces.SISO</A> (Single Input Single Output continuous control block).
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>u</TD><TD>Connector of Real input signal</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> TrimAndRespondContinuousTimeApproximation <font color="darkgreen">
  &quot;Trim and respond logic&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Modelica.Blocks.Interfaces.SISO</A>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Controls_Continuous.html#Buildings.Controls.Continuous.LimPID"
>Buildings.Controls.Continuous.LimPID</A> conPID(
    Td=1,
    yMax=1,
    yMin=0,
    reverseAction=true,
    controllerType=Modelica.Blocks.Types.SimpleController.PI,
    Ti=120,
    k=0.1);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> const(k=0);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(const.y, conPID.u_s);
  <font color="red">connect</font>(conPID.y, y);
  <font color="red">connect</font>(u, conPID.u_m);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>TrimAndRespondContinuousTimeApproximation;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE WSEControl<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Examples.Chillee4403c6d2f2446d2ntrolI.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.WSEControl" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Examples.ChillerPlant.BaseClasses.Controls.WSEControl"></A><A HREF="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls</A>.WSEControl</H2>
<B>Control unit for WSE</B><p></P>
<IMG SRC="Buildings.Examples.Chillee4403c6d2f2446d2ntrolD.png" ALT="Buildings.Examples.ChillerPlant.BaseClasses.Controls.WSEControl">
<P></P><H3>Information</H3>

<p>
This component decides if the WSE is set to on or off.
The WSE is enabled when
</p>
<ol>
<li>The WSE has been disabled for at least 20 minutes, and</li>
<li>
<i>
  T<sub>WSE_CHWST</sub> &gt; 0.9 T<sub>WetBul</sub> + T<sub>TowApp</sub> + T<sub>WSEApp</sub>
</i>
</li>
</ol>
<p>
The WSE is disabled when
</p>
<ol>
<li>The WSE has been enabled for at least 20 minutes, and</li>
<li>
<i>
  T<sub>WSE_CHWRT</sub> &lt; 1 + T<sub>WSE_CWST</sub>
</i>
</li>
</ol>
<p>
where <i>T<sub>WSE_CHWST</sub></i> is the chilled water supply temperature for the WSE, 
<i>T<sub>WetBul</sub></i> is the wet bulb temperature, <i>T<sub>TowApp</sub></i> is the cooling tower approach, <i>T<sub>WSEApp</sub></i> is the approach for the WSE, <i>T<sub>WSE_CHWRT</sub></i> is the chilled water return temperature for the WSE, and <i>T<sub>WSE_CWST</sub></i> is the condenser water return temperature for the WSE.
</p> 
<pre>
</PRE><P></P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>TemperatureDifference</A></TD><TD>dTOff</TD><TD>1</TD><TD>Temperature difference to switch WSE off [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>TemperatureDifference</A></TD><TD>dTW</TD><TD>1</TD><TD>Temperature difference that is added to WSE on guard [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>wseCHWST</TD><TD>WSE chilled water supply temperature (water entering WSE) [K]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y2</TD><TD>Control signal for chiller shutoff valve</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TWetBul</TD><TD>Wet bulb temperature [K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>towTApp</TD><TD>Cooling tower approach [K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>wseCWST</TD><TD>WSE condenser water supply temperature (water entering WSE) [K]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y1</TD><TD>Control signal for WSE shutoff valve</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> WSEControl <font color="darkgreen">&quot;Control unit for WSE&quot;</font>
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>Modelica.SIunits.TemperatureDifference</A> dTOff = 1 <font color="darkgreen">
    &quot;Temperature difference to switch WSE off&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>Modelica.SIunits.TemperatureDifference</A> dTW = 1 <font color="darkgreen">
    &quot;Temperature difference that is added to WSE on guard&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> wseCHWST(
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;K&quot;,
    displayUnit=&quot;deg&quot;) <font color="darkgreen">
    &quot;WSE chilled water supply temperature (water entering WSE)&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> y2 <font color="darkgreen">
    &quot;Control signal for chiller shutoff valve&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TWetBul(
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;K&quot;,
    displayUnit=&quot;deg&quot;) <font color="darkgreen">&quot;Wet bulb temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> towTApp(
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;K&quot;,
    displayUnit=&quot;deg&quot;) <font color="darkgreen">&quot;Cooling tower approach&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> wseCWST(
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;K&quot;,
    displayUnit=&quot;deg&quot;) <font color="darkgreen">
    &quot;WSE condenser water supply temperature (water entering WSE)&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.BooleanToReal"
>Modelica.Blocks.Math.BooleanToReal</A> booToRea2;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> y1 <font color="darkgreen">
    &quot;Control signal for WSE shutoff valve&quot;</font>;
  <A HREF="../../msl/Modelica_StateGraph2 2.0.1/help/Modelica_StateGraph2.html#Modelica_StateGraph2.Step"
>Modelica_StateGraph2.Step</A> off(
    use_activePort=true,
    nOut=1,
    nIn=1,
    <font color="blue">final </font>initialStep=true);
  <A HREF="../../msl/Modelica_StateGraph2 2.0.1/help/Modelica_StateGraph2.html#Modelica_StateGraph2.Transition"
>Modelica_StateGraph2.Transition</A> T1(delayedTransition=true, waitTime=1200,
    use_conditionPort=false,
    condition=wseCHWST &gt; 0.9*TWetBul + towTApp + dTW);
  <A HREF="../../msl/Modelica_StateGraph2 2.0.1/help/Modelica_StateGraph2.html#Modelica_StateGraph2.Step"
>Modelica_StateGraph2.Step</A> on(nIn=1, nOut=1,
    <font color="blue">final </font>initialStep=false);
  <A HREF="../../msl/Modelica_StateGraph2 2.0.1/help/Modelica_StateGraph2.html#Modelica_StateGraph2.Transition"
>Modelica_StateGraph2.Transition</A> T2(delayedTransition=true, waitTime=1200,
    use_conditionPort=false,
    condition=wseCHWST &lt; wseCWST + dTOff);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.BooleanToReal"
>Modelica.Blocks.Math.BooleanToReal</A> booToRea1(realTrue=0, realFalse=1);</textblock>
<font color="blue">equation </font>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(booToRea2.y, y2);
  <font color="red">connect</font>(off.outPort[1], T1.inPort);
  <font color="red">connect</font>(T1.outPort, on.inPort[1]);
  <font color="red">connect</font>(on.outPort[1], T2.inPort);
  <font color="red">connect</font>(T2.outPort, off.inPort[1]);
  <font color="red">connect</font>(off.activePort, booToRea2.u);
  <font color="red">connect</font>(booToRea1.y, y1);
  <font color="red">connect</font>(booToRea1.u, off.activePort);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>WSEControl;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Thu Oct 24 15:14:28 2013.
</address></BODY>
</HTML>
