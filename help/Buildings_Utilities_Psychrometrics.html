<HTML>
<HEAD>
<TITLE>Buildings.Utilities.Psychrometrics</TITLE>
<META name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META name="description" content="&quot;Library with psychrometric functions&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- --- header ------ -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- --- end header -- -->
</P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Psychrometrics<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Utilities.Psychrometrics"></A><A HREF="Buildings_Utilities.html#Buildings.Utilities"
>Buildings.Utilities</A>.Psychrometrics</H2>
<B>Library with psychrometric functions</B>
<P></P>
<P></P><H3>Information</H3>

<p>
This package contains blocks and functions for psychrometric calculations.
</p>

The nomenclature used in this package is described at
<A HREF="Buildings_UsersGuide.html#Buildings.UsersGuide.Conventions"
>
Buildings.UsersGuide.Conventions</a>.
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons_VariantsPackage.html#Modelica.Icons.VariantsPackage"
>Modelica.Icons.VariantsPackage</A> (Icon for package containing variants).
<P></P><H3>Package Content</H3>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Buildings.Utilities.Psychrometrics.X_pWS.png" ALT="Buildings.Utilities.Psychrometrics.X_pW" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics.X_pW"
>X_pW</A>
</TD><TD>Humidity ratio for given water vapor pressure</TD></TR>
<TR><TD><IMG SRC="Buildings.Utilities.Psychrometrics.pW_XS.png" ALT="Buildings.Utilities.Psychrometrics.pW_X" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics.pW_X"
>pW_X</A>
</TD><TD>Water vapor pressure for given humidity ratio</TD></TR>
<TR><TD><IMG SRC="Buildings.Utilities.Psychdca8185efdb3cacdpTphiS.png" ALT="Buildings.Utilities.Psychrometrics.X_pTphi" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics.X_pTphi"
>X_pTphi</A>
</TD><TD>Return steam mass fraction as a function of relative humidity phi and temperature T</TD></TR>
<TR><TD><IMG SRC="Buildings.Utilities.Psych0ee5df6a65161720oi_pWS.png" ALT="Buildings.Utilities.Psychrometrics.TDewPoi_pW" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics.TDewPoi_pW"
>TDewPoi_pW</A>
</TD><TD>Model to compute the dew point temperature for given water vapor pressure of moist air</TD></TR>
<TR><TD><IMG SRC="Buildings.Utilities.Psych2ca01fbedc9d7da1ryAirS.png" ALT="Buildings.Utilities.Psychrometrics.ToDryAir" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics.ToDryAir"
>ToDryAir</A>
</TD><TD>Block to convert absolute humidity from [kg/kg total air] to [kg/kg dry air]</TD></TR>
<TR><TD><IMG SRC="Buildings.Utilities.Psych1aaf9ff92df4c6abalAirS.png" ALT="Buildings.Utilities.Psychrometrics.ToTotalAir" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics.ToTotalAir"
>ToTotalAir</A>
</TD><TD>Block to convert absolute humidity from [kg/kg dry air] to [kg/kg total air]</TD></TR>
<TR><TD><IMG SRC="Buildings.Utilities.Psychdbde90cf77e7cd67ulPhiS.png" ALT="Buildings.Utilities.Psychrometrics.TWetBul_TDryBulPhi" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics.TWetBul_TDryBulPhi"
>TWetBul_TDryBulPhi</A>
</TD><TD>Model to compute the wet bulb temperature based on relative humidity</TD></TR>
<TR><TD><IMG SRC="Buildings.Utilities.Psychdbde90cf77e7cd67ulPhiS.png" ALT="Buildings.Utilities.Psychrometrics.TWetBul_TDryBulXi" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics.TWetBul_TDryBulXi"
>TWetBul_TDryBulXi</A>
</TD><TD>Model to compute the wet bulb temperature based on mass fraction</TD></TR>
<TR><TD><IMG SRC="Buildings.Utilities.Psych1df98a388dbdba26ewPoiS.png" ALT="Buildings.Utilities.Psychrometrics.pW_TDewPoi" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics.pW_TDewPoi"
>pW_TDewPoi</A>
</TD><TD>Model to compute the water vapor pressure for a given dew point temperature of moist air</TD></TR>
<TR><TD><IMG SRC="Buildings.Utilities.Psych7fc2dbf06f3dee2al_pTXS.png" ALT="Buildings.Utilities.Psychrometrics.WetBul_pTX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics.WetBul_pTX"
>WetBul_pTX</A>
</TD><TD>Block to compute the wet bulb condition for given dry bulb temperature and humidity</TD></TR>
<TR><TD><IMG SRC="Buildings.Utilities.Psychd98736cb416bbd12tionsS.png" ALT="Buildings.Utilities.Psychrometrics.Functions" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions"
>Functions</A>
</TD><TD>Package with psychrometric functions</TD></TR>
<TR><TD><IMG SRC="Buildings.Utilities.Psychacffdc31576948admplesS.png" ALT="Buildings.Utilities.Psychrometrics.Examples" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Utilities_Psychrometrics_Examples.html#Buildings.Utilities.Psychrometrics.Examples"
>Examples</A>
</TD><TD>Collection of models that illustrate model use and test models</TD></TR>
<TR><TD><IMG SRC="Buildings.Utilities.Psychb46bc5896408586bassesS.png" ALT="Buildings.Utilities.Psychrometrics.BaseClasses" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Utilities_Psychrometrics_BaseClasses.html#Buildings.Utilities.Psychrometrics.BaseClasses"
>BaseClasses</A>
</TD><TD>Package with base classes for Buildings.Utilities.Psychrometrics</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE X_pW<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Utilities.Psychrometrics.X_pWI.png" ALT="Buildings.Utilities.Psychrometrics.X_pW" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Utilities.Psychrometrics.X_pW"></A><A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics"
>Buildings.Utilities.Psychrometrics</A>.X_pW</H2>
<B>Humidity ratio for given water vapor pressure</B><p></P>
<IMG SRC="Buildings.Utilities.Psychrometrics.X_pWD.png" ALT="Buildings.Utilities.Psychrometrics.X_pW">
<P></P><H3>Information</H3>

<p>
Block to compute the humidity ratio for a given water vapor partial pressure.
</p>
<p>If <code>use_p_in</code> is false (default option), the <code>p</code> parameter
is used as atmospheric pressure, 
and the <code>p_in</code> input connector is disabled; 
if <code>use_p_in</code> is true, then the <code>p</code> parameter is ignored, 
and the value provided by the input connector is used instead.
</p>
<P></P>
Extends from <A HREF="Buildings_Utilities_Psychrometrics_BaseClasses.html#Buildings.Utilities.Psychrometrics.BaseClasses.HumidityRatioVaporPressure"
>Buildings.Utilities.Psychrometrics.BaseClasses.HumidityRatioVaporPressure</A> (Humidity ratio for given water vapor pressure).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>use_p_in</TD><TD>true</TD><TD>Get the pressure from the input connector</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>101325</TD><TD>Fixed value of pressure [Pa]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>p_in</TD><TD>Atmospheric Pressure [Pa]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>X_w</TD><TD>Species concentration at dry bulb temperature</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>p_w</TD><TD>Water vapor pressure [Pa]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> X_pW <font color="darkgreen">&quot;Humidity ratio for given water vapor pressure&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Utilities_Psychrometrics_BaseClasses.html#Buildings.Utilities.Psychrometrics.BaseClasses.HumidityRatioVaporPressure"
>Buildings.Utilities.Psychrometrics.BaseClasses.HumidityRatioVaporPressure</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> X_w(min=0, max=1, nominal=0.01) <font color="darkgreen">
    &quot;Species concentration at dry bulb temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> p_w(<font color="blue">final </font>quantity=&quot;Pressure&quot;,
                                           <font color="blue">final </font>unit=&quot;Pa&quot;,
                                           displayUnit=&quot;Pa&quot;,
                                           min = 0.003,
                                           start=2000,
                                           nominal=1000) <font color="darkgreen">&quot;Water vapor pressure&quot;</font>;</textblock>
  <font color="blue">output </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</A> x_w(min=0, max=1, nominal=0.01, start=0.001) <font color="darkgreen">
    &quot;Water mass fraction per mass of dry air&quot;</font>;
<font color="blue">equation </font>
  X_w =<font color="red"> Buildings.Utilities.Psychrometrics.Functions.X_pW</font>(p_w=p_w, p=p_in_internal);
  x_w = X_w/(1-X_w);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>X_pW;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE pW_X<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Utilities.Psychrometrics.pW_XI.png" ALT="Buildings.Utilities.Psychrometrics.pW_X" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Utilities.Psychrometrics.pW_X"></A><A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics"
>Buildings.Utilities.Psychrometrics</A>.pW_X</H2>
<B>Water vapor pressure for given humidity ratio</B><p></P>
<IMG SRC="Buildings.Utilities.Psychrometrics.pW_XD.png" ALT="Buildings.Utilities.Psychrometrics.pW_X">
<P></P><H3>Information</H3>

<p>
Block to compute the water vapor partial pressure for a given humidity ratio.
</p>
<p>If <code>use_p_in</code> is false (default option), the <code>p</code> parameter
is used as atmospheric pressure, 
and the <code>p_in</code> input connector is disabled; 
if <code>use_p_in</code> is true, then the <code>p</code> parameter is ignored, 
and the value provided by the input connector is used instead.
</p>
<P></P>
Extends from <A HREF="Buildings_Utilities_Psychrometrics_BaseClasses.html#Buildings.Utilities.Psychrometrics.BaseClasses.HumidityRatioVaporPressure"
>Buildings.Utilities.Psychrometrics.BaseClasses.HumidityRatioVaporPressure</A> (Humidity ratio for given water vapor pressure).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>use_p_in</TD><TD>true</TD><TD>Get the pressure from the input connector</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>101325</TD><TD>Fixed value of pressure [Pa]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>p_in</TD><TD>Atmospheric Pressure [Pa]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>X_w</TD><TD>Species concentration at dry bulb temperature</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>p_w</TD><TD>Water vapor pressure [Pa]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> pW_X <font color="darkgreen">&quot;Water vapor pressure for given humidity ratio&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Utilities_Psychrometrics_BaseClasses.html#Buildings.Utilities.Psychrometrics.BaseClasses.HumidityRatioVaporPressure"
>Buildings.Utilities.Psychrometrics.BaseClasses.HumidityRatioVaporPressure</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> X_w(min=0, max=1, nominal=0.01) <font color="darkgreen">
    &quot;Species concentration at dry bulb temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> p_w(<font color="blue">final </font>quantity=&quot;Pressure&quot;,
                                           <font color="blue">final </font>unit=&quot;Pa&quot;,
                                           displayUnit=&quot;Pa&quot;,
                                           min = 0) <font color="darkgreen">&quot;Water vapor pressure&quot;</font>;</textblock>

  <font color="blue">output </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</A> x_w(min=0, max=1, nominal=0.01, start=0.001) <font color="darkgreen">
    &quot;Water mass fraction per mass of dry air&quot;</font>;

<font color="blue">equation </font>
  p_w =<font color="red"> Buildings.Utilities.Psychrometrics.Functions.pW_X</font>(X_w=X_w, p=p_in_internal);
  x_w = X_w/(1-X_w);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>pW_X;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE X_pTphi<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Utilities.Psychdca8185efdb3cacdpTphiI.png" ALT="Buildings.Utilities.Psychrometrics.X_pTphi" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Utilities.Psychrometrics.X_pTphi"></A><A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics"
>Buildings.Utilities.Psychrometrics</A>.X_pTphi</H2>
<B>Return steam mass fraction as a function of relative humidity phi and temperature T</B><p></P>
<IMG SRC="Buildings.Utilities.Psychdca8185efdb3cacdpTphiD.png" ALT="Buildings.Utilities.Psychrometrics.X_pTphi">
<P></P><H3>Information</H3>

<p>
Block to compute the water vapor concentration based on
pressure, temperature and relative humidity.
</p>
<p>If <code>use_p_in</code> is false (default option), the <code>p</code> parameter
is used as atmospheric pressure, 
and the <code>p_in</code> input connector is disabled; 
if <code>use_p_in</code> is true, then the <code>p</code> parameter is ignored, 
and the value provided by the input connector is used instead.
</p>
<P></P>
Extends from <A HREF="Buildings_Utilities_Psychrometrics_BaseClasses.html#Buildings.Utilities.Psychrometrics.BaseClasses.HumidityRatioVaporPressure"
>Buildings.Utilities.Psychrometrics.BaseClasses.HumidityRatioVaporPressure</A> (Humidity ratio for given water vapor pressure).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>use_p_in</TD><TD>true</TD><TD>Get the pressure from the input connector</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>101325</TD><TD>Fixed value of pressure [Pa]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>p_in</TD><TD>Atmospheric Pressure [Pa]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>T</TD><TD>Temperature [K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>phi</TD><TD>Relative humidity (0...1)</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>X[Medium.nX]</TD><TD>Steam mass fraction</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> X_pTphi <font color="darkgreen">
  &quot;Return steam mass fraction as a function of relative humidity phi and temperature T&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Utilities_Psychrometrics_BaseClasses.html#Buildings.Utilities.Psychrometrics.BaseClasses.HumidityRatioVaporPressure"
>Buildings.Utilities.Psychrometrics.BaseClasses.HumidityRatioVaporPressure</A>;
  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_PerfectGases_MoistAirUnsaturated.html#Buildings.Media.PerfectGases.MoistAirUnsaturated"
>Buildings.Media.PerfectGases.MoistAirUnsaturated</A> <font color="darkgreen">
    &quot;Medium model&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">public </font>
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> T(<font color="blue">final </font>unit=&quot;K&quot;,
                                           displayUnit=&quot;degC&quot;,
                                           min = 0) <font color="darkgreen">&quot;Temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> phi(min = 0, max=1) <font color="darkgreen">
    &quot;Relative humidity (0...1)&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> X[Medium.nX](<font color="blue">each </font>min=0, <font color="blue">each </font>max=1) <font color="darkgreen">
    &quot;Steam mass fraction&quot;</font>;</textblock>
<font color="blue">protected </font>
  <font color="blue">constant </font>Real k = 0.621964713077499 <font color="darkgreen">&quot;Ratio of molar masses&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>Modelica.SIunits.AbsolutePressure</A> psat <font color="darkgreen">&quot;Saturation pressure&quot;</font>;
 <font color="blue">parameter </font>Integer i_w(min=1, fixed=false) <font color="darkgreen">&quot;Index for water substance&quot;</font>;
 <font color="blue">parameter </font>Integer i_nw(min=1, fixed=false) <font color="darkgreen">&quot;Index for non-water substance&quot;</font>;
 <font color="blue">parameter </font>Boolean found(fixed=false) <font color="darkgreen">&quot;Flag, used for error checking&quot;</font>;
<font color="blue">initial </font><font color="blue">algorithm </font>
  found:=false;
  i_w :=1;
    <font color="blue">for </font>i<font color="blue"> in </font>1:Medium.nXi<font color="blue"> loop</font>
      <font color="blue">if </font><font color="red">Modelica.Utilities.Strings.isEqual</font>(string1=Medium.substanceNames[i],
                                            string2=&quot;water&quot;,
                                            caseSensitive=false)<font color="blue"> then</font>
        i_w :=i;
        found:=true;
      <font color="blue">end if</font>;
    <font color="blue">end for</font>;
  i_nw := <font color="blue">if </font>i_w == 1<font color="blue"> then </font>2<font color="blue"> else </font>1;
  <font color="red">assert</font>(found, &quot;Did not find medium species &#39;water&#39; in the medium model. Change medium model.&quot;);
<font color="blue">algorithm </font>
  psat :=<font color="red"> Buildings.Media.PerfectGases.MoistAirUnsaturated.saturationPressure</font>(T);
  X[i_w] :=<font color="red"> Buildings.Utilities.Psychrometrics.Functions.X_pSatpphi</font>(
     pSat=psat, p=p_in_internal, phi=phi);
  <font color="darkgreen">//sum(X[:]) = 1; // The formulation with a sum in an equation section leads to a nonlinear equation system</font>
  X[i_nw] := 1 - X[i_w];
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>X_pTphi;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TDewPoi_pW<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Utilities.Psych0ee5df6a65161720oi_pWI.png" ALT="Buildings.Utilities.Psychrometrics.TDewPoi_pW" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Utilities.Psychrometrics.TDewPoi_pW"></A><A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics"
>Buildings.Utilities.Psychrometrics</A>.TDewPoi_pW</H2>
<B>Model to compute the dew point temperature for given water vapor pressure of moist air</B><p></P>
<IMG SRC="Buildings.Utilities.Psych0ee5df6a65161720oi_pWD.png" ALT="Buildings.Utilities.Psychrometrics.TDewPoi_pW">
<P></P><H3>Information</H3>

<p>
Dew point temperature calculation for moist air above freezing temperature.
</p>
<p>
The correlation used in this model is valid for dew point temperatures between 
<code>0 degC</code> and <code>200 degC</code>. It is the correlation from 2005
ASHRAE Handbook, p. 6.2. In an earlier version of this model, the equation from
Peppers has been used, but this equation yielded about 15 Kelvin lower dew point 
temperatures.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>p_w</TD><TD>Water vapor partial pressure</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>T</TD><TD>Dew point temperature [K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> TDewPoi_pW <font color="darkgreen">
  &quot;Model to compute the dew point temperature for given water vapor pressure of moist air&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> p_w <font color="darkgreen">&quot;Water vapor partial pressure&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> T(start=278.15,
                                         <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
                                         <font color="blue">final </font>unit=&quot;K&quot;,
                                         min = 0,
                                         displayUnit=&quot;degC&quot;) <font color="darkgreen">
    &quot;Dew point temperature&quot;</font>;</textblock>

<font color="blue">equation </font>
 p_w =<font color="red"> Buildings.Utilities.Psychrometrics.Functions.pW_TDewPoi</font>(T=T);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>TDewPoi_pW;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ToDryAir<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Utilities.Psych2ca01fbedc9d7da1ryAirI.png" ALT="Buildings.Utilities.Psychrometrics.ToDryAir" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Utilities.Psychrometrics.ToDryAir"></A><A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics"
>Buildings.Utilities.Psychrometrics</A>.ToDryAir</H2>
<B>Block to convert absolute humidity from [kg/kg total air] to [kg/kg dry air]</B><p></P>
<IMG SRC="Buildings.Utilities.Psych2ca01fbedc9d7da1ryAirD.png" ALT="Buildings.Utilities.Psychrometrics.ToDryAir">
<P></P><H3>Information</H3>

<p>
Block that converts humidity concentration from [kg/kg total air] to [kg/kg dry air].
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>XiDry</TD><TD>Water vapor concentration in [kg/kg dry air]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>XiTotalAir</TD><TD>Water vapor concentration in [kg/kg total air]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> ToDryAir <font color="darkgreen">
  &quot;Block to convert absolute humidity from [kg/kg total air] to [kg/kg dry air]&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> XiDry <font color="darkgreen">
    &quot;Water vapor concentration in [kg/kg dry air]&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> XiTotalAir <font color="darkgreen">
    &quot;Water vapor concentration in [kg/kg total air]&quot;</font>;</textblock>

<font color="blue">equation </font>
  XiDry = XiTotalAir / (1-XiTotalAir);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>ToDryAir;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ToTotalAir<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Utilities.Psych1aaf9ff92df4c6abalAirI.png" ALT="Buildings.Utilities.Psychrometrics.ToTotalAir" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Utilities.Psychrometrics.ToTotalAir"></A><A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics"
>Buildings.Utilities.Psychrometrics</A>.ToTotalAir</H2>
<B>Block to convert absolute humidity from [kg/kg dry air] to [kg/kg total air]</B><p></P>
<IMG SRC="Buildings.Utilities.Psych1aaf9ff92df4c6abalAirD.png" ALT="Buildings.Utilities.Psychrometrics.ToTotalAir">
<P></P><H3>Information</H3>

<p>
Block that converts humidity concentration from [kg/kg dry air] to [kg/kg total air].
</p>
<p>
This block may be used, for example, to convert absolute humidity that is received from
EnergyPlus to [kg/kg total air], which is the convention used by Modelica.Media.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>XiTotalAir</TD><TD>Water vapor concentration in [kg/kg total air]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>XiDry</TD><TD>Water vapor concentration in [kg/kg dry air]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>XNonVapor</TD><TD>Mass fraction of remaining substances</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> ToTotalAir <font color="darkgreen">
  &quot;Block to convert absolute humidity from [kg/kg dry air] to [kg/kg total air]&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> XiTotalAir <font color="darkgreen">
    &quot;Water vapor concentration in [kg/kg total air]&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> XiDry <font color="darkgreen">
    &quot;Water vapor concentration in [kg/kg dry air]&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> XNonVapor <font color="darkgreen">
    &quot;Mass fraction of remaining substances&quot;</font>;</textblock>
<font color="blue">equation </font>
  XiTotalAir = XiDry / (1+XiDry);
  XNonVapor = 1 - XiTotalAir;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>ToTotalAir;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TWetBul_TDryBulPhi<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Utilities.Psychdbde90cf77e7cd67ulPhiI.png" ALT="Buildings.Utilities.Psychrometrics.TWetBul_TDryBulPhi" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Utilities.Psychrometrics.TWetBul_TDryBulPhi"></A><A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics"
>Buildings.Utilities.Psychrometrics</A>.TWetBul_TDryBulPhi</H2>
<B>Model to compute the wet bulb temperature based on relative humidity</B><p></P>
<IMG SRC="Buildings.Utilities.Psychdbde90cf77e7cd67ulPhiD.png" ALT="Buildings.Utilities.Psychrometrics.TWetBul_TDryBulPhi">
<P></P><H3>Information</H3>

<p>
This block computes the the wet bulb temperature for a given dry bulb temperature, relative air humidity
and atmospheric pressure.
</p>
<p>
If the constant <code>approximateWetBulb</code> is <code>true</code>,
then the block uses the approximation of Stull (2011) to compute
the wet bulb temperature without requiring a nonlinear equation.
Otherwise, the model will introduce one nonlinear equation.
</p>
<p>
The approximation by Stull is valid for a relative humidity of <i>5%</i> to <i>99%</i>,
a temperature range from <i>-20&circ;C</i> to <i>50&circ;C</i> 
and standard sea level pressure. 
For this range of data, the approximation error is <i>-1</i> Kelvin to <i>+0.65</i> Kelvin,
with a mean error of less than <i>0.3</i> Kelvin.
</p>
<p>
For a model that takes the mass fraction instead of the relative humidity as an input, see
<A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics.TWetBul_TDryBulXi"
>
Buildings.Utilities.Psychrometrics.TWetBul_TDryBulXi</a>.
</p>
<h4>References</h4>
<p>
Stull, Roland.
<i><a href="http://dx.doi.org/10.1175/JAMC-D-11-0143.1">
Wet-Bulb Temperature from Relative Humidity and Air Temperature
Roland Stull.</a></i>
Journal of Applied Meteorology and Climatology.
Volume 50, Issue 11, pp. 2267-2269. November 2011 
DOI: 10.1175/JAMC-D-11-0143.1
</p>
<pre>
</PRE><P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Modelica.Media.Interfaces.Pa...</TD><TD>Medium model</TD></TR>
<TR><TD>Boolean</TD><TD>approximateWetBulb</TD><TD>false</TD><TD>Set to true to approximate wet bulb temperature</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Medium model</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TDryBul</TD><TD>Dry bulb temperature [K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>phi</TD><TD>Relative air humidity</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>p</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>TWetBul</TD><TD>Wet bulb temperature [K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> TWetBul_TDryBulPhi <font color="darkgreen">
  &quot;Model to compute the wet bulb temperature based on relative humidity&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium =
    <A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialCondensingGases.html#Modelica.Media.Interfaces.PartialCondensingGases"
>Modelica.Media.Interfaces.PartialCondensingGases</A> <font color="darkgreen">&quot;Medium model&quot;</font>;

  <font color="blue">parameter </font>Boolean approximateWetBulb=false <font color="darkgreen">
    &quot;Set to true to approximate wet bulb temperature&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TDryBul(
    start=303,
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;K&quot;,
    min=0) <font color="darkgreen">&quot;Dry bulb temperature&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> phi(min=0, max=1) <font color="darkgreen">
    &quot;Relative air humidity&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> p(  <font color="blue">final </font>quantity=&quot;Pressure&quot;,
                                           <font color="blue">final </font>unit=&quot;Pa&quot;,
                                           min = 0) <font color="darkgreen">&quot;Pressure&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> TWetBul(
    start=293,
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;K&quot;,
    min=0) <font color="darkgreen">&quot;Wet bulb temperature&quot;</font>;</textblock>

<font color="blue">protected </font>
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_Media_IdealGases_Common.html#Modelica.Media.IdealGases.Common.DataRecord"
>Modelica.Media.IdealGases.Common.DataRecord</A> dryair = Modelica.Media.IdealGases.Common.SingleGasesData.Air;
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_Media_IdealGases_Common.html#Modelica.Media.IdealGases.Common.DataRecord"
>Modelica.Media.IdealGases.Common.DataRecord</A> steam = Modelica.Media.IdealGases.Common.SingleGasesData.H2O;
  <font color="blue">constant </font>Real k_mair =  steam.MM/dryair.MM <font color="darkgreen">&quot;ratio of molar weights&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits_Conversions_NonSIunits.html#Modelica.SIunits.Conversions.NonSIunits.Temperature_degC"
>Modelica.SIunits.Conversions.NonSIunits.Temperature_degC</A> TDryBul_degC <font color="darkgreen">
    &quot;Dry bulb temperature in degree Celsius&quot;</font>;
  Real rh_per(min=0) <font color="darkgreen">&quot;Relative humidity in percentage&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</A> XiDryBul <font color="darkgreen">
    &quot;Water vapor mass fraction at dry bulb state&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</A> XiSat <font color="darkgreen">&quot;Water vapor mass fraction at saturation&quot;</font>;
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>Modelica.SIunits.SpecificHeatCapacity</A> cpAir=
     Buildings.Media.PerfectGases.Common.SingleGasData.Air.cp <font color="darkgreen">
    &quot;Specific heat capacity of air&quot;</font>;
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>Modelica.SIunits.SpecificHeatCapacity</A> cpSte=
     Buildings.Media.PerfectGases.Common.SingleGasData.H2O.cp <font color="darkgreen">
    &quot;Specific heat capacity of water vapor&quot;</font>;
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>Modelica.SIunits.SpecificEnthalpy</A> h_fg = 2501014.5 <font color="darkgreen">
    &quot;Specific heat capacity of water vapor&quot;</font>;
<font color="blue">equation </font>
  <font color="blue">if </font>approximateWetBulb<font color="blue"> then</font>
    TDryBul_degC = TDryBul - 273.15;
    rh_per       = 100*phi;
    TWetBul      = 273.15 + TDryBul_degC
       *<font color="red"> Modelica.Math.atan</font>(0.151977 *<font color="red"> sqrt</font>(rh_per + 8.313659))
       +<font color="red"> Modelica.Math.atan</font>(TDryBul_degC + rh_per)
       -<font color="red"> Modelica.Math.atan</font>(rh_per-1.676331)
       + 0.00391838 * rh_per^(1.5) *<font color="red"> Modelica.Math.atan</font>( 0.023101 * rh_per)  - 4.686035;
    XiSat    = 0;
    XiDryBul = 0;
  <font color="blue">else</font>
    XiSat   =<font color="red"> Buildings.Utilities.Psychrometrics.Functions.X_pSatpphi</font>(
      pSat=<font color="red">   Medium.saturationPressureLiquid</font>(Tsat=TWetBul),
      p=     p,
      phi=   1);
    XiDryBul =<font color="red">Buildings.Utilities.Psychrometrics.Functions.X_pSatpphi</font>(
      p=p,
      pSat=<font color="red">Medium.saturationPressureLiquid</font>(Tsat=TDryBul),
      phi=phi);
    TWetBul = (TDryBul * ((1-XiDryBul) * cpAir + XiDryBul * cpSte) + (XiDryBul-XiSat) * h_fg)/
            ( (1-XiSat)*cpAir + XiSat * cpSte);
    TDryBul_degC = 0;
    rh_per       = 0;
  <font color="blue">end if</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>TWetBul_TDryBulPhi;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TWetBul_TDryBulXi<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Utilities.Psychdbde90cf77e7cd67ulPhiI.png" ALT="Buildings.Utilities.Psychrometrics.TWetBul_TDryBulXi" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Utilities.Psychrometrics.TWetBul_TDryBulXi"></A><A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics"
>Buildings.Utilities.Psychrometrics</A>.TWetBul_TDryBulXi</H2>
<B>Model to compute the wet bulb temperature based on mass fraction</B><p></P>
<IMG SRC="Buildings.Utilities.Psych7111593b73bf3f79BulXiD.png" ALT="Buildings.Utilities.Psychrometrics.TWetBul_TDryBulXi">
<P></P><H3>Information</H3>

<p>
This block computes the the wet bulb temperature for a given dry bulb temperature, mass fraction
and atmospheric pressure.
</p>
<p>
If the constant <code>approximateWetBulb</code> is <code>true</code>,
then the block uses the approximation of Stull (2011) to compute
the wet bulb temperature without requiring a nonlinear equation.
Otherwise, the model will introduce one nonlinear equation.
</p>
<p>
The approximation by Stull is valid for a relative humidity of <i>5%</i> to <i>99%</i>,
a temperature range from <i>-20&circ;C</i> to <i>50&circ;C</i> 
and standard sea level pressure. 
For this range of data, the approximation error is <i>-1</i> Kelvin to <i>+0.65</i> Kelvin,
with a mean error of less than <i>0.3</i> Kelvin.
</p>
<p>
For a model that takes the relative humidity instead of the mass fraction as an input, see
<A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics.TWetBul_TDryBulPhi"
>
Buildings.Utilities.Psychrometrics.TWetBul_TDryBulPhi</a>.
</p>
<p>
For a use of this model, see for example
<a href="modelica://Buildings.Fluid.Sensors.WetBulbTemperature">Buildings.Fluid.Sensors.WetBulbTemperature</a>
</p>
<h4>References</h4>
<p>
Stull, Roland.
<i><a href="http://dx.doi.org/10.1175/JAMC-D-11-0143.1">
Wet-Bulb Temperature from Relative Humidity and Air Temperature
Roland Stull.</a></i>
Journal of Applied Meteorology and Climatology.
Volume 50, Issue 11, pp. 2267-2269. November 2011 
DOI: 10.1175/JAMC-D-11-0143.1
</p>
<pre>
</PRE><P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Modelica.Media.Interfaces.Pa...</TD><TD>Medium model</TD></TR>
<TR><TD>Boolean</TD><TD>approximateWetBulb</TD><TD>false</TD><TD>Set to true to approximate wet bulb temperature</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Medium model</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TDryBul</TD><TD>Dry bulb temperature [K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>p</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>TWetBul</TD><TD>Wet bulb temperature [K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>Xi[Medium.nXi]</TD><TD>Species concentration at dry bulb temperature</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> TWetBul_TDryBulXi <font color="darkgreen">
  &quot;Model to compute the wet bulb temperature based on mass fraction&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium =
    <A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialCondensingGases.html#Modelica.Media.Interfaces.PartialCondensingGases"
>Modelica.Media.Interfaces.PartialCondensingGases</A> <font color="darkgreen">&quot;Medium model&quot;</font>;

  <font color="blue">parameter </font>Boolean approximateWetBulb=false <font color="darkgreen">
    &quot;Set to true to approximate wet bulb temperature&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TDryBul(
    start=303,
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;K&quot;,
    min=0) <font color="darkgreen">&quot;Dry bulb temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> p(  <font color="blue">final </font>quantity=&quot;Pressure&quot;,
                                           <font color="blue">final </font>unit=&quot;Pa&quot;,
                                           min = 0) <font color="darkgreen">&quot;Pressure&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> TWetBul(
    start=293,
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;K&quot;,
    min=0) <font color="darkgreen">&quot;Wet bulb temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> Xi[Medium.nXi] <font color="darkgreen">
    &quot;Species concentration at dry bulb temperature&quot;</font>;</textblock>

<font color="blue">protected </font>
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_Media_IdealGases_Common.html#Modelica.Media.IdealGases.Common.DataRecord"
>Modelica.Media.IdealGases.Common.DataRecord</A> dryair = Modelica.Media.IdealGases.Common.SingleGasesData.Air;
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_Media_IdealGases_Common.html#Modelica.Media.IdealGases.Common.DataRecord"
>Modelica.Media.IdealGases.Common.DataRecord</A> steam = Modelica.Media.IdealGases.Common.SingleGasesData.H2O;
  <font color="blue">constant </font>Real k_mair =  steam.MM/dryair.MM <font color="darkgreen">&quot;ratio of molar weights&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits_Conversions_NonSIunits.html#Modelica.SIunits.Conversions.NonSIunits.Temperature_degC"
>Modelica.SIunits.Conversions.NonSIunits.Temperature_degC</A> TDryBul_degC <font color="darkgreen">
    &quot;Dry bulb temperature in degree Celsius&quot;</font>;
  Real rh_per(min=0) <font color="darkgreen">&quot;Relative humidity in percentage&quot;</font>;

  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</A> XiSat(start=0.01,
                                      nominal=0.01) <font color="darkgreen">
    &quot;Water vapor mass fraction at saturation&quot;</font>;

 <font color="blue">parameter </font>Integer iWat(fixed=false) <font color="darkgreen">
    &quot;Index of water in medium composition vector&quot;</font>;
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>Modelica.SIunits.SpecificHeatCapacity</A> cpAir=
     Buildings.Media.PerfectGases.Common.SingleGasData.Air.cp <font color="darkgreen">
    &quot;Specific heat capacity of air&quot;</font>;
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>Modelica.SIunits.SpecificHeatCapacity</A> cpSte=
     Buildings.Media.PerfectGases.Common.SingleGasData.H2O.cp <font color="darkgreen">
    &quot;Specific heat capacity of water vapor&quot;</font>;
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>Modelica.SIunits.SpecificEnthalpy</A> h_fg = 2501014.5 <font color="darkgreen">
    &quot;Specific heat capacity of water vapor&quot;</font>;
<font color="blue">initial </font><font color="blue">algorithm </font>
  iWat:=-1;
    <font color="blue">for </font>i<font color="blue"> in </font>1:Medium.nX<font color="blue"> loop</font>
      <font color="blue">if </font><font color="red">Modelica.Utilities.Strings.isEqual</font>(string1=Medium.substanceNames[i],
                                            string2=&quot;Water&quot;, caseSensitive=false)<font color="blue"> then</font>
        iWat :=i;
      <font color="blue">end if</font>;
    <font color="blue">end for</font>;
  <font color="red">assert</font>(iWat &gt; 0, &quot;Did not find medium species &#39;water&#39; in the medium model. Change medium model.&quot;);

<font color="blue">equation </font>
  <font color="blue">if </font>approximateWetBulb<font color="blue"> then</font>
    TDryBul_degC = TDryBul - 273.15;
    rh_per       = 100 * p/<font color="red">min</font>(<font color="red">Medium.saturationPressure</font>(TDryBul),0.999*p)*Xi[iWat]/(Xi[iWat] + k_mair*(1-Xi[iWat]));
    TWetBul      = 273.15 + TDryBul_degC
       *<font color="red"> Modelica.Math.atan</font>(0.151977 *<font color="red"> sqrt</font>(rh_per + 8.313659))
       +<font color="red"> Modelica.Math.atan</font>(TDryBul_degC + rh_per)
       -<font color="red"> Modelica.Math.atan</font>(rh_per-1.676331)
       + 0.00391838 * rh_per^(1.5) *<font color="red"> Modelica.Math.atan</font>( 0.023101 * rh_per)  - 4.686035;
    XiSat = 0;
  <font color="blue">else</font>
    XiSat   =<font color="red"> Buildings.Utilities.Psychrometrics.Functions.X_pSatpphi</font>(
      pSat=<font color="red">   Medium.saturationPressureLiquid</font>(Tsat=TWetBul),
      p=     p,
      phi=   1);
    TWetBul = (TDryBul * ((1-Xi[iWat]) * cpAir + Xi[iWat] * cpSte) + (Xi[iWat]-XiSat) * h_fg)/
            ( (1-XiSat)*cpAir + XiSat * cpSte);
    TDryBul_degC = 0;
    rh_per       = 0;
  <font color="blue">end if</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>TWetBul_TDryBulXi;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE pW_TDewPoi<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Utilities.Psych1df98a388dbdba26ewPoiI.png" ALT="Buildings.Utilities.Psychrometrics.pW_TDewPoi" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Utilities.Psychrometrics.pW_TDewPoi"></A><A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics"
>Buildings.Utilities.Psychrometrics</A>.pW_TDewPoi</H2>
<B>Model to compute the water vapor pressure for a given dew point temperature of moist air</B><p></P>
<IMG SRC="Buildings.Utilities.Psych1df98a388dbdba26ewPoiD.png" ALT="Buildings.Utilities.Psychrometrics.pW_TDewPoi">
<P></P><H3>Information</H3>

<p>
Block to compute the water vapor pressure for a given dew point temperature.
</p>
<p>
The correlation used in this model is valid for dew point temperatures between 
<code>0 degC</code> and <code>200 degC</code>. It is the correlation from 2005
ASHRAE Handbook, p. 6.2. In an earlier version of this model, the equation from
Peppers has been used, but this equation yielded about 15 Kelvin lower dew point 
temperatures.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>p_w</TD><TD>Water vapor partial pressure</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>T</TD><TD>Dew point temperature [K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> pW_TDewPoi <font color="darkgreen">
  &quot;Model to compute the water vapor pressure for a given dew point temperature of moist air&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> p_w <font color="darkgreen">&quot;Water vapor partial pressure&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> T(<font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
                                         <font color="blue">final </font>unit=&quot;K&quot;,
                                         min = 0,
                                         displayUnit=&quot;degC&quot;) <font color="darkgreen">
    &quot;Dew point temperature&quot;</font>;</textblock>

<font color="blue">equation </font>
 p_w =<font color="red"> Buildings.Utilities.Psychrometrics.Functions.pW_TDewPoi_amb</font>(T=T);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>pW_TDewPoi;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE WetBul_pTX<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Utilities.Psych7fc2dbf06f3dee2al_pTXI.png" ALT="Buildings.Utilities.Psychrometrics.WetBul_pTX" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Utilities.Psychrometrics.WetBul_pTX"></A><A HREF="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics"
>Buildings.Utilities.Psychrometrics</A>.WetBul_pTX</H2>
<B>Block to compute the wet bulb condition for given dry bulb temperature and humidity</B><p></P>
<IMG SRC="Buildings.Utilities.Psych7fc2dbf06f3dee2al_pTXD.png" ALT="Buildings.Utilities.Psychrometrics.WetBul_pTX">
<P></P><H3>Information</H3>

<p>
Block to compute the temperature and mass fraction at the wet bulb condition
for a given dry bulb state.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Modelica.Media.Interfaces.Pa...</TD><TD>Medium model</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Medium model</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TDryBul</TD><TD>Dry bulb temperature [K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>XDryBul</TD><TD>Dry bulb temperature [1]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>p</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>TWetBul</TD><TD>Wet bulb temperature [K]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>XWetBul</TD><TD>Water vapor mass fraction at wet bulb temperature [1]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> WetBul_pTX <font color="darkgreen">
  &quot;Block to compute the wet bulb condition for given dry bulb temperature and humidity&quot;</font>
   <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium =
    <A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialCondensingGases.html#Modelica.Media.Interfaces.PartialCondensingGases"
>Modelica.Media.Interfaces.PartialCondensingGases</A> <font color="darkgreen">&quot;Medium model&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TDryBul(
    start=303,
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;K&quot;,
    min=0) <font color="darkgreen">&quot;Dry bulb temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> XDryBul(
    start=0.01,
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;1&quot;,
    min=0) <font color="darkgreen">&quot;Dry bulb temperature&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> p(  <font color="blue">final </font>quantity=&quot;Pressure&quot;,
                                           <font color="blue">final </font>unit=&quot;Pa&quot;,
                                           min = 0) <font color="darkgreen">&quot;Pressure&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> TWetBul(
    start=293,
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;K&quot;,
    min=0) <font color="darkgreen">&quot;Wet bulb temperature&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> XWetBul(
    min=0,
    max=1,
    start=0.012,
    unit=&quot;1&quot;,
    nominal=0.01) <font color="darkgreen">&quot;Water vapor mass fraction at wet bulb temperature&quot;</font>;</textblock>

<font color="blue">protected </font>
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>Modelica.SIunits.SpecificHeatCapacity</A> cpAir=
     Buildings.Media.PerfectGases.Common.SingleGasData.Air.cp <font color="darkgreen">
    &quot;Specific heat capacity of air&quot;</font>;
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>Modelica.SIunits.SpecificHeatCapacity</A> cpSte=
     Buildings.Media.PerfectGases.Common.SingleGasData.H2O.cp <font color="darkgreen">
    &quot;Specific heat capacity of water vapor&quot;</font>;
  <font color="blue">constant </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>Modelica.SIunits.SpecificEnthalpy</A> h_fg = 2501014.5 <font color="darkgreen">
    &quot;Specific heat capacity of water vapor&quot;</font>;
<font color="blue">equation </font>
  XWetBul   =<font color="red"> Buildings.Utilities.Psychrometrics.Functions.X_pSatpphi</font>(
      pSat=<font color="red">   Medium.saturationPressureLiquid</font>(Tsat=TWetBul),
      p=     p,
      phi=   1);
  TWetBul = (TDryBul * ((1-XDryBul) * cpAir + XDryBul * cpSte) + (XDryBul-XWetBul) * h_fg)/
            ( (1-XWetBul)*cpAir + XWetBul * cpSte);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>WetBul_pTX;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Thu Oct 24 15:13:45 2013.
</address></BODY>
</HTML>
