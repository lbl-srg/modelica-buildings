<HTML>
<HEAD>
<TITLE>Buildings.Fluid.Movers.Examples</TITLE>
<META name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META name="description" content="&quot;Collection of models that illustrate model use and test models&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- --- header ------ -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- --- end header -- -->
</P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Examples<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Fluid.Movers.Examples"></A><A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers"
>Buildings.Fluid.Movers</A>.Examples</H2>
<B>Collection of models that illustrate model use and test models</B>
<P></P>
<P></P><H3>Information</H3>

<p>
This package contains examples for the use of models that can be found in
<A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers"
>
Buildings.Fluid.Movers</a>.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</A> (Icon for packages containing runnable examples).
<P></P><H3>Package Content</H3>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yS.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_y" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachine_y"
>FlowMachine_y</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yS.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_y_linear" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachine_y_linear"
>FlowMachine_y_linear</A>
</TD><TD>Test model for pump with linear characteristic for pressure vs. flow rate</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yS.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_Nrpm" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachine_Nrpm"
>FlowMachine_Nrpm</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yS.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_dp" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachine_dp"
>FlowMachine_dp</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yS.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_m_flow" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachine_m_flow"
>FlowMachine_m_flow</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yS.png" ALT="Buildings.Fluid.Movers.Examples.ControlledFlowMachineDynamic" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.ControlledFlowMachineDynamic"
>ControlledFlowMachineDynamic</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yS.png" ALT="Buildings.Fluid.Movers.Examples.ControlledFlowMachine" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.ControlledFlowMachine"
>ControlledFlowMachine</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yS.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachine"
>FlowMachine</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yS.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachineFeedbackControl" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachineFeedbackControl"
>FlowMachineFeedbackControl</A>
</TD><TD>Flow machine with feedback control</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yS.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachineParallel_y" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachineParallel_y"
>FlowMachineParallel_y</A>
</TD><TD>Test model for two flow machines in parallel</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yS.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachineSeries_y" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachineSeries_y"
>FlowMachineSeries_y</A>
</TD><TD>Test model for two flow machines in series</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yS.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_y_pumpCurves" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachine_y_pumpCurves"
>FlowMachine_y_pumpCurves</A>
</TD><TD>Test model for pump that illustrates the pump curves</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.Movers.Ex78ed98a97c963a20assesS.png" ALT="Buildings.Fluid.Movers.Examples.BaseClasses" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_Movers_Examples_BaseClasses.html#Buildings.Fluid.Movers.Examples.BaseClasses"
>BaseClasses</A>
</TD><TD>Package with base classes for Buildings.Fluid.Movers.Examples</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlowMachine_y<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yI.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_y" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Movers.Examples.FlowMachine_y"></A><A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples"
>Buildings.Fluid.Movers.Examples</A>.FlowMachine_y</H2>
<IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yD.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_y">
<P></P><H3>Information</H3>

<p>
This example demonstrates and tests the use of a flow machine whose mass flow rate is reduced to zero.
</p>
<p>
The fans have been configured as steady-state models.
This ensures that the actual speed is equal to the input signal.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples), <A HREF="Buildings_Fluid_Movers_Examples_BaseClasses.html#Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow"
>Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow</A> (Base class to test flow machines with zero flow rate).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>1</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp_nominal</TD><TD>500</TD><TD>Nominal pressure difference [Pa]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlowMachine_y
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
 <font color="blue">extends </font><A HREF="Buildings_Fluid_Movers_Examples_BaseClasses.html#Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow"
>Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow</A>(
    gain(k=1),
    <font color="blue">redeclare </font><A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_y"
>Buildings.Fluid.Movers.FlowMachine_y</A> floMacSta(
      <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      pressure(V_flow={0,m_flow_nominal,2*m_flow_nominal}/1.2,
               dp={2*dp_nominal,dp_nominal,0}),
      filteredSpeed=false),
    <font color="blue">redeclare </font><A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_y"
>Buildings.Fluid.Movers.FlowMachine_y</A> floMacDyn(
      <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      pressure(V_flow={0,m_flow_nominal,2*m_flow_nominal}/1.2,
               dp={2*dp_nominal,dp_nominal,0}),
      filteredSpeed=false));

<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(gain.y, floMacDyn.y);
  <font color="red">connect</font>(gain.y, floMacSta.y);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlowMachine_y;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlowMachine_y_linear<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yI.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_y_linear" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Movers.Examples.FlowMachine_y_linear"></A><A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples"
>Buildings.Fluid.Movers.Examples</A>.FlowMachine_y_linear</H2>
<B>Test model for pump with linear characteristic for pressure vs. flow rate</B><p></P>
<IMG SRC="Buildings.Fluid.Movers.Ex415bfce1535e79a8inearD.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_y_linear">
<P></P><H3>Information</H3>

<p>
This example demonstrates and tests the use of a flow machine whose speed is reduced to zero.
In the top model, the pressure drop across the pump is constant, and in the bottom model, 
the mass flow rate across the pump is constant.
In the top model, a small flow resistance has been added since a pump with zero speed cannot
produce a non-zero pressure raise. For this operating region, the pressure drop ensures that
the model is non-singular.
</p>
<p>
The fans have been configured as steady-state models.
This ensures that the actual speed is equal to the input signal.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>0.5</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp_nominal</TD><TD>10000</TD><TD>Nominal pressure [Pa]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlowMachine_y_linear <font color="darkgreen">
  &quot;Test model for pump with linear characteristic for pressure vs. flow rate&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_ConstantPropertyLiquidWater.html#Buildings.Media.ConstantPropertyLiquidWater"
>Buildings.Media.ConstantPropertyLiquidWater</A> <font color="darkgreen">&quot;Medium model&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> m_flow_nominal = 0.5 <font color="darkgreen">
    &quot;Nominal mass flow rate&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</A> dp_nominal = 10000 <font color="darkgreen">&quot;Nominal pressure&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> y(
    offset=1,
    duration=0.5,
    startTime=0.25,
    height=-1) <font color="darkgreen">&quot;Input signal&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    p=300000,
    T=293.15,
    nPorts=1);
  <A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_y"
>Buildings.Fluid.Movers.FlowMachine_y</A> pumFixDp(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    energyDynamics=Modelica.Fluid.Types.Dynamics.SteadyState,
    dynamicBalance=false,
    pressure(V_flow=2/1000*{0, m_flow_nominal}, dp={2*dp_nominal, 0}),
    filteredSpeed=false) <font color="darkgreen">&quot;Pump with fixed pressure raise&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    p(displayUnit=&quot;Pa&quot;) = 300000 + 0.01*dp_nominal,
    T=293.15,
    nPorts=1);
  <A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</A> dp1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=m_flow_nominal,
    dp_nominal=0.01*dp_nominal) <font color="darkgreen">&quot;Pressure drop&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</A>
                                      sou2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    nPorts=1,
    m_flow=m_flow_nominal*0.01,
    T=293.15);
  <A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_y"
>Buildings.Fluid.Movers.FlowMachine_y</A> pumFixM_flow(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    energyDynamics=Modelica.Fluid.Types.Dynamics.SteadyState,
    dynamicBalance=false,
    pressure(V_flow=2/1000*{0, m_flow_nominal}, dp={2*dp_nominal, 0}),
    filteredSpeed=false) <font color="darkgreen">&quot;Pump with fixed mass flow rate&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou3(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    p(displayUnit=&quot;Pa&quot;) = 300000 + 0.01*dp_nominal,
    T=293.15,
    nPorts=1);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(pumFixDp.port_b, sou1.ports[1]);
  <font color="red">connect</font>(dp1.port_b, pumFixDp.port_a);
  <font color="red">connect</font>(dp1.port_a, sou.ports[1]);
  <font color="red">connect</font>(pumFixM_flow.port_b, sou3.ports[1]);
  <font color="red">connect</font>(sou2.ports[1], pumFixM_flow.port_a);
  <font color="red">connect</font>(y.y, pumFixDp.y);
  <font color="red">connect</font>(y.y, pumFixM_flow.y);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlowMachine_y_linear;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlowMachine_Nrpm<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yI.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_Nrpm" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Movers.Examples.FlowMachine_Nrpm"></A><A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples"
>Buildings.Fluid.Movers.Examples</A>.FlowMachine_Nrpm</H2>
<IMG SRC="Buildings.Fluid.Movers.Ex59738dc78e0092b2_NrpmD.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_Nrpm">
<P></P><H3>Information</H3>

<p>
This example demonstrates and tests the use of a flow machine whose mass flow rate is reduced to zero.
</p>
<p>
The fans have been configured as steady-state models.
This ensures that the actual speed is equal to the input signal.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples), <A HREF="Buildings_Fluid_Movers_Examples_BaseClasses.html#Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow"
>Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow</A> (Base class to test flow machines with zero flow rate).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>1</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp_nominal</TD><TD>500</TD><TD>Nominal pressure difference [Pa]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlowMachine_Nrpm
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
 <font color="blue">extends </font><A HREF="Buildings_Fluid_Movers_Examples_BaseClasses.html#Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow"
>Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow</A>(
    gain(k=1500),
    <font color="blue">redeclare </font><A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_Nrpm"
>Buildings.Fluid.Movers.FlowMachine_Nrpm</A> floMacSta(
      <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      pressure(V_flow={0,m_flow_nominal,2*m_flow_nominal}/1.2,
               dp={2*dp_nominal,dp_nominal,0}),
      filteredSpeed=false),
    <font color="blue">redeclare </font><A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_Nrpm"
>Buildings.Fluid.Movers.FlowMachine_Nrpm</A> floMacDyn(
      <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      pressure(V_flow={0,m_flow_nominal,2*m_flow_nominal}/1.2,
               dp={2*dp_nominal,dp_nominal,0}),
      filteredSpeed=false));

<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(gain.y, floMacSta.Nrpm);
  <font color="red">connect</font>(gain.y, floMacDyn.Nrpm);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlowMachine_Nrpm;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlowMachine_dp<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yI.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_dp" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Movers.Examples.FlowMachine_dp"></A><A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples"
>Buildings.Fluid.Movers.Examples</A>.FlowMachine_dp</H2>
<IMG SRC="Buildings.Fluid.Movers.Exf3980f7a37e382e5ne_dpD.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_dp">
<P></P><H3>Information</H3>

<p>
This example demonstrates and tests the use of a flow machine whose mass flow rate is reduced to zero.
</p>
<p>
The fans have been configured as steady-state models.
This ensures that the actual speed is equal to the input signal.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples), <A HREF="Buildings_Fluid_Movers_Examples_BaseClasses.html#Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow"
>Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow</A> (Base class to test flow machines with zero flow rate).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>1</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp_nominal</TD><TD>500</TD><TD>Nominal pressure difference [Pa]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlowMachine_dp
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
 <font color="blue">extends </font><A HREF="Buildings_Fluid_Movers_Examples_BaseClasses.html#Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow"
>Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow</A>(
    gain(k=dp_nominal),
    <font color="blue">redeclare </font><A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_dp"
>Buildings.Fluid.Movers.FlowMachine_dp</A> floMacSta(
      <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      m_flow_nominal=m_flow_nominal,
      filteredSpeed=false),
    <font color="blue">redeclare </font><A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_dp"
>Buildings.Fluid.Movers.FlowMachine_dp</A> floMacDyn(
      <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      m_flow_nominal=m_flow_nominal,
      filteredSpeed=false));

<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(gain.y, floMacSta.dp_in);
  <font color="red">connect</font>(gain.y, floMacDyn.dp_in);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlowMachine_dp;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlowMachine_m_flow<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yI.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_m_flow" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Movers.Examples.FlowMachine_m_flow"></A><A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples"
>Buildings.Fluid.Movers.Examples</A>.FlowMachine_m_flow</H2>
<IMG SRC="Buildings.Fluid.Movers.Ex89549a164e91c3af_flowD.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_m_flow">
<P></P><H3>Information</H3>

<p>
This example demonstrates and tests the use of a flow machine whose mass flow rate is reduced to zero.
</p>
<p>
The fans have been configured as steady-state models.
This ensures that the actual speed is equal to the input signal.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples), <A HREF="Buildings_Fluid_Movers_Examples_BaseClasses.html#Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow"
>Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow</A> (Base class to test flow machines with zero flow rate).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>1</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp_nominal</TD><TD>500</TD><TD>Nominal pressure difference [Pa]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlowMachine_m_flow
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
 <font color="blue">extends </font><A HREF="Buildings_Fluid_Movers_Examples_BaseClasses.html#Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow"
>Buildings.Fluid.Movers.Examples.BaseClasses.FlowMachine_ZeroFlow</A>(
    gain(k=m_flow_nominal),
    <font color="blue">redeclare </font><A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_m_flow"
>Buildings.Fluid.Movers.FlowMachine_m_flow</A> floMacSta(
      <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      m_flow_nominal=m_flow_nominal,
      filteredSpeed=false),
    <font color="blue">redeclare </font><A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_m_flow"
>Buildings.Fluid.Movers.FlowMachine_m_flow</A> floMacDyn(
      <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      m_flow_nominal=m_flow_nominal,
      filteredSpeed=false));

<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(gain.y, floMacSta.m_flow_in);
  <font color="red">connect</font>(gain.y, floMacDyn.m_flow_in);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlowMachine_m_flow;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ControlledFlowMachineDynamic<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yI.png" ALT="Buildings.Fluid.Movers.Examples.ControlledFlowMachineDynamic" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Movers.Examples.ControlledFlowMachineDynamic"></A><A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples"
>Buildings.Fluid.Movers.Examples</A>.ControlledFlowMachineDynamic</H2>
<IMG SRC="Buildings.Fluid.Movers.Ex3d3adf2022b528a1namicD.png" ALT="Buildings.Fluid.Movers.Examples.ControlledFlowMachineDynamic">
<P></P><H3>Information</H3>

This example demonstrates the use of the flow model with four different configurations.
At steady-state, all flow models have the same mass flow rate and pressure difference.
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples), <A HREF="Buildings_Fluid_Movers_Examples_BaseClasses.html#Buildings.Fluid.Movers.Examples.BaseClasses.ControlledFlowMachine"
>Buildings.Fluid.Movers.Examples.BaseClasses.ControlledFlowMachine</A>.
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> ControlledFlowMachineDynamic
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">extends </font><A HREF="Buildings_Fluid_Movers_Examples_BaseClasses.html#Buildings.Fluid.Movers.Examples.BaseClasses.ControlledFlowMachine"
>Buildings.Fluid.Movers.Examples.BaseClasses.ControlledFlowMachine</A>(
    fan4(dynamicBalance=true, energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial),
    fan1(dynamicBalance=true, energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial),
    fan2(dynamicBalance=true, energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial),
    fan3(dynamicBalance=true, energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial));
<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>ControlledFlowMachineDynamic;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ControlledFlowMachine<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yI.png" ALT="Buildings.Fluid.Movers.Examples.ControlledFlowMachine" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Movers.Examples.ControlledFlowMachine"></A><A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples"
>Buildings.Fluid.Movers.Examples</A>.ControlledFlowMachine</H2>
<IMG SRC="Buildings.Fluid.Movers.Exc47b300f7acc903echineD.png" ALT="Buildings.Fluid.Movers.Examples.ControlledFlowMachine">
<P></P><H3>Information</H3>

This example demonstrates the use of the flow model with four different configurations.
At steady-state, all flow models have the same mass flow rate and pressure difference.
Note that <code>addPowerToMedium=false</code> since otherwise, 
Dymola computes the enthalpy change of the component as a fraction <code>(k*m_flow+P_internal)/m_flow</code>
which leads to an error because of <code>0/0</code> at zero flow rate.
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples), <A HREF="Buildings_Fluid_Movers_Examples_BaseClasses.html#Buildings.Fluid.Movers.Examples.BaseClasses.ControlledFlowMachine"
>Buildings.Fluid.Movers.Examples.BaseClasses.ControlledFlowMachine</A>.
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> ControlledFlowMachine
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">extends </font><A HREF="Buildings_Fluid_Movers_Examples_BaseClasses.html#Buildings.Fluid.Movers.Examples.BaseClasses.ControlledFlowMachine"
>Buildings.Fluid.Movers.Examples.BaseClasses.ControlledFlowMachine</A>(
    fan4(addPowerToMedium=false, filteredSpeed=false),
    fan1(addPowerToMedium=false, filteredSpeed=false),
    fan2(addPowerToMedium=false, filteredSpeed=false),
    fan3(addPowerToMedium=false, filteredSpeed=false));

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>ControlledFlowMachine;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlowMachine<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yI.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Movers.Examples.FlowMachine"></A><A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples"
>Buildings.Fluid.Movers.Examples</A>.FlowMachine</H2>
<IMG SRC="Buildings.Fluid.Movers.Ex91459e85e6aa6fc5chineD.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine">
<P></P><H3>Information</H3>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlowMachine
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

   <font color="blue">package</font> Medium = <A HREF="Buildings_Media_IdealGases_SimpleAir.html#Buildings.Media.IdealGases.SimpleAir"
>Buildings.Media.IdealGases.SimpleAir</A>;
<textblock type="annotcomp" expanded="false">    <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> P(
    height=-1500,
    offset=101325,
    duration=1.5);
  <A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachinePolynomial"
>Buildings.Fluid.Movers.FlowMachinePolynomial</A> fan(
    D=0.6858,
    a={4.2904,-1.387,4.2293,-3.92920,0.8534},
    b={0.1162,1.5404,-1.4825,0.7664,-0.1971},
    mNorMin_flow=1,
    mNorMax_flow=2,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=10);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> N(k=22.3333);
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou(             <font color="blue">redeclare </font><font color="blue">package</font> Medium
      = Medium,
    use_p_in=true,
    T=293.15,
    nPorts=1);
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(             <font color="blue">redeclare </font><font color="blue">package</font> Medium
      = Medium,
    use_p_in=true,
    T=293.15,
    nPorts=1);
    <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> PAtm(k=101325);
  <A HREF="Buildings_Utilities_Reports.html#Buildings.Utilities.Reports.Printer"
>Buildings.Utilities.Reports.Printer</A> printer(
    nin=6,
    header=&quot;time dp dpNorm mNorm m_flow power&quot;,
    samplePeriod=0.1);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</A> fan_mFlow(y=fan.m_flow);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</A> simTim2(y=time);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</A> fan_dp(y=fan.dp);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</A> fan_dpNor(y=fan.pNor);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</A> fan_mNor(y=fan.mNor_flow);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</A> fan_PSha(y=fan.PSha);
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A>
                                      TIn(<font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      m_flow_nominal=10);
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A>
                                      TOut(<font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      m_flow_nominal=10);</textblock>
<font color="blue">equation </font>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(simTim2.y, printer.x[1]);
  <font color="red">connect</font>(fan_dp.y, printer.x[2]);
  <font color="red">connect</font>(fan_dpNor.y, printer.x[3]);
  <font color="red">connect</font>(fan_mNor.y, printer.x[4]);
  <font color="red">connect</font>(fan_PSha.y, printer.x[6]);
  <font color="red">connect</font>(fan_mFlow.y, printer.x[5]);
  <font color="red">connect</font>(N.y, fan.N_in);
  <font color="red">connect</font>(P.y, sou.p_in);
  <font color="red">connect</font>(PAtm.y, sin.p_in);
  <font color="red">connect</font>(sou.ports[1], TIn.port_a);
  <font color="red">connect</font>(TIn.port_b, fan.port_a);
  <font color="red">connect</font>(fan.port_b, TOut.port_a);
  <font color="red">connect</font>(TOut.port_b, sin.ports[1]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlowMachine;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlowMachineFeedbackControl<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yI.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachineFeedbackControl" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Movers.Examples.FlowMachineFeedbackControl"></A><A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples"
>Buildings.Fluid.Movers.Examples</A>.FlowMachineFeedbackControl</H2>
<B>Flow machine with feedback control</B><p></P>
<IMG SRC="Buildings.Fluid.Movers.Ex694abd0b2821bbf9ntrolD.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachineFeedbackControl">
<P></P><H3>Information</H3>

<p>
This example demonstrates the use of a fan with closed loop control.
The fan is controlled to track a required mass flow rate.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>0.1</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp_nominal</TD><TD>500</TD><TD>Nominal pressure difference [Pa]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlowMachineFeedbackControl <font color="darkgreen">&quot;Flow machine with feedback control&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_GasesPTDecoupled_MoistAirUnsaturated.html#Buildings.Media.GasesPTDecoupled.MoistAirUnsaturated"
>Buildings.Media.GasesPTDecoupled.MoistAirUnsaturated</A>;

<textblock type="annotcomp" expanded="false">  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;</textblock>

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> m_flow_nominal= 0.1 <font color="darkgreen">
    &quot;Nominal mass flow rate&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</A> dp_nominal = 500 <font color="darkgreen">
    &quot;Nominal pressure difference&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Pulse"
>Modelica.Blocks.Sources.Pulse</A> y(
    offset=0.25,
    startTime=0,
    amplitude=0.5,
    period=15*60) <font color="darkgreen">&quot;Input signal&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    p=system.p_ambient,
    T=293.15,
    nPorts=2);
  <A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>FixedResistances.FixedResistanceDpM</A> dp1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=m_flow_nominal,
    dp_nominal=dp_nominal/2) <font color="darkgreen">&quot;Pressure drop&quot;</font>;
  <A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</A> dp2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=m_flow_nominal,
    dp_nominal=dp_nominal/2) <font color="darkgreen">&quot;Pressure drop&quot;</font>;
  <A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_y"
>Buildings.Fluid.Movers.FlowMachine_y</A> fan(
      <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      pressure(V_flow={0,m_flow_nominal,2*m_flow_nominal}/1.2,
               dp={2*dp_nominal,dp_nominal,0}),
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <font color="darkgreen">&quot;Fan&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.MassFlowRate"
>Buildings.Fluid.Sensors.MassFlowRate</A> senMasFlo(<font color="blue">redeclare </font><font color="blue">package</font> Medium =
        Medium);
  <A HREF="Buildings_Controls_Continuous.html#Buildings.Controls.Continuous.LimPID"
>Buildings.Controls.Continuous.LimPID</A> conPID(
    Td=1,
    controllerType=Modelica.Blocks.Types.SimpleController.PI,
    k=0.5,
    Ti=15);
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</A> gain1(k=1/m_flow_nominal);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(sou.ports[1], senMasFlo.port_a);
  <font color="red">connect</font>(senMasFlo.port_b, dp1.port_a);
  <font color="red">connect</font>(dp1.port_b, fan.port_a);
  <font color="red">connect</font>(fan.port_b, dp2.port_a);
  <font color="red">connect</font>(dp2.port_b, sou.ports[2]);
  <font color="red">connect</font>(senMasFlo.m_flow, gain1.u);
  <font color="red">connect</font>(gain1.y, conPID.u_m);
  <font color="red">connect</font>(y.y, conPID.u_s);
  <font color="red">connect</font>(conPID.y, fan.y);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlowMachineFeedbackControl;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlowMachineParallel_y<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yI.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachineParallel_y" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Movers.Examples.FlowMachineParallel_y"></A><A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples"
>Buildings.Fluid.Movers.Examples</A>.FlowMachineParallel_y</H2>
<B>Test model for two flow machines in parallel</B><p></P>
<IMG SRC="Buildings.Fluid.Movers.Ex9735479621eeffb8lel_yD.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachineParallel_y">
<P></P><H3>Information</H3>

This example tests the configuration of two flow machines that are installed in parallel.
Both flow machines start with full speed. 
At <i>t=150</i> second, the speed of the flow machine on the top is reduced to zero.
As its speed is reduced, the mass flow rate changes its direction in such a way that the flow machine
at the top has reverse flow.
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>1</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="Buildings_Media_Interfaces_PartialSimpleMedium.html#Buildings.Media.Interfaces.PartialSimpleMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state_start</TD><TD>Medium.setState_pTX(T=Medium...</TD><TD>Start state</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Density"
>Density</A></TD><TD>rho_nominal</TD><TD>Medium.density(state_start)</TD><TD>Density, used to compute fluid mass [kg/m3]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlowMachineParallel_y <font color="darkgreen">
  &quot;Test model for two flow machines in parallel&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_ConstantPropertyLiquidWater.html#Buildings.Media.ConstantPropertyLiquidWater"
>Buildings.Media.ConstantPropertyLiquidWater</A>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> m_flow_nominal=
     1 <font color="darkgreen">&quot;Nominal mass flow rate&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</A> dpIn1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    dp_nominal=1000,
    m_flow_nominal=0.5*m_flow_nominal) <font color="darkgreen">&quot;Pressure drop&quot;</font>;
  <A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_y"
>Buildings.Fluid.Movers.FlowMachine_y</A> floMac1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    pressure(V_flow={0, m_flow_nominal/1000}, dp={2*4*1000, 0}),
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <font color="darkgreen">
    &quot;Model of a flow machine&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</A> dpOut1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    dp_nominal=1000,
    m_flow_nominal=0.5*m_flow_nominal) <font color="darkgreen">&quot;Pressure drop&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    nPorts=2,
    T=293.15);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</A> dpIn(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=m_flow_nominal,
    dp_nominal=1000) <font color="darkgreen">&quot;Pressure drop&quot;</font>;
  <A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</A> dpOut3(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=m_flow_nominal,
    dp_nominal=1000) <font color="darkgreen">&quot;Pressure drop&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> const2(k=1);</textblock>

  <font color="blue">parameter </font><A HREF="Buildings_Media_Interfaces_PartialSimpleMedium.html#Buildings.Media.Interfaces.PartialSimpleMedium.ThermodynamicState"
>Medium.ThermodynamicState</A> state_start =<font color="red"> Medium.setState_pTX</font>(
      T=Medium.T_default,
      p=Medium.p_default,
      X=Medium.X_default) <font color="darkgreen">&quot;Start state&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Density"
>Modelica.SIunits.Density</A> rho_nominal=<font color="red">Medium.density</font>(
     state_start) <font color="darkgreen">&quot;Density, used to compute fluid mass&quot;</font>;
<textblock type="annotcomp" expanded="false">  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</A> dpIn2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    dp_nominal=1000,
    m_flow_nominal=0.5*m_flow_nominal) <font color="darkgreen">&quot;Pressure drop&quot;</font>;
  <A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_y"
>Buildings.Fluid.Movers.FlowMachine_y</A> floMac2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    pressure(V_flow={0, m_flow_nominal/1000}, dp={2*4*1000, 0}),
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <font color="darkgreen">
    &quot;Model of a flow machine&quot;</font>;
  <A HREF="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</A> dpOut2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    dp_nominal=1000,
    m_flow_nominal=0.5*m_flow_nominal) <font color="darkgreen">&quot;Pressure drop&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Modelica.Blocks.Sources.Step</A>     const1(
    height=-1,
    offset=1,
    startTime=150);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(dpIn1.port_b, floMac1.port_a);
  <font color="red">connect</font>(floMac1.port_b, dpOut1.port_a);
  <font color="red">connect</font>(sou.ports[1], dpIn.port_a);
  <font color="red">connect</font>(dpIn.port_b, dpIn1.port_a);
  <font color="red">connect</font>(dpOut1.port_b, dpOut3.port_a);
  <font color="red">connect</font>(dpOut3.port_b, sou.ports[2]);
  <font color="red">connect</font>(dpIn2.port_b,floMac2. port_a);
  <font color="red">connect</font>(floMac2.port_b,dpOut2. port_a);
  <font color="red">connect</font>(const2.y, floMac2.y);
  <font color="red">connect</font>(dpIn.port_b, dpIn2.port_a);
  <font color="red">connect</font>(dpOut2.port_b, dpOut3.port_a);
  <font color="red">connect</font>(const1.y, floMac1.y);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlowMachineParallel_y;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlowMachineSeries_y<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yI.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachineSeries_y" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Movers.Examples.FlowMachineSeries_y"></A><A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples"
>Buildings.Fluid.Movers.Examples</A>.FlowMachineSeries_y</H2>
<B>Test model for two flow machines in series</B><p></P>
<IMG SRC="Buildings.Fluid.Movers.Exe67c978a08cc80f2ies_yD.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachineSeries_y">
<P></P><H3>Information</H3>

This example tests the configuration of two flow machines that are installed in series.
Both flow machines start with full speed. 
At <i>t=150</i> seconds, the speed of the flow machine on the left is reduced to zero.
As its speed is reduced, the mass flow rate is reduced. Note that even at zero input, the mass flow rate is non-zero,
but the pressure drop of the pump <code>floMac1.dp</code> is positive, which means that this pump has a flow resistance.
However, <code>flowMac2.dp</code> is always negative, as this pump has a constant control input of 1.
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>1</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="Buildings_Media_Interfaces_PartialSimpleMedium.html#Buildings.Media.Interfaces.PartialSimpleMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state_start</TD><TD>Medium.setState_pTX(T=Medium...</TD><TD>Start state</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Density"
>Density</A></TD><TD>rho_nominal</TD><TD>Medium.density(state_start)</TD><TD>Density, used to compute fluid mass [kg/m3]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlowMachineSeries_y <font color="darkgreen">
  &quot;Test model for two flow machines in series&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_ConstantPropertyLiquidWater.html#Buildings.Media.ConstantPropertyLiquidWater"
>Buildings.Media.ConstantPropertyLiquidWater</A>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> m_flow_nominal=
     1 <font color="darkgreen">&quot;Nominal mass flow rate&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_y"
>Buildings.Fluid.Movers.FlowMachine_y</A> floMac1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    pressure(V_flow={0, m_flow_nominal/1000}, dp={2*4*1000, 0}),
    dynamicBalance=false) <font color="darkgreen">&quot;Model of a flow machine&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    p(displayUnit=&quot;Pa&quot;) = 300000,
    T=293.15,
    nPorts=1);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> const2(k=1);</textblock>

  <font color="blue">parameter </font><A HREF="Buildings_Media_Interfaces_PartialSimpleMedium.html#Buildings.Media.Interfaces.PartialSimpleMedium.ThermodynamicState"
>Medium.ThermodynamicState</A> state_start =<font color="red"> Medium.setState_pTX</font>(
      T=Medium.T_default,
      p=Medium.p_default,
      X=Medium.X_default) <font color="darkgreen">&quot;Start state&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Density"
>Modelica.SIunits.Density</A> rho_nominal=<font color="red">Medium.density</font>(
     state_start) <font color="darkgreen">&quot;Density, used to compute fluid mass&quot;</font>;
<textblock type="annotcomp" expanded="false">  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_y"
>Buildings.Fluid.Movers.FlowMachine_y</A> floMac2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    pressure(V_flow={0, m_flow_nominal/1000}, dp={2*4*1000, 0}),
    dynamicBalance=false) <font color="darkgreen">&quot;Model of a flow machine&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Modelica.Blocks.Sources.Step</A>     const1(
    height=-1,
    offset=1,
    startTime=150);
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    p(displayUnit=&quot;Pa&quot;) = 300000 + 4000,
    T=293.15,
    nPorts=1);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(const2.y, floMac2.y);
  <font color="red">connect</font>(const1.y, floMac1.y);
  <font color="red">connect</font>(floMac1.port_b, floMac2.port_a);
  <font color="red">connect</font>(sou.ports[1], floMac1.port_a);
  <font color="red">connect</font>(floMac2.port_b, sou1.ports[1]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlowMachineSeries_y;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlowMachine_y_pumpCurves<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Movers.Ex53ef92c3a9bf1c0fine_yI.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_y_pumpCurves" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Movers.Examples.FlowMachine_y_pumpCurves"></A><A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples"
>Buildings.Fluid.Movers.Examples</A>.FlowMachine_y_pumpCurves</H2>
<B>Test model for pump that illustrates the pump curves</B><p></P>
<IMG SRC="Buildings.Fluid.Movers.Exdfcea95892ce7d29urvesD.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_y_pumpCurves">
<P></P><H3>Information</H3>

<p>
This example demonstrates how the pump curves changes for different (constant) input
signal <code>y</code>.
If <code>y &ge; delta = 0.05</code>, the pump curves are polynomials.
For <code>y &lt; delta = 0.05</code>, the pump curves convert to linear functions to
avoid a singularity at the origin.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>0.5</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp_nominal</TD><TD>10000</TD><TD>Nominal pressure [Pa]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlowMachine_y_pumpCurves <font color="darkgreen">
  &quot;Test model for pump that illustrates the pump curves&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">package</font> Medium = <A HREF="Buildings_Media_ConstantPropertyLiquidWater.html#Buildings.Media.ConstantPropertyLiquidWater"
>Buildings.Media.ConstantPropertyLiquidWater</A> <font color="darkgreen">&quot;Medium model&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> m_flow_nominal = 0.5 <font color="darkgreen">
    &quot;Nominal mass flow rate&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</A> dp_nominal = 10000 <font color="darkgreen">&quot;Nominal pressure&quot;</font>;

   <font color="blue">model</font> pumpModel = <A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_y"
>Buildings.Fluid.Movers.FlowMachine_y</A> (
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    energyDynamics=Modelica.Fluid.Types.Dynamics.SteadyState,
    dynamicBalance=false,
    pressure(V_flow=2/1000*m_flow_nominal*{0.2, 0.4, 0.6, 0.8},
                  dp=dp_nominal*{0.9, 0.85, 0.6, 0.2})) <font color="darkgreen">
    &quot;Declaration of pump model&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachine_y_pumpCurves.pumpModel"
>pumpModel</A> pum(filteredSpeed=false) <font color="darkgreen">&quot;Pump&quot;</font>;
  <A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachine_y_pumpCurves.pumpModel"
>pumpModel</A> pum1(filteredSpeed=false) <font color="darkgreen">&quot;Pump&quot;</font>;
  <A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachine_y_pumpCurves.pumpModel"
>pumpModel</A> pum2(filteredSpeed=false) <font color="darkgreen">&quot;Pump&quot;</font>;
  <A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachine_y_pumpCurves.pumpModel"
>pumpModel</A> pum3(filteredSpeed=false) <font color="darkgreen">&quot;Pump&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> y(
    offset=1,
    duration=0.5,
    startTime=0.25,
    height=-1) <font color="darkgreen">&quot;Input signal&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    p=300000,
    T=293.15,
    nPorts=4);</textblock>

<textblock type="annotcomp" expanded="false">  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    nPorts=4,
    p(displayUnit=&quot;Pa&quot;) = 300000,
    T=293.15);
  <A HREF="Buildings_Fluid_Actuators_Valves.html#Buildings.Fluid.Actuators.Valves.TwoWayLinear"
>Buildings.Fluid.Actuators.Valves.TwoWayLinear</A> dp1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=m_flow_nominal,
    dpValve_nominal=0.01*dp_nominal,
    filteredOpening=false) <font color="darkgreen">&quot;Pressure drop&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A>
                               y1(k=1) <font color="darkgreen">&quot;Input signal&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Actuators_Valves.html#Buildings.Fluid.Actuators.Valves.TwoWayLinear"
>Buildings.Fluid.Actuators.Valves.TwoWayLinear</A> dp2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=m_flow_nominal,
    dpValve_nominal=0.01*dp_nominal,
    filteredOpening=false) <font color="darkgreen">&quot;Pressure drop&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A>
                               y2(k=0.5) <font color="darkgreen">&quot;Input signal&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_Actuators_Valves.html#Buildings.Fluid.Actuators.Valves.TwoWayLinear"
>Buildings.Fluid.Actuators.Valves.TwoWayLinear</A> dp3(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=m_flow_nominal,
    dpValve_nominal=0.01*dp_nominal,
    filteredOpening=false) <font color="darkgreen">&quot;Pressure drop&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A>
                               y3(k=0.05) <font color="darkgreen">&quot;Input signal&quot;</font>;
  <A HREF="Buildings_Fluid_Actuators_Valves.html#Buildings.Fluid.Actuators.Valves.TwoWayLinear"
>Buildings.Fluid.Actuators.Valves.TwoWayLinear</A> dp4(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    m_flow_nominal=m_flow_nominal,
    dpValve_nominal=0.01*dp_nominal,
    filteredOpening=false) <font color="darkgreen">&quot;Pressure drop&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A>
                               y4(k=0.01) <font color="darkgreen">&quot;Input signal&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(dp1.port_b, pum.port_a);
  <font color="red">connect</font>(dp1.port_a, sou.ports[1]);
  <font color="red">connect</font>(y1.y, pum.y);
  <font color="red">connect</font>(y.y, dp1.y);
  <font color="red">connect</font>(dp2.port_b, pum1.port_a);
  <font color="red">connect</font>(y.y,dp2. y);
  <font color="red">connect</font>(sou.ports[2], dp2.port_a);
  <font color="red">connect</font>(y2.y, pum1.y);
  <font color="red">connect</font>(dp3.port_b, pum2.port_a);
  <font color="red">connect</font>(y.y,dp3. y);
  <font color="red">connect</font>(y3.y, pum2.y);
  <font color="red">connect</font>(dp3.port_a, sou.ports[3]);
  <font color="red">connect</font>(dp4.port_b, pum3.port_a);
  <font color="red">connect</font>(y.y,dp4. y);
  <font color="red">connect</font>(y4.y, pum3.y);
  <font color="red">connect</font>(dp4.port_a, sou.ports[4]);
  <font color="red">connect</font>(pum3.port_b, sou1.ports[1]);
  <font color="red">connect</font>(pum2.port_b, sou1.ports[2]);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(pum1.port_b, sou1.ports[3]);
  <font color="red">connect</font>(pum.port_b, sou1.ports[4]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlowMachine_y_pumpCurves;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE pumpModel<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.Movers.Ex3f057c3f50440c46ModelI.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_y_pumpCurves.pumpModel" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.Movers.Examples.FlowMachine_y_pumpCurves.pumpModel"></A><A HREF="Buildings_Fluid_Movers_Examples.html#Buildings.Fluid.Movers.Examples.FlowMachine_y_pumpCurves"
>Buildings.Fluid.Movers.Examples.FlowMachine_y_pumpCurves</A>.pumpModel</H2>
<B>Declaration of pump model</B><p></P>
<IMG SRC="Buildings.Fluid.Movers.Ex3f057c3f50440c46ModelD.png" ALT="Buildings.Fluid.Movers.Examples.FlowMachine_y_pumpCurves.pumpModel">
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium in the component</TD></TR>
<TR><TD>Boolean</TD><TD>addPowerToMedium</TD><TD>true</TD><TD>Set to false to avoid any power (=heat and flow work) being added to medium (may give simpler equations)</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Characteristics</TD></TR>
<TR><TD>Boolean</TD><TD>use_powerCharacteristic</TD><TD>false</TD><TD>Use powerCharacteristic (vs. efficiencyCharacteristic)</TD></TR>
<TR><TD>Boolean</TD><TD>motorCooledByFluid</TD><TD>true</TD><TD>If true, then motor heat is added to fluid stream</TD></TR>
<TR><TD><A HREF="Buildings_Fluid_Movers_BaseClasses_Characteristics.html#Buildings.Fluid.Movers.BaseClasses.Characteristics.efficiencyParameters"
>efficiencyParameters</A></TD><TD>motorEfficiency</TD><TD>&nbsp;</TD><TD>Normalized volume flow rate vs. efficiency</TD></TR>
<TR><TD><A HREF="Buildings_Fluid_Movers_BaseClasses_Characteristics.html#Buildings.Fluid.Movers.BaseClasses.Characteristics.efficiencyParameters"
>efficiencyParameters</A></TD><TD>hydraulicEfficiency</TD><TD>&nbsp;</TD><TD>Normalized volume flow rate vs. efficiency</TD></TR>
<TR><TD><A HREF="Buildings_Fluid_Movers_BaseClasses_Characteristics.html#Buildings.Fluid.Movers.BaseClasses.Characteristics.powerParameters"
>powerParameters</A></TD><TD>power</TD><TD>&nbsp;</TD><TD>Volume flow rate vs. electrical power consumption</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD>Real</TD><TD>r_V.start</TD><TD>1</TD><TD>Ratio V_flow/V_flow_max [1]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow.start</TD><TD>0</TD><TD>Mass flow rate from port_a to port_b (m_flow &gt; 0 is design flow direction) [kg/s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>dp.start</TD><TD>0</TD><TD>Pressure difference between port_a and port_b [Pa]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Advanced</B></TD></TR>
<TR><TD>Boolean</TD><TD>homotopyInitialization</TD><TD>true</TD><TD>= true, use homotopy method</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_small</TD><TD>1E-4*abs(m_flow_nominal)</TD><TD>Small mass flow rate for regularization of zero flow [kg/s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Diagnostics</TD></TR>
<TR><TD>Boolean</TD><TD>show_T</TD><TD>false</TD><TD>= true, if actual temperature at port is computed</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Dynamics</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Filtered speed</TD></TR>
<TR><TD>Boolean</TD><TD>filteredSpeed</TD><TD>true</TD><TD>= true, if speed is filtered with a 2nd order CriticalDamping filter</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>riseTime</TD><TD>30</TD><TD>Rise time of the filter (time to reach 99.6 % of the speed) [s]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Blocks_Types.html#Modelica.Blocks.Types.Init"
>Init</A></TD><TD>init</TD><TD>Modelica.Blocks.Types.Init.I...</TD><TD>Type of initialization (no init/steady state/initial state/initial output)</TD></TR>
<TR><TD>Real</TD><TD>N_start</TD><TD>0</TD><TD>Initial value of speed</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Equations</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics</TD><TD>Modelica.Fluid.Types.Dynamic...</TD><TD>Formulation of energy balance</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>massDynamics</TD><TD>energyDynamics</TD><TD>Formulation of mass balance</TD></TR>
<TR><TD>Boolean</TD><TD>dynamicBalance</TD><TD>false</TD><TD>Set to true to use a dynamic balance, which often leads to smaller systems of equations</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>tau</TD><TD>1</TD><TD>Time constant of fluid volume for nominal flow, used if dynamicBalance=true [s]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Initialization</B></TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p_start</TD><TD>Medium.p_default</TD><TD>Start value of pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T_start</TD><TD>Medium.T_default</TD><TD>Start value of temperature [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X_start[Medium.nX]</TD><TD>Medium.X_default</TD><TD>Start value of mass fractions m_i/m [kg/kg]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C_start[Medium.nC]</TD><TD>fill(0, Medium.nC)</TD><TD>Start value of trace substances</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C_nominal[Medium.nC]</TD><TD>fill(1E-2, Medium.nC)</TD><TD>Nominal value of trace substances. (Set to typical order of magnitude.)</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>P</TD><TD>Electrical power consumed [W]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>N_actual</TD><TD>[1/min]</TD></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Medium in the component</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a</TD><TD>Fluid connector a (positive design flow direction is from port_a to port_b)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b</TD><TD>Fluid connector b (positive design flow direction is from port_a to port_b)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heatPort</TD><TD>Heat dissipation to environment</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>y</TD><TD>Constant normalized rotational speed [1]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> pumpModel = <A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_y"
>Buildings.Fluid.Movers.FlowMachine_y</A> (
 <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
 energyDynamics=Modelica.Fluid.Types.Dynamics.SteadyState,
 dynamicBalance=false,
 pressure(V_flow=2/1000*m_flow_nominal*{0.2, 0.4, 0.6, 0.8},
               dp=dp_nominal*{0.9, 0.85, 0.6, 0.2})) <font color="darkgreen">
  &quot;Declaration of pump model&quot;</font>;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Thu Oct 24 15:09:45 2013.
</address></BODY>
</HTML>
