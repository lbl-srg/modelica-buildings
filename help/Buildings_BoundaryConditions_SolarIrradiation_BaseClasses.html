<HTML>
<HEAD>
<TITLE>Buildings.BoundaryConditions.SolarIrradiation.BaseClasses</TITLE>
<META name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META name="description" content="&quot;Package with base classes for Buildings.BoundaryConditions.SolarIrradiation&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- --- header ------ -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- --- end header -- -->
</P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BaseClasses<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses"></A><A HREF="Buildings_BoundaryConditions_SolarIrradiation.html#Buildings.BoundaryConditions.SolarIrradiation"
>Buildings.BoundaryConditions.SolarIrradiation</A>.BaseClasses</H2>
<B>Package with base classes for Buildings.BoundaryConditions.SolarIrradiation</B>
<P></P>
<P></P><H3>Information</H3>

<p>
This package contains base classes that are used to construct the models in
<A HREF="Buildings_BoundaryConditions_SolarIrradiation.html#Buildings.BoundaryConditions.SolarIrradiation"
>Buildings.BoundaryConditions.SolarIrradiation</a>.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons_BasesPackage.html#Modelica.Icons.BasesPackage"
>Modelica.Icons.BasesPackage</A> (Icon for packages containing base classes).
<P></P><H3>Package Content</H3>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Buildings.BoundaryConditi3b8f0fddb5c350e2cientS.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.BrighteningCoefficient" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.BrighteningCoefficient"
>BrighteningCoefficient</A>
</TD><TD>Circumsolar and horizon brightening coefficients</TD></TR>
<TR><TD><IMG SRC="Buildings.BoundaryConditi08e045cbfcfd61b2ropicS.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DiffuseIsotropic" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DiffuseIsotropic"
>DiffuseIsotropic</A>
</TD><TD>Diffuse solar irradiation on a tilted surface with an isotropic model</TD></TR>
<TR><TD><IMG SRC="Buildings.BoundaryConditi2ddff23bb35469e7PerezS.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DiffusePerez" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DiffusePerez"
>DiffusePerez</A>
</TD><TD>Hemispherical diffuse irradiation on a tilted surface with Perez&#39;s anisotropic model</TD></TR>
<TR><TD><IMG SRC="Buildings.BoundaryConditidf605925bb011a47rfaceS.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DirectTiltedSurface" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DirectTiltedSurface"
>DirectTiltedSurface</A>
</TD><TD>Direct solar irradiation on a tilted surface</TD></TR>
<TR><TD><IMG SRC="Buildings.BoundaryConditi53b9d95fa01f6480rMassS.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.RelativeAirMass" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.RelativeAirMass"
>RelativeAirMass</A>
</TD><TD>Relative air mass</TD></TR>
<TR><TD><IMG SRC="Buildings.BoundaryConditi67c9583feaebba7ctnessS.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.SkyBrightness" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.SkyBrightness"
>SkyBrightness</A>
</TD><TD>Sky brightness</TD></TR>
<TR><TD><IMG SRC="Buildings.BoundaryConditie87571ee32fa72e3rnessS.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.SkyClearness" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.SkyClearness"
>SkyClearness</A>
</TD><TD>Sky clearness</TD></TR>
<TR><TD><IMG SRC="Buildings.BoundaryConditi1a5fb1311274395eationS.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.PartialSolarIrradiation" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.PartialSolarIrradiation"
>PartialSolarIrradiation</A>
</TD><TD>Partial model that is used to compute the direct and diffuse solar irradiation</TD></TR>
<TR><TD><IMG SRC="Buildings.BoundaryConditi0dff03b03c613719mplesS.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.Examples" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses_Examples.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.Examples"
>Examples</A>
</TD><TD>Collection of models that illustrate model use and test models</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BrighteningCoefficient<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.BoundaryConditi3b8f0fddb5c350e2cientI.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.BrighteningCoefficient" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.BrighteningCoefficient"></A><A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses"
>Buildings.BoundaryConditions.SolarIrradiation.BaseClasses</A>.BrighteningCoefficient</H2>
<B>Circumsolar and horizon brightening coefficients</B><p></P>
<IMG SRC="Buildings.BoundaryConditi3b8f0fddb5c350e2cientD.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.BrighteningCoefficient">
<P></P><H3>Information</H3>

<p>
This component computes the circumsolar and horizon brightening coefficients.
</p>
<pre>
</PRE><P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>zen</TD><TD>Zenith angle of the sun beam [rad]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>skyCle</TD><TD>Sky clearness. skyCle=1: overcast sky; skyCle=8 clear sky</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>skyBri</TD><TD>Sky brightness [0,1]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>F1</TD><TD>Circumsolar brightening coefficient</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>F2</TD><TD>Horizon brightening coefficient</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> BrighteningCoefficient <font color="darkgreen">
  &quot;Circumsolar and horizon brightening coefficients&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
  <font color="blue">import </font>H = <A HREF="Buildings_Utilities_Math_Functions.html#Buildings.Utilities.Math.Functions.spliceFunction"
>Buildings.Utilities.Math.Functions.spliceFunction</A>;
<textblock type="annotcomp" expanded="false"><font color="blue">public </font>
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> zen(
    quantity=&quot;Angle&quot;,
    unit=&quot;rad&quot;,
    displayUnit=&quot;degree&quot;) <font color="darkgreen">&quot;Zenith angle of the sun beam&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> skyCle <font color="darkgreen">
    &quot;Sky clearness. skyCle=1: overcast sky; skyCle=8 clear sky&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> skyBri <font color="darkgreen">&quot;Sky brightness [0,1]&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> F1 <font color="darkgreen">
    &quot;Circumsolar brightening coefficient&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> F2 <font color="darkgreen">&quot;Horizon brightening coefficient&quot;</font>;</textblock>
<font color="blue">protected </font>
  Real F11;
  Real F12;
  Real F13;
  Real F21;
  Real F22;
  Real F23;
  Real d=0.01;
  Real a1;
  Real a2;
  Real a3;
  Real a4;
  Real a5;
  Real a6;
  Real a7;
  Real a8;
  Real b1;
  Real b2;
  Real b3;
  Real b4;
  Real b5;
  Real b6;
  Real b7;
  Real b8;
<font color="blue">equation </font>
  b1 =<font color="red"> H</font>(
    1,
    0,
    1.065 - skyCle,
    d);
  b2 =<font color="red"> H</font>(
    1,
    0,
    1.23 - skyCle,
    d);
  b3 =<font color="red"> H</font>(
    1,
    0,
    1.50 - skyCle,
    d);
  b4 =<font color="red"> H</font>(
    1,
    0,
    1.95 - skyCle,
    d);
  b5 =<font color="red"> H</font>(
    1,
    0,
    2.80 - skyCle,
    d);

  b6 =<font color="red"> H</font>(
    1,
    0,
    4.50 - skyCle,
    d);
  b7 =<font color="red"> H</font>(
    1,
    0,
    6.20 - skyCle,
    d);
  b8 =<font color="red"> H</font>(
    1,
    0,
    skyCle - 6.20,
    d);

  a1 = b1;
  a2 = b2 - b1;
  a3 = b3 - b2;
  a4 = b4 - b3;
  a5 = b5 - b4;
  a6 = b6 - b5;
  a7 = b7 - b6;
  a8 = b8;

  F11 = -0.0083117*a1 + 0.1299457*a2 + 0.3296958*a3 + 0.5682053*a4 + 0.8730280*
    a5 + 1.1326077*a6 + 1.0601591*a7 + 0.6777470*a8;
  F12 = 0.5877285*a1 + 0.6825954*a2 + 0.4868735*a3 + 0.1874525*a4 - 0.3920403*
    a5 - 1.2367284*a6 - 1.5999137*a7 - 0.3272588*a8;
  F13 = -0.0620636*a1 - 0.1513725*a2 - 0.2210958*a3 - 0.2951290*a4 - 0.3616149*
    a5 - 0.4118494*a6 - 0.3589221*a7 - 0.2504286*a8;
  F21 = -0.0596012*a1 - 0.0189325*a2 + 0.0554140*a3 + 0.1088631*a4 + 0.2255647*
    a5 + 0.2877813*a6 + 0.2642124*a7 + 0.1561313*a8;
  F22 = 0.0721249*a1 + 0.0659650*a2 - 0.0639588*a3 - 0.1519229*a4 - 0.4620442*
    a5 - 0.8230357*a6 - 1.1272340*a7 - 1.3765031*a8;
  F23 = -0.0220216*a1 - 0.0288748*a2 - 0.0260542*a3 - 0.0139754*a4 + 0.0012448*
    a5 + 0.0558651*a6 + 0.1310694*a7 + 0.2506212*a8;
  F1 =<font color="red"> Buildings.Utilities.Math.Functions.smoothMax</font>(
    0,
    F11 + F12*skyBri + F13*zen,
    0.01);
  F2 = F21 + F22*skyBri + F23*zen;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>BrighteningCoefficient;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE DiffuseIsotropic<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.BoundaryConditi08e045cbfcfd61b2ropicI.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DiffuseIsotropic" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DiffuseIsotropic"></A><A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses"
>Buildings.BoundaryConditions.SolarIrradiation.BaseClasses</A>.DiffuseIsotropic</H2>
<B>Diffuse solar irradiation on a tilted surface with an isotropic model</B><p></P>
<IMG SRC="Buildings.BoundaryConditi08e045cbfcfd61b2ropicD.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DiffuseIsotropic">
<P></P><H3>Information</H3>

<p>
This component computes the hemispherical diffuse irradiation on a tilted surface.
The irradiation is composed of the diffuse horizontal solar irradiation and the irradiation
that has been reflected by the ground. Both components are adjusted to take into account
the tilt of the receiving surface.
</p>
<h4>References</h4>
P. Ineichen, R. Perez and R. Seals (1987).
<i>The Importance of Correct Albedo Determination for Adequately Modeling Energy Received by Tilted Surface</i>,
Solar Energy, 39(4): 301-305.
<pre>
</PRE><P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>rho</TD><TD>0.2</TD><TD>Ground reflectance</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>til</TD><TD>&nbsp;</TD><TD>Surface tilt angle [rad]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>HDifHor</TD><TD>Horizontal diffuse solar radiation [W/m2]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>HGloHor</TD><TD>Horizontal global radiation [W/m2]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>HGroDifTil</TD><TD>Diffuse solar irradiation on a tilted surfce from the ground [W/m2]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>HSkyDifTil</TD><TD>Diffuse solar irradiation on a tilted surfce from the sky [W/m2]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> DiffuseIsotropic <font color="darkgreen">
  &quot;Diffuse solar irradiation on a tilted surface with an isotropic model&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
<font color="blue">public </font>
  <font color="blue">parameter </font>Real rho=0.2 <font color="darkgreen">&quot;Ground reflectance&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</A> til(displayUnit=&quot;deg&quot;) <font color="darkgreen">&quot;Surface tilt angle&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> HDifHor(quantity=
        &quot;RadiantEnergyFluenceRate&quot;, unit=&quot;W/m2&quot;) <font color="darkgreen">
    &quot;Horizontal diffuse solar radiation&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> HGloHor(quantity=
        &quot;RadiantEnergyFluenceRate&quot;, unit=&quot;W/m2&quot;) <font color="darkgreen">&quot;Horizontal global radiation&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> HGroDifTil(<font color="blue">final </font>quantity=&quot;RadiantEnergyFluenceRate&quot;,
      <font color="blue">final </font>unit=&quot;W/m2&quot;) <font color="darkgreen">
    &quot;Diffuse solar irradiation on a tilted surfce from the ground&quot;</font>;</textblock>
<font color="blue">protected </font>
  Real til_c <font color="darkgreen">&quot;Cosine of tilt angle&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">public </font>
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> HSkyDifTil(<font color="blue">final </font>quantity=&quot;RadiantEnergyFluenceRate&quot;,
      <font color="blue">final </font>unit=&quot;W/m2&quot;) <font color="darkgreen">
    &quot;Diffuse solar irradiation on a tilted surfce from the sky&quot;</font>;</textblock>
<font color="blue">equation </font>
  til_c =<font color="red"> Modelica.Math.cos</font>(til);
  HSkyDifTil = 0.5*HDifHor*(1 + til_c);
  HGroDifTil = 0.5*HGloHor*rho*(1 - til_c);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>DiffuseIsotropic;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE DiffusePerez<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.BoundaryConditi2ddff23bb35469e7PerezI.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DiffusePerez" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DiffusePerez"></A><A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses"
>Buildings.BoundaryConditions.SolarIrradiation.BaseClasses</A>.DiffusePerez</H2>
<B>Hemispherical diffuse irradiation on a tilted surface with Perez&#39;s anisotropic model</B><p></P>
<IMG SRC="Buildings.BoundaryConditi2ddff23bb35469e7PerezD.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DiffusePerez">
<P></P><H3>Information</H3>

<p>
This component computes the hemispherical diffuse irradiation on a tilted surface by using an anisotropic model proposed by Perez. 
</p>
<h4>References</h4>
<ul>
<li>
P. Ineichen, R. Perez and R. Seals (1987).
<i>The Importance of Correct Albedo Determination for Adequately Modeling Energy Received by Tilted Surface</i>,
Solar Energy, 39(4): 301-305.
</li>
<li>
R. Perez, R. Seals, P. Ineichen, R. Stewart and D. Menicucci (1987).
<i>A New Simplified Version of the Perez Diffuse Irradiance Model for Tilted Surface</i>,
Solar Energy, 39(3): 221-231.
</li>
<li>
R. Perez, P. Ineichen, R. Seals, J. Michalsky and R. Stewart (1990).
<i>Modeling Dyalight Availability and Irradiance Componets From Direct and Global Irradiance</i>,
Solar Energy, 44(5):271-289.
</li>
</ul>
<pre>
</PRE><P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>rho</TD><TD>0.2</TD><TD>Ground reflectance</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>til</TD><TD>&nbsp;</TD><TD>Surface tilt angle [rad]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>briCof1</TD><TD>Brightening Coeffcient F1</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>briCof2</TD><TD>Brightening Coeffcient F2</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>HDifHor</TD><TD>Diffuse horizontal solar radiation [W/m2]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>HGloHor</TD><TD>Global horizontal radiation [W/m2]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>zen</TD><TD>Zenith angle of the sun beam [rad]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>incAng</TD><TD>Solar incidence angle on the surface [rad]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>HGroDifTil</TD><TD>Hemispherical diffuse solar irradiation on a tilted surfce from the ground [W/m2]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>HSkyDifTil</TD><TD>Hemispherical diffuse solar irradiation on a tilted surfce from the sky [W/m2]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> DiffusePerez <font color="darkgreen">
  &quot;Hemispherical diffuse irradiation on a tilted surface with Perez&#39;s anisotropic model&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
<font color="blue">public </font>
  <font color="blue">parameter </font>Real rho=0.2 <font color="darkgreen">&quot;Ground reflectance&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</A> til(displayUnit=&quot;deg&quot;) <font color="darkgreen">&quot;Surface tilt angle&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> briCof1 <font color="darkgreen">&quot;Brightening Coeffcient F1&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> briCof2 <font color="darkgreen">&quot;Brightening Coeffcient F2&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> HDifHor(quantity=
        &quot;RadiantEnergyFluenceRate&quot;, unit=&quot;W/m2&quot;) <font color="darkgreen">
    &quot;Diffuse horizontal solar radiation&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> HGloHor(quantity=
        &quot;RadiantEnergyFluenceRate&quot;, unit=&quot;W/m2&quot;) <font color="darkgreen">&quot;Global horizontal radiation&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> zen(
    quantity=&quot;Angle&quot;,
    unit=&quot;rad&quot;,
    displayUnit=&quot;degree&quot;) <font color="darkgreen">&quot;Zenith angle of the sun beam&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> incAng(
    quantity=&quot;Angle&quot;,
    unit=&quot;rad&quot;,
    displayUnit=&quot;degree&quot;) <font color="darkgreen">&quot;Solar incidence angle on the surface&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> HGroDifTil(<font color="blue">final </font>quantity=
        &quot;RadiantEnergyFluenceRate&quot;, <font color="blue">final </font>unit=&quot;W/m2&quot;) <font color="darkgreen">
    &quot;Hemispherical diffuse solar irradiation on a tilted surfce from the ground&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> HSkyDifTil(<font color="blue">final </font>quantity=
        &quot;RadiantEnergyFluenceRate&quot;, <font color="blue">final </font>unit=&quot;W/m2&quot;) <font color="darkgreen">
    &quot;Hemispherical diffuse solar irradiation on a tilted surfce from the sky&quot;</font>;</textblock>
<font color="blue">protected </font>
  Real a;
  Real b;
  <font color="blue">constant </font>Real bMin=<font color="red">Modelica.Math.cos</font>(Modelica.Constants.pi*85/180) <font color="darkgreen">
    &quot;Lower bound for b&quot;</font>;
<font color="blue">equation </font>
  a =<font color="red"> Buildings.Utilities.Math.Functions.smoothMax</font>(
    0,
    <font color="red">Modelica.Math.cos</font>(incAng),
    0.01);
  b =<font color="red"> Buildings.Utilities.Math.Functions.smoothMax</font>(
    bMin,
    <font color="red">Modelica.Math.cos</font>(zen),
    0.01);
  HSkyDifTil = HDifHor*(0.5*(1 - briCof1)*(1 +<font color="red"> Modelica.Math.cos</font>(til)) +
    briCof1*a/b + briCof2*<font color="red">Modelica.Math.sin</font>(til));
  HGroDifTil = HGloHor*0.5*rho*(1 -<font color="red"> Modelica.Math.cos</font>(til));

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>DiffusePerez;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE DirectTiltedSurface<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.BoundaryConditidf605925bb011a47rfaceI.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DirectTiltedSurface" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DirectTiltedSurface"></A><A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses"
>Buildings.BoundaryConditions.SolarIrradiation.BaseClasses</A>.DirectTiltedSurface</H2>
<B>Direct solar irradiation on a tilted surface</B><p></P>
<IMG SRC="Buildings.BoundaryConditidf605925bb011a47rfaceD.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.DirectTiltedSurface">
<P></P><H3>Information</H3>

<p>
This component computes the direct solar irradiation on a tilted surface.
</p>
<pre>
</PRE><P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>incAng</TD><TD>Incidence angle of the sun beam on a tilted surface [rad]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>HDirNor</TD><TD>Direct normal radiation [W/m2]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>HDirTil</TD><TD>Direct solar irradiation on a tilted surfce [W/m2]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> DirectTiltedSurface <font color="darkgreen">
  &quot;Direct solar irradiation on a tilted surface&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> incAng(
    quantity=&quot;Angle&quot;,
    unit=&quot;rad&quot;,
    displayUnit=&quot;degree&quot;) <font color="darkgreen">&quot;Incidence angle of the sun beam on a tilted surface&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> HDirNor(quantity=
        &quot;RadiantEnergyFluenceRate&quot;, unit=&quot;W/m2&quot;) <font color="darkgreen">&quot;Direct normal radiation&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> HDirTil(<font color="blue">final </font>quantity=
        &quot;RadiantEnergyFluenceRate&quot;, <font color="blue">final </font>unit=&quot;W/m2&quot;) <font color="darkgreen">
    &quot;Direct solar irradiation on a tilted surfce&quot;</font>;</textblock>

<font color="blue">algorithm </font>
  HDirTil :=<font color="red"> max</font>(0,<font color="red"> Modelica.Math.cos</font>(incAng)*HDirNor);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>DirectTiltedSurface;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE RelativeAirMass<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.BoundaryConditi53b9d95fa01f6480rMassI.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.RelativeAirMass" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.RelativeAirMass"></A><A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses"
>Buildings.BoundaryConditions.SolarIrradiation.BaseClasses</A>.RelativeAirMass</H2>
<B>Relative air mass</B><p></P>
<IMG SRC="Buildings.BoundaryConditi53b9d95fa01f6480rMassD.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.RelativeAirMass">
<P></P><H3>Information</H3>

<p>
This component computes the relative air mass for sky brightness.
</p>
<h4>References</h4>
R. Perez (1999).
<i>Fortran Function irrpz.f</i>,
Emailed by R. Perez to F.C. Winkelmann on May 21, 1999.<br/>
<pre>
</PRE><P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>zen</TD><TD>Zenith angle of the sun beam [rad]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>relAirMas</TD><TD>Relative air mass</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> RelativeAirMass <font color="darkgreen">&quot;Relative air mass&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
<textblock type="annotcomp" expanded="false"><font color="blue">public </font>
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> zen(
    quantity=&quot;Angle&quot;,
    unit=&quot;rad&quot;,
    displayUnit=&quot;degree&quot;) <font color="darkgreen">&quot;Zenith angle of the sun beam&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> relAirMas <font color="darkgreen">&quot;Relative air mass&quot;</font>;</textblock>
<font color="blue">protected </font>
  Real zenLim;
  Real zenDeg;
<font color="blue">equation </font>
  zenLim =<font color="red"> Buildings.Utilities.Math.Functions.smoothMin</font>(
    zen,
    Modelica.Constants.pi/2,
    0.01);
  zenDeg = zenLim*180/Modelica.Constants.pi;
  relAirMas = 1/(<font color="red">Modelica.Math.cos</font>(zenLim) + 0.15*(93.9 - zenDeg)^(-1.253));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>RelativeAirMass;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SkyBrightness<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.BoundaryConditi67c9583feaebba7ctnessI.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.SkyBrightness" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.SkyBrightness"></A><A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses"
>Buildings.BoundaryConditions.SolarIrradiation.BaseClasses</A>.SkyBrightness</H2>
<B>Sky brightness</B><p></P>
<IMG SRC="Buildings.BoundaryConditi67c9583feaebba7ctnessD.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.SkyBrightness">
<P></P><H3>Information</H3>

<p>
This component computes the sky brightness.
</p>
<h4>References</h4>
R. Perez, P. Ineichen, R. Seals, J. Michalsky and R. Stewart (1990).
<i>Modeling Dyalight Availability and Irradiance Componets From Direct and Global Irradiance</i>,
Solar Energy, 44(5):271-289.
<pre>
</PRE><P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>relAirMas</TD><TD>Relative Air Mass</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>HDifHor</TD><TD>Horizontal diffuse solar radiation [W/m2]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>skyBri</TD><TD>Sky Brightness</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> SkyBrightness <font color="darkgreen">&quot;Sky brightness&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
<textblock type="annotcomp" expanded="false"><font color="blue">public </font>
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> relAirMas <font color="darkgreen">&quot;Relative Air Mass&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> HDifHor(quantity=
        &quot;RadiantEnergyFluenceRate&quot;, unit=&quot;W/m2&quot;) <font color="darkgreen">
    &quot;Horizontal diffuse solar radiation&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> skyBri <font color="darkgreen">&quot;Sky Brightness&quot;</font>;</textblock>
<font color="blue">equation </font>
  skyBri =<font color="red"> Buildings.Utilities.Math.Functions.smoothMin</font>(
    HDifHor*relAirMas/1367,
    1,
    0.025);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>SkyBrightness;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SkyClearness<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.BoundaryConditie87571ee32fa72e3rnessI.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.SkyClearness" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.SkyClearness"></A><A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses"
>Buildings.BoundaryConditions.SolarIrradiation.BaseClasses</A>.SkyClearness</H2>
<B>Sky clearness</B><p></P>
<IMG SRC="Buildings.BoundaryConditie87571ee32fa72e3rnessD.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.SkyClearness">
<P></P><H3>Information</H3>

<p>
This component computes the sky clearness.
</p>
<pre>
</PRE><P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>zen</TD><TD>Zenith angle of the sun beam [rad]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>HDifHor</TD><TD>Horizontal diffuse solar radiation [W/m2]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>HGloHor</TD><TD>Horizontal global solar radiation [W/m2]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>skyCle</TD><TD>Sky clearness. skyCle=1: overast sky; skyCle=8: clear sky</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> SkyClearness <font color="darkgreen">&quot;Sky clearness&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
<textblock type="annotcomp" expanded="false"><font color="blue">public </font>
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> zen(
    quantity=&quot;Angle&quot;,
    unit=&quot;rad&quot;,
    displayUnit=&quot;degreeC&quot;) <font color="darkgreen">&quot;Zenith angle of the sun beam&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> HDifHor(quantity=
        &quot;RadiantEnergyFluenceRate&quot;, unit=&quot;W/m2&quot;) <font color="darkgreen">
    &quot;Horizontal diffuse solar radiation&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> HGloHor(quantity=
        &quot;RadiantEnergyFluenceRate&quot;, unit=&quot;W/m2&quot;) <font color="darkgreen">
    &quot;Horizontal global solar radiation&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> skyCle <font color="darkgreen">
    &quot;Sky clearness. skyCle=1: overast sky; skyCle=8: clear sky&quot;</font>;</textblock>
<font color="blue">protected </font>
  Real tmp1;
<font color="blue">algorithm </font>
  tmp1 := 5.534e-6*(zen*180/Modelica.Constants.pi)^3;

  skyCle :=<font color="red"> smooth</font>(1, <font color="blue">if </font>(HGloHor &lt; Modelica.Constants.small)<font color="blue"> then </font>1<font color="blue"> else </font>
    <font color="red">Buildings.Utilities.Math.Functions.smoothLimit</font>(
    (HGloHor/<font color="red">Buildings.Utilities.Math.Functions.smoothMax</font>(
      HDifHor,
      1e-4,
      1e-5) + tmp1)/(1 + tmp1),
    1,
    8,
    0.1));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>SkyClearness;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialSolarIrradiation<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.BoundaryConditi1a5fb1311274395eationI.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.PartialSolarIrradiation" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.PartialSolarIrradiation"></A><A HREF="Buildings_BoundaryConditions_SolarIrradiation_BaseClasses.html#Buildings.BoundaryConditions.SolarIrradiation.BaseClasses"
>Buildings.BoundaryConditions.SolarIrradiation.BaseClasses</A>.PartialSolarIrradiation</H2>
<B>Partial model that is used to compute the direct and diffuse solar irradiation</B><p></P>
<IMG SRC="Buildings.BoundaryConditi1a5fb1311274395eationD.png" ALT="Buildings.BoundaryConditions.SolarIrradiation.BaseClasses.PartialSolarIrradiation">
<P></P><H3>Information</H3>

<p>
This is a partial model that is used to implement the direct and diffuse irradiation.
</p>
<pre>
</PRE><P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>til</TD><TD>&nbsp;</TD><TD>Surface tilt [rad]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>H</TD><TD>Radiation per unit area [W/m2]</TD></TR>
<TR><TD><A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</A></TD><TD>weaBus</TD><TD>Bus with weather data</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">partial </font><font color="blue">block</font> PartialSolarIrradiation <font color="darkgreen">
  &quot;Partial model that is used to compute the direct and diffuse solar irradiation&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</A> til(displayUnit=&quot;deg&quot;) <font color="darkgreen">&quot;Surface tilt&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> H(
     <font color="blue">final </font>quantity=&quot;RadiantEnergyFluenceRate&quot;,
     <font color="blue">final </font>unit=&quot;W/m2&quot;) <font color="darkgreen">&quot;Radiation per unit area&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>WeatherData.Bus</A> weaBus <font color="darkgreen">&quot;Bus with weather data&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>PartialSolarIrradiation;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Thu Oct 24 15:07:50 2013.
</address></BODY>
</HTML>
