<HTML>
<HEAD>
<TITLE>Buildings.Rooms.BaseClasses</TITLE>
<META name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META name="description" content="&quot;Package with base classes for Buildings.Rooms&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- --- header ------ -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- --- end header -- -->
</P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BaseClasses<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Rooms.BaseClasses"></A><A HREF="Buildings_Rooms.html#Buildings.Rooms"
>Buildings.Rooms</A>.BaseClasses</H2>
<B>Package with base classes for Buildings.Rooms</B>
<P></P>
<P></P><H3>Information</H3>

<p>
This package contains base classes that are used to construct the models in
<A HREF="Buildings_Rooms.html#Buildings.Rooms"
>Buildings.Rooms</a>.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons_BasesPackage.html#Modelica.Icons.BasesPackage"
>Modelica.Icons.BasesPackage</A> (Icon for packages containing base classes).
<P></P><H3>Package Content</H3>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClassec3a68bf25e1afb7MixedS.png" ALT="Buildings.Rooms.BaseClasses.AirHeatMassBalanceMixed" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.AirHeatMassBalanceMixed"
>AirHeatMassBalanceMixed</A>
</TD><TD>Heat and mass balance of the air, assuming completely mixed air</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClass463e41028452bddftionsS.png" ALT="Buildings.Rooms.BaseClasses.ExteriorBoundaryConditions" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ExteriorBoundaryConditions"
>ExteriorBoundaryConditions</A>
</TD><TD>Model for convection and radiation bounary condition of exterior constructions</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClassc134fdd45fd20611indowS.png" ALT="Buildings.Rooms.BaseClasses.ExteriorBoundaryConditionsWithWindow" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ExteriorBoundaryConditionsWithWindow"
>ExteriorBoundaryConditionsWithWindow</A>
</TD><TD>Model for exterior boundary conditions for constructions with a window</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClasses.HeatGainS.png" ALT="Buildings.Rooms.BaseClasses.HeatGain" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.HeatGain"
>HeatGain</A>
</TD><TD>Model to convert internal heat gain signals</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClass39076b6d16b239c0hangeS.png" ALT="Buildings.Rooms.BaseClasses.InfraredRadiationExchange" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.InfraredRadiationExchange"
>InfraredRadiationExchange</A>
</TD><TD>Infrared radiation heat exchange between the room facing surfaces</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClassef6fd50d43dced46utionS.png" ALT="Buildings.Rooms.BaseClasses.InfraredRadiationGainDistribution" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.InfraredRadiationGainDistribution"
>InfraredRadiationGainDistribution</A>
</TD><TD>Infrared radiative heat gain distribution between the room facing surfaces</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClass396027b42b0f60aaapterS.png" ALT="Buildings.Rooms.BaseClasses.RadiationAdapter" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.RadiationAdapter"
>RadiationAdapter</A>
</TD><TD>Model to connect between signals and heat port for radiative gains of the room</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClass0cb9284165e146d7atureS.png" ALT="Buildings.Rooms.BaseClasses.RadiationTemperature" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.RadiationTemperature"
>RadiationTemperature</A>
</TD><TD>Radiative temperature of the room</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClass124701a598175785hangeS.png" ALT="Buildings.Rooms.BaseClasses.SolarRadiationExchange" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.SolarRadiationExchange"
>SolarRadiationExchange</A>
</TD><TD>Solar radiation heat exchange between the room facing surfaces</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClassfed177a79783e66erfaceS.png" ALT="Buildings.Rooms.BaseClasses.PartialSurfaceInterface" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialSurfaceInterface"
>PartialSurfaceInterface</A>
</TD><TD>Partial model that is used for infrared radiation balance</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClassfed177a79783e66erfaceS.png" ALT="Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative"
>PartialSurfaceInterfaceRadiative</A>
</TD><TD>Partial model that is used for infrared radiation balance</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClassfb194bf94115eed8hangeS.png" ALT="Buildings.Rooms.BaseClasses.SkyRadiationExchange" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.SkyRadiationExchange"
>SkyRadiationExchange</A>
</TD><TD>Radiative heat exchange with the sky and the ambient</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClass0dc001abb17b498embersS.png" ALT="Buildings.Rooms.BaseClasses.ConstructionNumbers" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ConstructionNumbers"
>ConstructionNumbers</A>
</TD><TD>Data records for construction data</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClass0dc001abb17b498embersS.png" ALT="Buildings.Rooms.BaseClasses.ConstructionRecords" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ConstructionRecords"
>ConstructionRecords</A>
</TD><TD>Data records for construction data</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClass0dc001abb17b498embersS.png" ALT="Buildings.Rooms.BaseClasses.Overhang" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.Overhang"
>Overhang</A>
</TD><TD>Record for window overhang</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClass9e633c7ec4500d5eindowS.png" ALT="Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>ParameterConstructionWithWindow</A>
</TD><TD>Record for exterior constructions that have a window</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClass9e633c7ec4500d5eindowS.png" ALT="Buildings.Rooms.BaseClasses.ParameterConstruction" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A>
</TD><TD>Record for exterior constructions that have no window</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClass9e633c7ec4500d5eindowS.png" ALT="Buildings.Rooms.BaseClasses.PartialParameterConstruction" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialParameterConstruction"
>PartialParameterConstruction</A>
</TD><TD>Partial record for constructions</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClasses.SideFinsS.png" ALT="Buildings.Rooms.BaseClasses.SideFins" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.SideFins"
>SideFins</A>
</TD><TD>Record for window side fins</TD></TR>
<TR><TD><IMG SRC="Buildings.Rooms.BaseClasses.ExamplesS.png" ALT="Buildings.Rooms.BaseClasses.Examples" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Rooms_BaseClasses_Examples.html#Buildings.Rooms.BaseClasses.Examples"
>Examples</A>
</TD><TD>Collection of models that illustrate model use and test models</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE AirHeatMassBalanceMixed<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClassec3a68bf25e1afb7MixedI.png" ALT="Buildings.Rooms.BaseClasses.AirHeatMassBalanceMixed" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.AirHeatMassBalanceMixed"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.AirHeatMassBalanceMixed</H2>
<B>Heat and mass balance of the air, assuming completely mixed air</B><p></P>
<IMG SRC="Buildings.Rooms.BaseClassec3a68bf25e1afb7MixedD.png" ALT="Buildings.Rooms.BaseClasses.AirHeatMassBalanceMixed">
<P></P><H3>Information</H3>

<p>
This model computes the heat and mass balance of the air.
The model assumes a completely mixed air volume.
</p>
<P></P>
Extends from <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ConstructionRecords"
>Buildings.Rooms.BaseClasses.ConstructionRecords</A> (Data records for construction data), <A HREF="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.LumpedVolumeDeclarations"
>Buildings.Fluid.Interfaces.LumpedVolumeDeclarations</A> (Declarations for lumped volumes).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConExt[NConExt]</TD><TD>&nbsp;</TD><TD>Data for exterior construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>ParameterConstructionWithWindow</A></TD><TD>datConExtWin[NConExtWin]</TD><TD>&nbsp;</TD><TD>Data for exterior construction with window</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConPar[NConPar]</TD><TD>&nbsp;</TD><TD>Data for partition construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConBou[NConBou]</TD><TD>&nbsp;</TD><TD>Data for construction boundary</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Data_OpaqueSurfaces.html#Buildings.HeatTransfer.Data.OpaqueSurfaces.Generic"
>Generic</A></TD><TD>surBou[NSurBou]</TD><TD>&nbsp;</TD><TD>Record for data of surfaces whose heat conduction is modeled outside of this room</TD></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium in the component</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Volume"
>Volume</A></TD><TD>V</TD><TD>&nbsp;</TD><TD>Volume [m3]</TD></TR>
<TR><TD>Boolean</TD><TD>haveShade</TD><TD>&nbsp;</TD><TD>Set to true if at least one window has an interior or exterior shade</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExt</TD><TD>&nbsp;</TD><TD>Number of exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExtWin</TD><TD>&nbsp;</TD><TD>Number of window constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Partition constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConPar</TD><TD>&nbsp;</TD><TD>Number of partition constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Boundary constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConBou</TD><TD>&nbsp;</TD><TD>Number of constructions that have their outside surface exposed to the boundary of this room</TD></TR>
<TR><TD>Integer</TD><TD>nSurBou</TD><TD>&nbsp;</TD><TD>Number of surface heat transfer models that connect to constructions that are modeled outside of this room</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Nominal condition</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>&nbsp;</TD><TD>Nominal mass flow rate [kg/s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Convective heat transfer</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Types.html#Buildings.HeatTransfer.Types.InteriorConvection"
>InteriorConvection</A></TD><TD>conMod</TD><TD>&nbsp;</TD><TD>Convective heat transfer model for opaque constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>CoefficientOfHeatTransfer</A></TD><TD>hFixed</TD><TD>&nbsp;</TD><TD>Constant convection coefficient for opaque constructions [W/(m2.K)]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Dynamics</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Equations</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics</TD><TD>Modelica.Fluid.Types.Dynamic...</TD><TD>Formulation of energy balance</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>massDynamics</TD><TD>energyDynamics</TD><TD>Formulation of mass balance</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Initialization</B></TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p_start</TD><TD>Medium.p_default</TD><TD>Start value of pressure [Pa]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T_start</TD><TD>Medium.T_default</TD><TD>Start value of temperature [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X_start[Medium.nX]</TD><TD>Medium.X_default</TD><TD>Start value of mass fractions m_i/m [kg/kg]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C_start[Medium.nC]</TD><TD>fill(0, Medium.nC)</TD><TD>Start value of trace substances</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C_nominal[Medium.nC]</TD><TD>fill(1E-2, Medium.nC)</TD><TD>Nominal value of trace substances. (Set to typical order of magnitude.)</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Advanced</B></TD></TR>
<TR><TD>Boolean</TD><TD>homotopyInitialization</TD><TD>&nbsp;</TD><TD>= true, use homotopy method</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>uSha[NConExtWin]</TD><TD>Input connector, used to scale the surface area to take into account an operable shading device, 0: unshaded; 1: fully shaded</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>QRadAbs_flow[NConExtWin]</TD><TD>Total net radiation that is absorbed by the shade (positive if absorbed) [W]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>TSha[NConExtWin]</TD><TD>Shade temperature [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Vessels_BaseClasses.html#Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b"
>VesselFluidPorts_b</A></TD><TD>ports[nPorts]</TD><TD>Fluid inlets and outlets</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heaPorAir</TD><TD>Heat port to air volume</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExt[NConExt]</TD><TD>Heat port that connects to room-side surface of exterior constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExtWin[NConExtWin]</TD><TD>Heat port that connects to room-side surface of exterior constructions that contain a window</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>glaUns[NConExtWin]</TD><TD>Heat port that connects to room-side surface of unshaded glass</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>glaSha[NConExtWin]</TD><TD>Heat port that connects to room-side surface of shaded glass</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExtWinFra[NConExtWin]</TD><TD>Heat port that connects to room-side surface of window frame</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conPar_a[NConPar]</TD><TD>Heat port that connects to room-side surface a of partition constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conPar_b[NConPar]</TD><TD>Heat port that connects to room-side surface b of partition constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conBou[NConBou]</TD><TD>Heat port that connects to room-side surface of constructions that expose their other surface to the outside</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conSurBou[NSurBou]</TD><TD>Heat port to surfaces of models that compute the heat conduction outside of this room</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> AirHeatMassBalanceMixed <font color="darkgreen">
  &quot;Heat and mass balance of the air, assuming completely mixed air&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ConstructionRecords"
>Buildings.Rooms.BaseClasses.ConstructionRecords</A>;
  <font color="blue">extends </font><A HREF="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.LumpedVolumeDeclarations"
>Buildings.Fluid.Interfaces.LumpedVolumeDeclarations</A>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> m_flow_nominal(min=0) <font color="darkgreen">
    &quot;Nominal mass flow rate&quot;</font>;
  <font color="darkgreen">// Port definitions</font>
  <font color="blue">parameter </font>Integer nPorts=0 <font color="darkgreen">&quot;Number of ports&quot;</font>;
  <font color="blue">parameter </font>Boolean homotopyInitialization <font color="darkgreen">&quot;= true, use homotopy method&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Volume"
>Modelica.SIunits.Volume</A> V <font color="darkgreen">&quot;Volume&quot;</font>;

  <font color="blue">parameter </font><A HREF="Buildings_HeatTransfer_Types.html#Buildings.HeatTransfer.Types.InteriorConvection"
>Buildings.HeatTransfer.Types.InteriorConvection</A> conMod <font color="darkgreen">
    &quot;Convective heat transfer model for opaque constructions&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>Modelica.SIunits.CoefficientOfHeatTransfer</A> hFixed <font color="darkgreen">
    &quot;Constant convection coefficient for opaque constructions&quot;</font>;

  <font color="blue">parameter </font>Boolean haveShade <font color="darkgreen">
    &quot;Set to true if at least one window has an interior or exterior shade&quot;</font>;

  <font color="darkgreen">// Input/output signals</font>
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> uSha[NConExtWin] <font color="blue">if </font>haveShade <font color="darkgreen">
    &quot;Input connector, used to scale the surface area to take into account an operable shading device, 0: unshaded; 1: fully shaded&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> QRadAbs_flow[NConExtWin](
  <font color="blue">final </font>unit=&quot;W&quot;) <font color="blue">if </font>
     haveShade <font color="darkgreen">
    &quot;Total net radiation that is absorbed by the shade (positive if absorbed)&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> TSha[NConExtWin](
   <font color="blue">final </font>unit=&quot;K&quot;,
   <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;) <font color="blue">if </font>
      haveShade <font color="darkgreen">&quot;Shade temperature&quot;</font>;</textblock>

  <font color="darkgreen">// Fluid port</font>
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Fluid_Vessels_BaseClasses.html#Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b"
>Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b</A> ports[nPorts](
      <font color="blue">redeclare </font><font color="blue">each </font><font color="blue">final </font><font color="blue">package</font> Medium = Medium) <font color="darkgreen">&quot;Fluid inlets and outlets&quot;</font>;</textblock>

  <font color="darkgreen">// Heat ports</font>
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> heaPorAir <font color="darkgreen">
    &quot;Heat port to air volume&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> conExt[NConExt] <font color="blue">if </font>
     haveConExt <font color="darkgreen">
    &quot;Heat port that connects to room-side surface of exterior constructions&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> conExtWin[NConExtWin] <font color="blue">if </font>
     haveConExtWin <font color="darkgreen">
    &quot;Heat port that connects to room-side surface of exterior constructions that contain a window&quot;</font>;
    </textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> glaUns[NConExtWin] <font color="blue">if </font>
     haveConExtWin <font color="darkgreen">
    &quot;Heat port that connects to room-side surface of unshaded glass&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> glaSha[NConExtWin] <font color="blue">if </font>
       haveShade <font color="darkgreen">&quot;Heat port that connects to room-side surface of shaded glass&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> conExtWinFra[NConExtWin] <font color="blue">if </font>
     haveConExtWin <font color="darkgreen">
    &quot;Heat port that connects to room-side surface of window frame&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> conPar_a[NConPar] <font color="blue">if </font>
     haveConPar <font color="darkgreen">
    &quot;Heat port that connects to room-side surface a of partition constructions&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> conPar_b[NConPar] <font color="blue">if </font>
     haveConPar <font color="darkgreen">
    &quot;Heat port that connects to room-side surface b of partition constructions&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> conBou[NConBou] <font color="blue">if </font>
     haveConBou <font color="darkgreen">
    &quot;Heat port that connects to room-side surface of constructions that expose their other surface to the outside&quot;</font>;
    </textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> conSurBou[NSurBou] <font color="blue">if </font>
     haveSurBou <font color="darkgreen">
    &quot;Heat port to surfaces of models that compute the heat conduction outside of this room&quot;</font>;
    </textblock>

  <font color="darkgreen">// Mixing volume</font>
<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Fluid.MixingVolumes.MixingVolume</A> vol(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    <font color="blue">final </font>energyDynamics=energyDynamics,
    <font color="blue">final </font>massDynamics=massDynamics,
    <font color="blue">final </font>V=V,
    <font color="blue">final </font>p_start=p_start,
    <font color="blue">final </font>T_start=T_start,
    <font color="blue">final </font>X_start=X_start,
    <font color="blue">final </font>C_start=C_start,
    <font color="blue">final </font>C_nominal=C_nominal,
    <font color="blue">final </font>m_flow_nominal = m_flow_nominal,
    <font color="blue">final </font>prescribedHeatFlowRate = true,
    <font color="blue">final </font>nPorts=nPorts,
    m_flow_small=1E-4*<font color="red">abs</font>(m_flow_nominal),
    homotopyInitialization=homotopyInitialization,
    allowFlowReversal=true) <font color="darkgreen">&quot;Room air volume&quot;</font>;</textblock>

  <font color="darkgreen">// Convection models</font>
<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Convection.html#Buildings.HeatTransfer.Convection.Interior"
>HeatTransfer.Convection.Interior</A> convConExt[NConExt](
    <font color="blue">final </font>A=AConExt,
    <font color="blue">final </font>til = datConExt.til,
    <font color="blue">each </font>conMod=conMod,
    <font color="blue">each </font>hFixed=hFixed,
    <font color="blue">each </font><font color="blue">final </font>homotopyInitialization=homotopyInitialization) <font color="blue">if </font>
       haveConExt <font color="darkgreen">&quot;Convective heat transfer&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Convection.html#Buildings.HeatTransfer.Convection.Interior"
>HeatTransfer.Convection.Interior</A> convConExtWin[NConExtWin](
    <font color="blue">final </font>A=AConExtWinOpa,
    <font color="blue">final </font>til = datConExtWin.til,
    <font color="blue">each </font>conMod=conMod,
    <font color="blue">each </font>hFixed=hFixed,
    <font color="blue">each </font><font color="blue">final </font>homotopyInitialization=homotopyInitialization) <font color="blue">if </font>
       haveConExtWin <font color="darkgreen">&quot;Convective heat transfer&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.InteriorHeatTransferConvective"
>HeatTransfer.Windows.InteriorHeatTransferConvective</A> convConWin[NConExtWin](
    <font color="blue">final </font>fFra=datConExtWin.fFra,
    <font color="blue">final </font>haveExteriorShade={datConExtWin[i].glaSys.haveExteriorShade <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin},
    <font color="blue">final </font>haveInteriorShade={datConExtWin[i].glaSys.haveInteriorShade <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin},
    <font color="blue">final </font>A=AConExtWinGla + AConExtWinFra) <font color="blue">if </font>
       haveConExtWin <font color="darkgreen">&quot;Model for convective heat transfer at window&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Convection.html#Buildings.HeatTransfer.Convection.Interior"
>HeatTransfer.Convection.Interior</A> convConPar_a[nConPar](
    <font color="blue">final </font>A=AConPar,
    <font color="blue">final </font>til=Modelica.Constants.pi .- datConPar.til,
    <font color="blue">each </font>conMod=conMod,
    <font color="blue">each </font>hFixed=hFixed,
    <font color="blue">each </font><font color="blue">final </font>homotopyInitialization=homotopyInitialization) <font color="blue">if </font>
       haveConPar <font color="darkgreen">&quot;Convective heat transfer&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Convection.html#Buildings.HeatTransfer.Convection.Interior"
>HeatTransfer.Convection.Interior</A> convConPar_b[nConPar](
    <font color="blue">final </font>A=AConPar,
    <font color="blue">final </font>til = datConPar.til,
    <font color="blue">each </font>conMod=conMod,
    <font color="blue">each </font>hFixed=hFixed,
    <font color="blue">each </font><font color="blue">final </font>homotopyInitialization=homotopyInitialization) <font color="blue">if </font>
       haveConPar <font color="darkgreen">&quot;Convective heat transfer&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Convection.html#Buildings.HeatTransfer.Convection.Interior"
>HeatTransfer.Convection.Interior</A> convConBou[nConBou](
    <font color="blue">final </font>A=AConBou,
    <font color="blue">final </font>til = datConBou.til,
    <font color="blue">each </font>conMod=conMod,
    <font color="blue">each </font>hFixed=hFixed,
    <font color="blue">each </font><font color="blue">final </font>homotopyInitialization=homotopyInitialization) <font color="blue">if </font>
       haveConBou <font color="darkgreen">&quot;Convective heat transfer&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Convection.html#Buildings.HeatTransfer.Convection.Interior"
>HeatTransfer.Convection.Interior</A> convSurBou[nSurBou](
    <font color="blue">final </font>A=ASurBou,
    <font color="blue">final </font>til = surBou.til,
    <font color="blue">each </font>conMod=conMod,
    <font color="blue">each </font>hFixed=hFixed,
    <font color="blue">each </font><font color="blue">final </font>homotopyInitialization=homotopyInitialization) <font color="blue">if </font>
       haveSurBou <font color="darkgreen">&quot;Convective heat transfer&quot;</font>;</textblock>

  <font color="darkgreen">// Surface areas</font>
<font color="blue">protected </font>
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AConExt[NConExt] = datConExt.A <font color="darkgreen">
    &quot;Areas of exterior constructions&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AConExtWinOpa[NConExtWin] = datConExtWin.AOpa <font color="darkgreen">
    &quot;Opaque areas of exterior construction that have a window&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AConExtWinGla[NConExtWin] = (1 .- datConExtWin.fFra) .* datConExtWin.AWin <font color="darkgreen">
    &quot;Glass areas of exterior construction that have a window&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AConExtWinFra[NConExtWin] = datConExtWin.fFra .* datConExtWin.AWin <font color="darkgreen">
    &quot;Frame areas of exterior construction that have a window&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AConPar[NConPar] = datConPar.A <font color="darkgreen">
    &quot;Areas of partition constructions&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AConBou[NConBou] = datConBou.A <font color="darkgreen">
    &quot;Areas of constructions with exterior boundary conditions exposed to outside of room model&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> ASurBou[NSurBou] = surBou.A <font color="darkgreen">
    &quot;Area of surface models of constructions that are modeled outside of this room&quot;</font>;

  <font color="darkgreen">// Thermal collectors</font>
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.ThermalCollector"
>Modelica.Thermal.HeatTransfer.Components.ThermalCollector</A> theConConExt(<font color="blue">final </font>m=nConExt) <font color="blue">if </font>
       haveConExt <font color="darkgreen">
    &quot;Thermal collector to convert from vector to scalar connector&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.ThermalCollector"
>Modelica.Thermal.HeatTransfer.Components.ThermalCollector</A> theConConExtWin(<font color="blue">final </font>m=nConExtWin) <font color="blue">if </font>
       haveConExtWin <font color="darkgreen">
    &quot;Thermal collector to convert from vector to scalar connector&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.ThermalCollector"
>Modelica.Thermal.HeatTransfer.Components.ThermalCollector</A> theConConWin(<font color="blue">final </font>m=nConExtWin) <font color="blue">if </font>
       haveConExtWin <font color="darkgreen">
    &quot;Thermal collector to convert from vector to scalar connector&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.ThermalCollector"
>Modelica.Thermal.HeatTransfer.Components.ThermalCollector</A> theConConPar_a(<font color="blue">final </font>m=nConPar) <font color="blue">if </font>
       haveConPar <font color="darkgreen">
    &quot;Thermal collector to convert from vector to scalar connector&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.ThermalCollector"
>Modelica.Thermal.HeatTransfer.Components.ThermalCollector</A> theConConPar_b(<font color="blue">final </font>m=nConPar) <font color="blue">if </font>
       haveConPar <font color="darkgreen">
    &quot;Thermal collector to convert from vector to scalar connector&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.ThermalCollector"
>Modelica.Thermal.HeatTransfer.Components.ThermalCollector</A> theConConBou(<font color="blue">final </font>m=nConBou) <font color="blue">if </font>
       haveConBou <font color="darkgreen">
    &quot;Thermal collector to convert from vector to scalar connector&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.ThermalCollector"
>Modelica.Thermal.HeatTransfer.Components.ThermalCollector</A> theConSurBou(<font color="blue">final </font>m=nSurBou) <font color="blue">if </font>
       haveSurBou <font color="darkgreen">
    &quot;Thermal collector to convert from vector to scalar connector&quot;</font>;</textblock>

<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(convConPar_a.fluid,theConConPar_a. port_a);
  <font color="red">connect</font>(convConPar_b.fluid,theConConPar_b. port_a);
  <font color="red">connect</font>(convConBou.fluid,theConConBou. port_a);
  <font color="red">connect</font>(convSurBou.fluid,theConSurBou. port_a);
  <font color="red">connect</font>(theConConPar_a.port_b,vol. heatPort);
  <font color="red">connect</font>(theConConPar_b.port_b,vol. heatPort);
  <font color="red">connect</font>(theConConBou.port_b,vol. heatPort);
  <font color="red">connect</font>(theConSurBou.port_b,vol. heatPort);
  <font color="red">connect</font>(conExtWinFra,convConWin. frame);
  <font color="red">connect</font>(convConExt.solid, conExt);
  <font color="red">connect</font>(convConExt.fluid,theConConExt. port_a);
  <font color="red">connect</font>(theConConExt.port_b,vol. heatPort);
  <font color="red">connect</font>(theConConExtWin.port_b,vol. heatPort);
  <font color="red">connect</font>(convConExtWin.fluid,theConConExtWin. port_a);
  <font color="red">connect</font>(convConExtWin.solid, conExtWin);
  <font color="red">connect</font>(theConConWin.port_b,vol. heatPort);
  <font color="red">connect</font>(convConWin.air,theConConWin. port_a);
  <font color="red">connect</font>(convConWin.glaSha, glaSha);
  <font color="red">connect</font>(convConWin.glaUns, glaUns);
  <font color="red">connect</font>(convConPar_a.solid, conPar_a);
  <font color="red">connect</font>(convConPar_b.solid, conPar_b);
  <font color="red">connect</font>(convConBou.solid, conBou);
  <font color="red">connect</font>(convSurBou.solid, conSurBou);
  <font color="red">connect</font>(vol.ports, ports);
  <font color="red">connect</font>(heaPorAir, vol.heatPort);
  <font color="red">connect</font>(uSha, convConWin.uSha);
  <font color="red">connect</font>(convConWin.QRadAbs_flow, QRadAbs_flow);
  <font color="red">connect</font>(convConWin.TSha, TSha);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>AirHeatMassBalanceMixed;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ExteriorBoundaryConditions<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClass463e41028452bddftionsI.png" ALT="Buildings.Rooms.BaseClasses.ExteriorBoundaryConditions" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.ExteriorBoundaryConditions"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.ExteriorBoundaryConditions</H2>
<B>Model for convection and radiation bounary condition of exterior constructions</B><p></P>
<IMG SRC="Buildings.Rooms.BaseClass463e41028452bddftionsD.png" ALT="Buildings.Rooms.BaseClasses.ExteriorBoundaryConditions">
<P></P><H3>Information</H3>

This model computes the boundary conditions for the outside-facing surface of
opaque constructions.
<p>
The model computes the infrared, solar, and convective heat exchange
between these surfaces and the exterior temperature and the sky temperature.
Input into this model are weather data that may be obtained from
<A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData"
>
Buildings.BoundaryConditions.WeatherData</a>.
</p>
<p>
In this model, the solar radiation data are converted from horizontal irradiation to
irradiation on tilted surfaces using models from the package
<A HREF="Buildings_BoundaryConditions_SolarIrradiation.html#Buildings.BoundaryConditions.SolarIrradiation"
>
Buildings.BoundaryConditions.SolarIrradiation</a>.
The convective heat transfer between the exterior surface of the opaque constructions
is computed using
<A HREF="Buildings_HeatTransfer_Convection.html#Buildings.HeatTransfer.Convection"
>
Buildings.HeatTransfer.Convection</a>.
</p>
<p>
The heat transfer of windows are not computed in this model. They are implemented in
<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ExteriorBoundaryConditionsWithWindow"
>
Buildings.Rooms.BaseClasses.ExteriorBoundaryConditionsWithWindow</a>.
</p>
<P></P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>lat</TD><TD>&nbsp;</TD><TD>Latitude [rad]</TD></TR>
<TR><TD>Boolean</TD><TD>linearizeRadiation</TD><TD>&nbsp;</TD><TD>Set to true to linearize emissive power</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>conPar[nCon]</TD><TD>redeclare parameter Paramete...</TD><TD>Records for construction</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nCon</TD><TD>&nbsp;</TD><TD>Number of exterior constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Convective heat transfer</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Types.html#Buildings.HeatTransfer.Types.ExteriorConvection"
>ExteriorConvection</A></TD><TD>conMod</TD><TD>Buildings.HeatTransfer.Types...</TD><TD>Convective heat transfer model for opaque part of the constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>CoefficientOfHeatTransfer</A></TD><TD>hFixed</TD><TD>10.0</TD><TD>Constant convection coefficient for opaque part of the constructions [W/(m2.K)]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>opa_a[nCon]</TD><TD>Heat port at surface a of opaque construction</TD></TR>
<TR><TD><A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</A></TD><TD>weaBus</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> ExteriorBoundaryConditions <font color="darkgreen">
  &quot;Model for convection and radiation bounary condition of exterior constructions&quot;</font>
  <font color="blue">parameter </font>Integer nCon(min=1) <font color="darkgreen">&quot;Number of exterior constructions&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</A> lat <font color="darkgreen">&quot;Latitude&quot;</font>;

  <font color="blue">parameter </font>Boolean linearizeRadiation <font color="darkgreen">
    &quot;Set to true to linearize emissive power&quot;</font>;

<textblock type="annotcomp" expanded="false">  <font color="blue">replaceable </font><font color="blue">parameter </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A> conPar[nCon] <font color="blue">constrainedby </font>
    ParameterConstruction <font color="darkgreen">&quot;Records for construction&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> opa_a[nCon] <font color="darkgreen">
    &quot;Heat port at surface a of opaque construction&quot;</font>;</textblock>
  <font color="blue">parameter </font><A HREF="Buildings_HeatTransfer_Types.html#Buildings.HeatTransfer.Types.ExteriorConvection"
>Buildings.HeatTransfer.Types.ExteriorConvection</A> conMod=
  Buildings.HeatTransfer.Types.ExteriorConvection.TemperatureWind <font color="darkgreen">
    &quot;Convective heat transfer model for opaque part of the constructions&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>Modelica.SIunits.CoefficientOfHeatTransfer</A> hFixed=10.0 <font color="darkgreen">
    &quot;Constant convection coefficient for opaque part of the constructions&quot;</font>;

  <font color="darkgreen">// The convection coefficients are not final to allow a user to individually</font>
  <font color="darkgreen">// assign them.</font>
  <font color="darkgreen">// We reassign the tilt since a roof has been declared in the room model as the</font>
  <font color="darkgreen">// ceiling (of the room)</font>
<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Convection.html#Buildings.HeatTransfer.Convection.Exterior"
>HeatTransfer.Convection.Exterior</A> conOpa[nCon](
    A=AOpa,
    <font color="blue">final </font>til=Modelica.Constants.pi*<font color="red">ones</font>(nCon) .- conPar[:].til,
    <font color="blue">final </font>azi=conPar[:].azi,
    <font color="blue">each </font>conMod=conMod,
    <font color="blue">each </font>hFixed=hFixed) <font color="darkgreen">&quot;Convection model for opaque part of the wall&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.SkyRadiationExchange"
>SkyRadiationExchange</A> skyRadExc(
    <font color="blue">final </font>n=nCon,
    <font color="blue">final </font>A=AOpa,
    <font color="blue">final </font>absIR=conPar[:].layers.absIR_a,
    vieFacSky={(Modelica.Constants.pi - conPar[i].til)./Modelica.Constants.pi <font color="blue">for </font>i<font color="blue"> in </font>1:nCon}) <font color="darkgreen">
    &quot;Infrared radiative heat exchange with sky&quot;</font>;
  <A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>BoundaryConditions.WeatherData.Bus</A> weaBus;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_BoundaryConditions_SolarIrradiation.html#Buildings.BoundaryConditions.SolarIrradiation.DirectTiltedSurface"
>BoundaryConditions.SolarIrradiation.DirectTiltedSurface</A> HDirTil[
            nCon](
    <font color="blue">each </font><font color="blue">final </font>lat=lat,
    <font color="blue">final </font>til=conPar[:].til,
    <font color="blue">final </font>azi=conPar[:].azi) <font color="darkgreen">&quot;Direct solar irradiation on the surface&quot;</font>;
  <A HREF="Buildings_BoundaryConditions_SolarIrradiation.html#Buildings.BoundaryConditions.SolarIrradiation.DiffusePerez"
>BoundaryConditions.SolarIrradiation.DiffusePerez</A> HDifTil[nCon](
    <font color="blue">each </font><font color="blue">final </font>lat=lat,
    <font color="blue">final </font>til=conPar[:].til,
    <font color="blue">final </font>azi=conPar[:].azi) <font color="darkgreen">&quot;Diffuse solar irradiation&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</A> HTotConExt[nCon](
    <font color="blue">final </font>k1=conPar[:].layers.absSol_a .* AOpa,
    <font color="blue">final </font>k2=conPar[:].layers.absSol_a .* AOpa) <font color="darkgreen">&quot;Total solar irradiation&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Sources.html#Buildings.HeatTransfer.Sources.PrescribedHeatFlow"
>Buildings.HeatTransfer.Sources.PrescribedHeatFlow</A> solHeaGaiConExt[nCon] <font color="darkgreen">
    &quot;Total solar heat gain of the surface&quot;</font>;</textblock>

<font color="blue">protected </font>
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AOpa[nCon]=conPar[:].A <font color="darkgreen">
    &quot;Area of opaque construction&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Sources.html#Buildings.HeatTransfer.Sources.PrescribedTemperature"
>Buildings.HeatTransfer.Sources.PrescribedTemperature</A> TAirConExt[
    nCon] <font color="darkgreen">&quot;Outside air temperature for exterior constructions&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Replicator"
>Modelica.Blocks.Routing.Replicator</A> repConExt(nout=nCon) <font color="darkgreen">&quot;Signal replicator&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Replicator"
>Modelica.Blocks.Routing.Replicator</A> repConExt1(
                                               nout=nCon) <font color="darkgreen">&quot;Signal replicator&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Replicator"
>Modelica.Blocks.Routing.Replicator</A> repConExt2(
                                               nout=nCon) <font color="darkgreen">&quot;Signal replicator&quot;</font>;</textblock>

<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(conOpa.solid, opa_a);
  <font color="red">connect</font>(skyRadExc.port, opa_a);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(TAirConExt.port, conOpa.fluid);
  <font color="red">connect</font>(repConExt.y, TAirConExt.T);
  <font color="red">connect</font>(repConExt.u, weaBus.TDryBul);
  <font color="red">connect</font>(skyRadExc.TOut, weaBus.TDryBul);
  <font color="red">connect</font>(skyRadExc.TBlaSky, weaBus.TBlaSky);</textblock>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nCon<font color="blue"> loop</font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(weaBus, HDirTil[i].weaBus);
  <font color="red">connect</font>(HDifTil[i].weaBus, weaBus);</textblock>
   <font color="blue">end for</font>;
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(HTotConExt.y, solHeaGaiConExt.Q_flow);
  <font color="red">connect</font>(solHeaGaiConExt.port, opa_a);
  <font color="red">connect</font>(HDirTil.H, HTotConExt.u1);
  <font color="red">connect</font>(HDifTil.H, HTotConExt.u2);
  <font color="red">connect</font>(repConExt2.u, weaBus.winDir);
  <font color="red">connect</font>(repConExt1.u, weaBus.winSpe);
  <font color="red">connect</font>(repConExt1.y, conOpa.v);
  <font color="red">connect</font>(repConExt2.y, conOpa.dir);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>ExteriorBoundaryConditions;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ExteriorBoundaryConditionsWithWindow<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClassc134fdd45fd20611indowI.png" ALT="Buildings.Rooms.BaseClasses.ExteriorBoundaryConditionsWithWindow" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.ExteriorBoundaryConditionsWithWindow"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.ExteriorBoundaryConditionsWithWindow</H2>
<B>Model for exterior boundary conditions for constructions with a window</B><p></P>
<IMG SRC="Buildings.Rooms.BaseClassc134fdd45fd20611indowD.png" ALT="Buildings.Rooms.BaseClasses.ExteriorBoundaryConditionsWithWindow">
<P></P><H3>Information</H3>

This model computes the boundary conditions for the outside-facing surface of
opaque constructions and of windows.
<p>
The model computes the infrared, solar, and convective heat exchange
between these surfaces and the exterior temperature and the sky temperature.
Input into this model are weather data that may be obtained from
<A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData"
>
Buildings.BoundaryConditions.WeatherData</a>.
</p>
<p>
This model extends
<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ExteriorBoundaryConditions"
>
Buildings.Rooms.BaseClasses.ExteriorBoundaryConditions</a>,
which models the boundary conditions for the opaque constructions,
and then implements the boundary condition for windows by using
the model
<A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.ExteriorHeatTransfer"
>
Buildings.HeatTransfer.Windows.ExteriorHeatTransfer</a>.
<P></P>
Extends from <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ExteriorBoundaryConditions"
>Buildings.Rooms.BaseClasses.ExteriorBoundaryConditions</A> (Model for convection and radiation bounary condition of exterior constructions).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>lat</TD><TD>&nbsp;</TD><TD>Latitude [rad]</TD></TR>
<TR><TD>Boolean</TD><TD>linearizeRadiation</TD><TD>&nbsp;</TD><TD>Set to true to linearize emissive power</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nCon</TD><TD>&nbsp;</TD><TD>Number of exterior constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Convective heat transfer</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Types.html#Buildings.HeatTransfer.Types.ExteriorConvection"
>ExteriorConvection</A></TD><TD>conMod</TD><TD>Buildings.HeatTransfer.Types...</TD><TD>Convective heat transfer model for opaque part of the constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>CoefficientOfHeatTransfer</A></TD><TD>hFixed</TD><TD>10.0</TD><TD>Constant convection coefficient for opaque part of the constructions [W/(m2.K)]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>opa_a[nCon]</TD><TD>Heat port at surface a of opaque construction</TD></TR>
<TR><TD><A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</A></TD><TD>weaBus</TD><TD>&nbsp;</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>uSha[nCon]</TD><TD>Control signal for the shading device, 0: unshaded; 1: fully shaded</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>QAbsSolSha_flow[nCon]</TD><TD>Solar radiation absorbed by shade [W]</TD></TR>
<TR><TD>output <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</A></TD><TD>JOutUns[nCon]</TD><TD>Outgoing radiosity that connects to unshaded part of glass at exterior side [W]</TD></TR>
<TR><TD>input <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</A></TD><TD>JInUns[nCon]</TD><TD>Incoming radiosity that connects to unshaded part of glass at exterior side [W]</TD></TR>
<TR><TD>output <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</A></TD><TD>JOutSha[nCon]</TD><TD>Outgoing radiosity that connects to shaded part of glass at exterior side [W]</TD></TR>
<TR><TD>input <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</A></TD><TD>JInSha[nCon]</TD><TD>Incoming radiosity that connects to shaded part of glass at exterior side [W]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>glaUns[nCon]</TD><TD>Heat port at unshaded glass of exterior-facing surface</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>glaSha[nCon]</TD><TD>Heat port at shaded glass of exterior-facing surface</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>fra[nCon]</TD><TD>Heat port at frame of exterior-facing surface</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>HDir[nCon]</TD><TD>Direct solar irradition on tilted surface [W/m2]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>HDif[nCon]</TD><TD>Diffuse solar irradiation on tilted surface [W/m2]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>inc[nCon]</TD><TD>Incidence angle [rad]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> ExteriorBoundaryConditionsWithWindow <font color="darkgreen">
  &quot;Model for exterior boundary conditions for constructions with a window&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ExteriorBoundaryConditions"
>Buildings.Rooms.BaseClasses.ExteriorBoundaryConditions</A>(
   <font color="blue">final </font>AOpa=conPar[:].AOpa,
   <font color="blue">redeclare </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow</A> conPar);

  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AWin[nCon] = conPar[:].hWin .* conPar[:].wWin <font color="darkgreen">
    &quot;Window area&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font>Boolean haveExteriorShade[nCon] = conPar[:].glaSys.haveExteriorShade <font color="darkgreen">
    &quot;Set to true if window has exterior shade (at surface a)&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Boolean haveInteriorShade[nCon] = conPar[:].glaSys.haveInteriorShade <font color="darkgreen">
    &quot;Set to true if window has interior shade (at surface b)&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font>Boolean haveShade=
    haveExteriorShade[1]<font color="blue"> or </font>haveInteriorShade[1] <font color="darkgreen">
    &quot;Set to true if window system has a shade&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.FixedShade"
>Buildings.HeatTransfer.Windows.FixedShade</A> sha[nCon](<font color="blue">final </font>conPar=conPar,
    <font color="blue">each </font>lat=lat,
    azi=conPar.azi) <font color="darkgreen">&quot;Shade due to overhang or side fins&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> uSha[nCon](min=0, max=1) <font color="blue">if </font>
       haveShade <font color="darkgreen">
    &quot;Control signal for the shading device, 0: unshaded; 1: fully shaded&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> QAbsSolSha_flow[nCon](
    <font color="blue">final </font>unit=&quot;W&quot;, quantity=&quot;Power&quot;) <font color="darkgreen">&quot;Solar radiation absorbed by shade&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.ExteriorHeatTransfer"
>HeatTransfer.Windows.ExteriorHeatTransfer</A> conExtWin[nCon](
    <font color="blue">final </font>A=conPar[:].AWin,
    <font color="blue">final </font>fFra=conPar[:].fFra,
    <font color="blue">each </font><font color="blue">final </font>linearizeRadiation = linearizeRadiation,
    <font color="blue">final </font>vieFacSky={(Modelica.Constants.pi - conPar[i].til) ./ Modelica.Constants.pi <font color="blue">for </font>i<font color="blue"> in </font>1:nCon},
    <font color="blue">final </font>absIRSha_air=conPar[:].glaSys.shade.absIR_a,
    <font color="blue">final </font>absIRSha_glass=conPar[:].glaSys.shade.absIR_b,
    <font color="blue">final </font>tauIRSha_air=conPar[:].glaSys.shade.tauIR_a,
    <font color="blue">final </font>tauIRSha_glass=conPar[:].glaSys.shade.tauIR_b,
    <font color="blue">final </font>haveExteriorShade=haveExteriorShade,
    <font color="blue">final </font>haveInteriorShade=haveInteriorShade) <font color="darkgreen">
    &quot;Exterior convection of the window&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.SkyRadiationExchange"
>SkyRadiationExchange</A> skyRadExcWin(
    <font color="blue">final </font>n=nCon,
    <font color="blue">each </font><font color="blue">final </font>absIR=conPar[:].glaSys.absIRFra,
    vieFacSky={(Modelica.Constants.pi - conPar[i].til) ./ Modelica.Constants.pi <font color="blue">for </font>i<font color="blue"> in </font>
            1:nCon},
    <font color="blue">each </font><font color="blue">final </font>A=conPar[:].AWin .* conPar[:].fFra) <font color="darkgreen">
    &quot;Infrared radiative heat exchange between window frame and sky&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>HeatTransfer.Interfaces.RadiosityOutflow</A> JOutUns[nCon] <font color="darkgreen">
    &quot;Outgoing radiosity that connects to unshaded part of glass at exterior side&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>HeatTransfer.Interfaces.RadiosityInflow</A> JInUns[nCon] <font color="darkgreen">
    &quot;Incoming radiosity that connects to unshaded part of glass at exterior side&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>HeatTransfer.Interfaces.RadiosityOutflow</A> JOutSha[nCon] <font color="blue">if </font>
       haveShade <font color="darkgreen">
    &quot;Outgoing radiosity that connects to shaded part of glass at exterior side&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>HeatTransfer.Interfaces.RadiosityInflow</A> JInSha[nCon] <font color="blue">if </font>
       haveShade <font color="darkgreen">
    &quot;Incoming radiosity that connects to shaded part of glass at exterior side&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> glaUns[nCon] <font color="darkgreen">
    &quot;Heat port at unshaded glass of exterior-facing surface&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> glaSha[nCon] <font color="blue">if </font>
       haveShade <font color="darkgreen">&quot;Heat port at shaded glass of exterior-facing surface&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> fra[nCon](T(<font color="blue">each </font>nominal=
          300, <font color="blue">each </font>start=283.15)) <font color="darkgreen">
    &quot;Heat port at frame of exterior-facing surface&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</A> HTotConExtWinFra[nCon](
     <font color="blue">final </font>k1=conPar[:].fFra .* conPar[:].glaSys.absSolFra .* conPar[:].AWin,
     <font color="blue">final </font>k2=conPar[:].fFra .* conPar[:].glaSys.absSolFra .* conPar[:].AWin) <font color="darkgreen">
    &quot;Total solar irradiation on window frame&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Sources.html#Buildings.HeatTransfer.Sources.PrescribedHeatFlow"
>Buildings.HeatTransfer.Sources.PrescribedHeatFlow</A> solHeaGaiConWin[nCon] <font color="darkgreen">
    &quot;Total solar heat gain of the window frame&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> HDir[nCon](
     <font color="blue">each </font><font color="blue">final </font>quantity=&quot;RadiantEnergyFluenceRate&quot;,
     <font color="blue">each </font><font color="blue">final </font>unit=&quot;W/m2&quot;) <font color="darkgreen">&quot;Direct solar irradition on tilted surface&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> HDif[nCon](
     <font color="blue">each </font><font color="blue">final </font>quantity=&quot;RadiantEnergyFluenceRate&quot;,
     <font color="blue">each </font><font color="blue">final </font>unit=&quot;W/m2&quot;) <font color="darkgreen">&quot;Diffuse solar irradiation on tilted surface&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> inc[nCon](
    <font color="blue">each </font><font color="blue">final </font>quantity=&quot;Angle&quot;,
    <font color="blue">each </font><font color="blue">final </font>unit=&quot;rad&quot;,
    <font color="blue">each </font>displayUnit=&quot;deg&quot;) <font color="darkgreen">&quot;Incidence angle&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false"><font color="blue">protected </font>
  <A HREF="Buildings_HeatTransfer_Sources.html#Buildings.HeatTransfer.Sources.PrescribedTemperature"
>Buildings.HeatTransfer.Sources.PrescribedTemperature</A> TAirConExtWin[
    nCon] <font color="darkgreen">&quot;Outside air temperature for window constructions&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Replicator"
>Modelica.Blocks.Routing.Replicator</A> repConExtWin(<font color="blue">final </font>nout=nCon) <font color="darkgreen">
    &quot;Signal replicator&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Replicator"
>Modelica.Blocks.Routing.Replicator</A> repConExtWinVWin(<font color="blue">final </font>nout=nCon) <font color="darkgreen">
    &quot;Signal replicator&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Replicator"
>Modelica.Blocks.Routing.Replicator</A> repConExtWinTSkyBla(<font color="blue">final </font>nout=nCon) <font color="darkgreen">
    &quot;Signal replicator&quot;</font>;</textblock>

<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(uSha, conExtWin.uSha);
  <font color="red">connect</font>(JInUns,conExtWin. JInUns);
  <font color="red">connect</font>(conExtWin.JOutUns,JOutUns);
  <font color="red">connect</font>(conExtWin.glaUns,glaUns);
  <font color="red">connect</font>(conExtWin.glaSha,glaSha);
  <font color="red">connect</font>(conExtWin.JOutSha,JOutSha);
  <font color="red">connect</font>(conExtWin.JInSha,JInSha);
  <font color="red">connect</font>(conExtWin.frame,fra);
  <font color="red">connect</font>(TAirConExtWin.port,conExtWin. air);
  <font color="red">connect</font>(TAirConExtWin.T,repConExtWin. y);
  <font color="red">connect</font>(repConExtWin.u, weaBus.TDryBul);
  <font color="red">connect</font>(repConExtWinVWin.y,conExtWin. vWin);
  <font color="red">connect</font>(repConExtWinVWin.u, weaBus.winSpe);
  <font color="red">connect</font>(HTotConExtWinFra.y, solHeaGaiConWin.Q_flow);
  <font color="red">connect</font>(solHeaGaiConWin.port, fra);
  <font color="red">connect</font>(HDifTil.H, HDif);
  <font color="red">connect</font>(HDirTil.inc, inc);
  <font color="red">connect</font>(HTotConExtWinFra.u2, HDifTil.H);
  <font color="red">connect</font>(skyRadExcWin.TOut, weaBus.TDryBul);
  <font color="red">connect</font>(skyRadExcWin.TBlaSky, weaBus.TBlaSky);
  <font color="red">connect</font>(skyRadExcWin.port, fra);
  <font color="red">connect</font>(repConExtWin.y, conExtWin.TOut);
  <font color="red">connect</font>(repConExtWinTSkyBla.y, conExtWin.TBlaSky);
  <font color="red">connect</font>(repConExtWinTSkyBla.u, weaBus.TBlaSky);</textblock>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nCon<font color="blue"> loop</font>
<textblock type="annotconnect" expanded="false">    <font color="red">connect</font>(sha[i].weaBus, weaBus);</textblock>
  <font color="blue">end for</font>;
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(sha.HDirTil, HTotConExtWinFra.u1);
  <font color="red">connect</font>(sha.HDirTil, HDir);
  <font color="red">connect</font>(sha.HDirTilUns, HDirTil.H);
  <font color="red">connect</font>(HDirTil.inc, sha.incAng);
  <font color="red">connect</font>(QAbsSolSha_flow, conExtWin.QSolAbs_flow);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>ExteriorBoundaryConditionsWithWindow;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HeatGain<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClasses.HeatGainI.png" ALT="Buildings.Rooms.BaseClasses.HeatGain" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.HeatGain"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.HeatGain</H2>
<B>Model to convert internal heat gain signals</B><p></P>
<IMG SRC="Buildings.Rooms.BaseClasses.HeatGainD.png" ALT="Buildings.Rooms.BaseClasses.HeatGain">
<P></P><H3>Information</H3>

This model computes the radiant, convective and latent heat flow.
Input into this model are these three components in units of [W/m2].
The inputs need to be positive quantities if heat or moisture is added
to the room.
The outputs are 
<ul>
<li>
the radiant heat flow in Watts,
</li>
<li>
the convective heat flow in Watts, and
</li>
<li>
the water vapor released into the air.
</li>
</ul>
If the medium model does not contain water vapor, then
the water vapor released into the air is zero, i.e., 
the mass flow rate at the fluid port is equal to zero.
<P></P>
Extends from <A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A> (Base icon).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Modelica.Media.Interfaces.Pa...</TD><TD>Medium in the component</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>AFlo</TD><TD>&nbsp;</TD><TD>Floor area [m2]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>TWat</TD><TD>273.15 + 34</TD><TD>Temperature at which water vapor is released [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Medium in the component</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>QCon_flow</TD><TD>Convective heat gain</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>qGai_flow[3]</TD><TD>Radiant, convective and latent heat input into room (positive if heat gain)</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>QRad_flow</TD><TD>Radiative heat gain</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>QLat_flow</TD><TD>Latent heat gain</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> HeatGain <font color="darkgreen">&quot;Model to convert internal heat gain signals&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A>;

  <font color="blue">replaceable </font><font color="blue">package</font> Medium =
     <A HREF="../../msl/3.2/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>Modelica.Media.Interfaces.PartialMedium</A> <font color="darkgreen">&quot;Medium in the component&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AFlo <font color="darkgreen">&quot;Floor area&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> TWat=273.15+34 <font color="darkgreen">
    &quot;Temperature at which water vapor is released&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> QCon_flow <font color="darkgreen">
    &quot;Convective heat gain&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false"><font color="blue">public </font>
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> qGai_flow[3] <font color="darkgreen">
    &quot;Radiant, convective and latent heat input into room (positive if heat gain)&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> QRad_flow <font color="darkgreen">&quot;Radiative heat gain&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>Modelica.Fluid.Interfaces.FluidPort_b</A> QLat_flow(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">package</font>
      Medium =
        Medium) <font color="darkgreen">&quot;Latent heat gain&quot;</font>;</textblock>
<font color="blue">protected </font>
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</A> mWat_flow <font color="darkgreen">
    &quot;Water vapor flow rate released by latent gain&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnergy"
>Modelica.SIunits.SpecificEnergy</A> h_fg =<font color="red"> Medium.enthalpyOfCondensingGas</font>(TWat) <font color="darkgreen">
    &quot;Latent heat of water vapor&quot;</font>;
 <font color="darkgreen">// constant Medium.MassFraction Xi[Medium.nXi] = {1}</font>
 <font color="darkgreen">//   &quot;Species concentration (water vapor only)&quot;;</font>

<font color="blue">protected </font>
  <font color="blue">parameter </font>Real s[Medium.nX](fixed=false) <font color="darkgreen">
    &quot;Vector with zero everywhere except where water vapor is&quot;</font>;
<font color="blue">initial </font><font color="blue">algorithm </font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:Medium.nX<font color="blue"> loop</font>
    <font color="blue">if </font>(<font color="red"> Modelica.Utilities.Strings.isEqual</font>(string1=Medium.substanceNames[i],
                                            string2=&quot;water&quot;,
                                            caseSensitive=false))<font color="blue"> then</font>
      s[i] :=1;
    <font color="blue">else</font>
      s[i] :=0;
    <font color="blue">end if</font>;
   <font color="blue">end for</font>;
  <font color="red"> assert</font>(Medium.nX == 1<font color="blue"> or </font><font color="red">abs</font>(1-<font color="red">sum</font>(s)) &lt; 1E-4, &quot;Substance &#39;water&#39; is not present in medium &#39;&quot;
                  + Medium.mediumName + &quot;&#39;.\n&quot;
                  + &quot;Change medium model to one that has &#39;water&#39; as a substance.&quot;);
<font color="blue">equation </font>
  QRad_flow = qGai_flow[1]*AFlo;
  QCon_flow.Q_flow = -qGai_flow[2]*AFlo;

  <font color="darkgreen">// Interface to fluid port</font>
  <font color="darkgreen">// If a medium does not contain water vapor, then h_fg is equal to zero.</font>
  <font color="blue">if </font>Medium.nXi == 0<font color="blue"> or </font>(h_fg == 0)<font color="blue"> then</font>
    mWat_flow = 0;
  <font color="blue">else</font>
    mWat_flow = qGai_flow[3]*AFlo/h_fg;
  <font color="blue">end if</font>;

  QLat_flow.C_outflow  =<font color="red"> fill</font>(0, Medium.nC);
  QLat_flow.h_outflow  = h_fg;
  QLat_flow.Xi_outflow = s[1:Medium.nXi];
  QLat_flow.m_flow     = <font color="blue">if </font>(h_fg &gt; 0)<font color="blue"> then </font>
                           -qGai_flow[3]*AFlo/h_fg<font color="blue"> else </font>
                            0;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>HeatGain;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE InfraredRadiationExchange<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClass39076b6d16b239c0hangeI.png" ALT="Buildings.Rooms.BaseClasses.InfraredRadiationExchange" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.InfraredRadiationExchange"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.InfraredRadiationExchange</H2>
<B>Infrared radiation heat exchange between the room facing surfaces</B><p></P>
<IMG SRC="Buildings.Rooms.BaseClass39076b6d16b239c0hangeD.png" ALT="Buildings.Rooms.BaseClasses.InfraredRadiationExchange">
<P></P><H3>Information</H3>

<p>
This model computes the infrared radiative heat transfer between the interior
surfaces of a room. Each opaque surface emits radiation according to
</p>
<p align="center" style="font-style:italic;">
  E<sup>i</sup> = &sigma; &nbsp; A<sup>i</sup> &nbsp; &epsilon;<sup>i</sup> &nbsp; 
(T<sup>i</sup>)<sup>4</sup>,
</p>
<p>
where
<i>&sigma;</i>
is the Stefan-Boltzmann constant,
<i>A<sup>i</sup> </i>
is the surface area,
<i>&epsilon;<sup>i</sup> </i>
is the absorptivity in the infrared spectrum, and
<i>T<sup>i</sup></i>
is the surface temperature.
If the parameter <code>linearizeRadidation</code> is set to <code>true</code>,
then the term <i>(T<sup>i</sup>)<sup>4</sup></i> is replaced with
<i>T<sub>0</sub><sup>3</sup> T<sup>i</sup></i>,
where <i>T<sub>0</sub> = 20&deg;C</i> is a parameter.
</p>
<p>
The incoming radiation at surface <i>i</i> is
</p>
<p align="center" style="font-style:italic;">
  G<sup>i</sup> = -&sum;<sub>j</sub> &nbsp; F<sup>j,i</sup> &nbsp; J<sup>j</sup>
</p>
<p>
where 
<i>F<sup>j,i</sup></i> 
is the view factor from surface
<i>j</i> to surface <i>i</i>, 
<i>J<sup>j</sup></i> 
is the radiosity leaving surface <i>j</i>
and the sum is over all surfaces.
For opaque surfaces, it follows from the first law
that the radiosity
<i>J<sup>i</sup></i> 
is
</p>
<p align="center" style="font-style:italic;">
 J<sup>i</sup> = -E<sup>i</sup>  - (1-&epsilon;<sup>i</sup>) &nbsp; G<sup>i</sup>.
</p>
<p>
For windows, the outgoing radiosity is an input into this model
because the window model computes this quantity directly.
</p>
<p>
For each surface <i>i</i>, the heat balance is
</p>
<p align="center" style="font-style:italic;">
  0 = Q<sup>i</sup> + J<sup>i</sup> + G<sup>i</sup>.
</p>
<p>
For opaque surfaces, the heat flow rate 
<i>Q<sup>i</sup></i> 
is set to be equal to the heat flow rate at the heat port.
For the glass of the windows, the radiosity outflow at the connector is
set to the radiosity
<i>G<sup>i</sup></i>
that is leaving the surface.
</p>
<p>
The view factor from surface <i>i</i> to <i>j</i> is approximated as
<p align="center" style="font-style:italic;">
  F<sup>i,j</sup> = A<sup>j</sup> &frasl; &sum;<sub>k </sub> A<sup>k</sup>.
</p>
<P></P>
Extends from <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative"
>Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative</A> (Partial model that is used for infrared radiation balance).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConExt[NConExt]</TD><TD>&nbsp;</TD><TD>Data for exterior construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>ParameterConstructionWithWindow</A></TD><TD>datConExtWin[NConExtWin]</TD><TD>&nbsp;</TD><TD>Data for exterior construction with window</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConPar[NConPar]</TD><TD>&nbsp;</TD><TD>Data for partition construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConBou[NConBou]</TD><TD>&nbsp;</TD><TD>Data for construction boundary</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Data_OpaqueSurfaces.html#Buildings.HeatTransfer.Data.OpaqueSurfaces.Generic"
>Generic</A></TD><TD>surBou[NSurBou]</TD><TD>&nbsp;</TD><TD>Record for data of surfaces whose heat conduction is modeled outside of this room</TD></TR>
<TR><TD>Boolean</TD><TD>linearizeRadiation</TD><TD>&nbsp;</TD><TD>Set to true to linearize emissive power</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExt</TD><TD>&nbsp;</TD><TD>Number of exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExtWin</TD><TD>&nbsp;</TD><TD>Number of window constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Partition constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConPar</TD><TD>&nbsp;</TD><TD>Number of partition constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Boundary constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConBou</TD><TD>&nbsp;</TD><TD>Number of constructions that have their outside surface exposed to the boundary of this room</TD></TR>
<TR><TD>Integer</TD><TD>nSurBou</TD><TD>&nbsp;</TD><TD>Number of surface heat transfer models that connect to constructions that are modeled outside of this room</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Advanced</B></TD></TR>
<TR><TD>Boolean</TD><TD>homotopyInitialization</TD><TD>true</TD><TD>= true, use homotopy method</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExt[NConExt]</TD><TD>Heat port that connects to room-side surface of exterior constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExtWin[NConExtWin]</TD><TD>Heat port that connects to room-side surface of exterior constructions that contain a window</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExtWinFra[NConExtWin]</TD><TD>Heat port that connects to room-side surface of window frame</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conPar_a[NConPar]</TD><TD>Heat port that connects to room-side surface a of partition constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conPar_b[NConPar]</TD><TD>Heat port that connects to room-side surface b of partition constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conBou[NConBou]</TD><TD>Heat port that connects to room-side surface of constructions that expose their other surface to the outside</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conSurBou[NSurBou]</TD><TD>Heat port to surfaces of models that compute the heat conduction outside of this room</TD></TR>
<TR><TD>input <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</A></TD><TD>JInConExtWin[NConExtWin]</TD><TD>Incoming radiosity that connects to non-frame part of the window [W]</TD></TR>
<TR><TD>output <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</A></TD><TD>JOutConExtWin[NConExtWin]</TD><TD>Outgoing radiosity that connects to non-frame part of the window [W]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> InfraredRadiationExchange <font color="darkgreen">
  &quot;Infrared radiation heat exchange between the room facing surfaces&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative"
>Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative</A>;
  <font color="blue">parameter </font>Boolean linearizeRadiation <font color="darkgreen">
    &quot;Set to true to linearize emissive power&quot;</font>;
  <font color="blue">parameter </font>Boolean homotopyInitialization=true <font color="darkgreen">&quot;= true, use homotopy method&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>HeatTransfer.Interfaces.RadiosityInflow</A> JInConExtWin[NConExtWin] <font color="blue">if </font>
      haveConExtWin <font color="darkgreen">
    &quot;Incoming radiosity that connects to non-frame part of the window&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>HeatTransfer.Interfaces.RadiosityOutflow</A> JOutConExtWin[NConExtWin] <font color="darkgreen">
    &quot;Outgoing radiosity that connects to non-frame part of the window&quot;</font>;</textblock>
<font color="blue">protected </font>
  <font color="blue">final </font><font color="blue">parameter </font>Integer NOpa=NConExt + 2*NConExtWin + 2*NConPar + NConBou +
      NSurBou <font color="darkgreen">&quot;Number of opaque surfaces, including the window frame&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer nOpa=nConExt + 2*nConExtWin + 2*nConPar + nConBou +
      nSurBou <font color="darkgreen">&quot;Number of opaque surfaces, including the window frame&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer NWin=NConExtWin <font color="darkgreen">&quot;Number of window surfaces&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer nWin=nConExtWin <font color="darkgreen">&quot;Number of window surfaces&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer NTot=NOpa + NWin <font color="darkgreen">&quot;Total number of surfaces&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer nTot=nOpa + nWin <font color="darkgreen">&quot;Total number of surfaces&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real epsOpa[nOpa](
    min=0,
    max=1,
    fixed=false) <font color="darkgreen">&quot;Absorptivity of opaque surfaces&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real rhoOpa[nOpa](
    min=0,
    max=1,
    fixed=false) <font color="darkgreen">&quot;Reflectivity of opaque surfaces&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AOpa[nOpa](fixed=false) <font color="darkgreen">
    &quot;Surface area of opaque surfaces&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> A[nTot](fixed=false) <font color="darkgreen">&quot;Surface areas&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real kOpa[nOpa](unit=&quot;W/K4&quot;, fixed=false) <font color="darkgreen">
    &quot;Product sigma*epsilon*A for opaque surfaces&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real F[nTot, nTot](
    min=0,
    max=1,
    fixed=false) <font color="darkgreen">&quot;View factor from surface i to j&quot;</font>;

   <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Buildings.HeatTransfer.Interfaces.RadiosityInflow</A> JInConExtWin_internal[NConExtWin] <font color="darkgreen">
    &quot;Incoming radiosity that connects to non-frame part of the window&quot;</font>;

  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</A> J[nTot](
    max=0,
    start=A .* 0.8*Modelica.Constants.sigma*293.15^4,
    <font color="blue">each </font>nominal=10*0.8*Modelica.Constants.sigma*293.15^4) <font color="darkgreen">
    &quot;Radiosity leaving the surface&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</A> G[nTot](
    min=0,
    start=A .* 0.8*Modelica.Constants.sigma*293.15^4,
    <font color="blue">each </font>nominal=10*0.8*Modelica.Constants.sigma*293.15^4) <font color="darkgreen">
    &quot;Radiosity entering the surface&quot;</font>;
  <font color="blue">constant </font>Real T30(unit=&quot;K3&quot;) = 293.15^3 <font color="darkgreen">&quot;Nominal temperature&quot;</font>;
  <font color="blue">constant </font>Real T40(unit=&quot;K4&quot;) = 293.15^4 <font color="darkgreen">&quot;Nominal temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> TOpa[nOpa](<font color="blue">each </font>start=293.15, <font color="blue">each </font>nominal=
        293.15) <font color="darkgreen">&quot;Temperature of opaque surfaces&quot;</font>;
  Real T4Opa[nOpa](
    <font color="blue">each </font>unit=&quot;K4&quot;,
    <font color="blue">each </font>start=T40,
    <font color="blue">each </font>nominal=293.15^4) <font color="darkgreen">&quot;Forth power of temperature of opaque surfaces&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</A> Q_flow[nTot] <font color="darkgreen">&quot;Heat flow rate at surfaces&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T0=293.15 <font color="darkgreen">
    &quot;Temperature used to linearize radiative heat transfer&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real T03(
    min=0,
    unit=&quot;K3&quot;) = T0^3 <font color="darkgreen">&quot;3rd power of temperature T0&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</A> sumEBal <font color="darkgreen">&quot;Sum of energy balance, should be zero&quot;</font>;
<font color="blue">initial </font><font color="blue">equation </font>
  <font color="darkgreen">// The next loops build the array epsOpa, AOpa and kOpa that simplify</font>
  <font color="darkgreen">// the model equations.</font>
  <font color="darkgreen">// These arrays store the values of the constructios in the following order</font>
  <font color="darkgreen">// [x[1:NConExt] x[1:NConPar] x[1: NConPar] x[1: NConBou] x[1: NSurBou] x[1: NConExtWin] x[1: NConExtWin]]</font>
  <font color="darkgreen">// where x is epsOpa, AOpa or kOpa.</font>
  <font color="darkgreen">// The last two entries are for the opaque wall that contains a window, and for the window frame.</font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nConExt<font color="blue"> loop</font>
    epsOpa[i] = epsConExt[i];
    AOpa[i] = AConExt[i];
    kOpa[i] = Modelica.Constants.sigma*epsConExt[i]*AOpa[i];
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nConPar<font color="blue"> loop</font>
    epsOpa[i + nConExt] = epsConPar_a[i];
    AOpa[i + nConExt] = AConPar[i];
    kOpa[i + nConExt] = Modelica.Constants.sigma*epsConPar_a[i]*AOpa[i +
      nConExt];
    epsOpa[i + nConExt + nConPar] = epsConPar_b[i];
    AOpa[i + nConExt + nConPar] = AConPar[i];
    kOpa[i + nConExt + nConPar] = Modelica.Constants.sigma*epsConPar_b[i]*AOpa[
      i + nConExt + nConPar];
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nConBou<font color="blue"> loop</font>
    epsOpa[i + nConExt + 2*nConPar] = epsConBou[i];
    AOpa[i + nConExt + 2*nConPar] = AConBou[i];
    kOpa[i + nConExt + 2*nConPar] = Modelica.Constants.sigma*epsConBou[i]*AOpa[
      i + nConExt + 2*nConPar];
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nSurBou<font color="blue"> loop</font>
    epsOpa[i + nConExt + 2*nConPar + nConBou] = epsSurBou[i];
    AOpa[i + nConExt + 2*nConPar + nConBou] = ASurBou[i];
    kOpa[i + nConExt + 2*nConPar + nConBou] = Modelica.Constants.sigma*
      epsSurBou[i]*AOpa[i + nConExt + 2*nConPar + nConBou];
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nConExtWin<font color="blue"> loop</font>
    <font color="darkgreen">// Opaque part of construction that has a window embedded</font>
    epsOpa[i + nConExt + 2*nConPar + nConBou + nSurBou] = epsConExtWinOpa[i];
    AOpa[i + nConExt + 2*nConPar + nConBou + nSurBou] = AConExtWinOpa[i];
    kOpa[i + nConExt + 2*nConPar + nConBou + nSurBou] = Modelica.Constants.sigma
      *epsConExtWinOpa[i]*AOpa[i + nConExt + 2*nConPar + nConBou + nSurBou];
    <font color="darkgreen">// Window frame</font>
    epsOpa[i + nConExt + 2*nConPar + nConBou + nSurBou + nConExtWin] =
      epsConExtWinFra[i];
    AOpa[i + nConExt + 2*nConPar + nConBou + nSurBou + nConExtWin] =
      AConExtWinFra[i];
    kOpa[i + nConExt + 2*nConPar + nConBou + nSurBou + nConExtWin] = Modelica.Constants.sigma
      *epsConExtWinFra[i]*AOpa[i + nConExt + 2*nConPar + nConBou + nSurBou +
      nConExtWin];
  <font color="blue">end for</font>;
  <font color="darkgreen">// Vector with all surface areas.</font>
  <font color="darkgreen">// The next loops build the array A that simplifies</font>
  <font color="darkgreen">// the model equations.</font>
  <font color="darkgreen">// These array stores the values of the constructios in the following order</font>
  <font color="darkgreen">// [AOpa[1:nConExt] AOpa[1:nConPar] AOpa[1: nConPar] AOpa[1: nConBou] AOpa[1: nSurBou]</font>
  <font color="darkgreen">//  AOpa[1: nConExtWin] AOpa[1: nConExtWin] AGla[1: nConExtWin]]</font>
  <font color="darkgreen">// since nWin=nConExtWin.</font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nOpa<font color="blue"> loop</font>
    A[i] = AOpa[i];
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nWin<font color="blue"> loop</font>
    A[i + nOpa] = AConExtWinGla[i];
  <font color="blue">end for</font>;
  <font color="darkgreen">// Reflectivity for opaque surfaces</font>
  rhoOpa = 1 .- epsOpa;
  <font color="darkgreen">// View factors from surface i to surface j</font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nTot<font color="blue"> loop</font>
    <font color="blue">for </font>j<font color="blue"> in </font>1:nTot<font color="blue"> loop</font>
      F[i, j] = A[j]/<font color="red">sum</font>((A[k]) <font color="blue">for </font>k<font color="blue"> in </font>1:nTot);
    <font color="blue">end for</font>;
  <font color="blue">end for</font>;
  <font color="darkgreen">// Test whether the view factors add up to one, or the sum is zero in case there</font>
  <font color="darkgreen">// is only one construction</font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nTot<font color="blue"> loop</font>
    <font color="red">assert</font>((<font color="red">abs</font>(1 -<font color="red"> sum</font>(F[i, j] <font color="blue">for </font>j<font color="blue"> in </font>1:nTot))) &lt; 1E-10,
      &quot;Program error: Sum 1 of view factors is &quot; +<font color="red"> String</font>(<font color="red">sum</font>(F[i, j] <font color="blue">for </font>j<font color="blue"> in </font>
      1:nTot)));
  <font color="blue">end for</font>;
  <font color="darkgreen">////////////////////////////////////////////////////////////////////</font>
<font color="blue">equation </font>
  <font color="darkgreen">// Conditional connector</font>
  <font color="red">connect</font>(JInConExtWin, JInConExtWin_internal);
  <font color="blue">if </font><font color="blue">not </font>haveConExtWin<font color="blue"> then</font>
    JInConExtWin_internal =<font color="red"> fill</font>(0, NConExtWin);
  <font color="blue">end if</font>;
  <font color="darkgreen">// Assign temperature of opaque surfaces</font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nConExt<font color="blue"> loop</font>
    TOpa[i] = conExt[i].T;
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nConPar<font color="blue"> loop</font>
    TOpa[i + nConExt] = conPar_a[i].T;
    TOpa[i + nConExt + nConPar] = conPar_b[i].T;
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nConBou<font color="blue"> loop</font>
    TOpa[i + nConExt + 2*nConPar] = conBou[i].T;
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nSurBou<font color="blue"> loop</font>
    TOpa[i + nConExt + 2*nConPar + nConBou] = conSurBou[i].T;
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nConExtWin<font color="blue"> loop</font>
    TOpa[i + nConExt + 2*nConPar + nConBou + nSurBou] = conExtWin[i].T;
    TOpa[i + nConExt + 2*nConPar + nConBou + nConExtWin + nSurBou] =
      conExtWinFra[i].T;
  <font color="blue">end for</font>;
  <font color="darkgreen">// Incoming radiosity at each surface</font>
  <font color="darkgreen">// is equal to the negative of the outgoing radiosity of</font>
  <font color="darkgreen">// all other surfaces times the view factor</font>
  G = -<font color="red">transpose</font>(F)*J;
  <font color="darkgreen">// Outgoing radiosity</font>
  <font color="darkgreen">// Opaque surfaces.</font>
  <font color="darkgreen">// If kOpa[j]=absIR[j]*A[j] &lt; 1E-28, then A &lt; 1E-20 and the surface is</font>
  <font color="darkgreen">// from a dummy construction. In this situation, we set T40=293.15^4 to</font>
  <font color="darkgreen">// avoid a singularity.</font>
  <font color="blue">for </font>j<font color="blue"> in </font>1:nOpa<font color="blue"> loop</font>
    <font color="darkgreen">//   T4Opa[j] = if (kOpa[j] &gt; 1E-28) then (Q_flow[j]-epsOpa[j] * G[j])/kOpa[j] else T40;</font>
    T4Opa[j] = (-J[j] - rhoOpa[j]*G[j])/kOpa[j];
  <font color="blue">end for</font>;
  <font color="darkgreen">// 4th power of temperature</font>
  <font color="blue">if </font>linearizeRadiation<font color="blue"> then</font>
    TOpa = (T4Opa .+ 3*T40)/(4*T30);
    <font color="darkgreen">// Based on T4 = 4*T30*T-3*T40</font>
  <font color="blue">else</font>
    <font color="blue">if </font>homotopyInitialization<font color="blue"> then</font>
      TOpa =<font color="red"> homotopy</font>(actual=<font color="red">Buildings.Utilities.Math.Functions.powerLinearized</font>(
        x=T4Opa,
        x0=243.15^4,
        n=0.25), simplified=(T4Opa .+ 3*T40)/(4*T30));
    <font color="blue">else</font>
      TOpa =<font color="red"> Buildings.Utilities.Math.Functions.powerLinearized</font>(
        x=T4Opa,
        x0=243.15^4,
        n=0.25);
    <font color="blue">end if</font>;
  <font color="blue">end if</font>;
  <font color="darkgreen">// Assign radiosity that comes from window</font>
  <font color="darkgreen">// and that leaves window.</font>
  <font color="darkgreen">// J &lt; 0 because it leaves the surface</font>
  <font color="darkgreen">// G &gt; 0 because it strikes the surface</font>
  <font color="blue">for </font>j<font color="blue"> in </font>1:nWin<font color="blue"> loop</font>
    J[j + nOpa] = -JInConExtWin_internal[j];
    G[j + nOpa] = +JOutConExtWin[j];
  <font color="blue">end for</font>;
  <font color="darkgreen">// Net heat exchange</font>
  Q_flow = -J - G;
  <font color="darkgreen">// Assign heat exchange to connectors</font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nConExt<font color="blue"> loop</font>
    Q_flow[i] = conExt[i].Q_flow;
  <font color="blue">end for</font>;
  <font color="blue">if </font>nConExt == 0<font color="blue"> then</font>
    conExt[1].T = T0;
  <font color="blue">end if</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nConPar<font color="blue"> loop</font>
    Q_flow[i + nConExt] = conPar_a[i].Q_flow;
    Q_flow[i + nConExt + nConPar] = conPar_b[i].Q_flow;
  <font color="blue">end for</font>;
  <font color="blue">if </font>nConPar == 0<font color="blue"> then</font>
    conPar_a[1].T = T0;
    conPar_b[1].T = T0;
  <font color="blue">end if</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nConBou<font color="blue"> loop</font>
    Q_flow[i + nConExt + 2*nConPar] = conBou[i].Q_flow;
  <font color="blue">end for</font>;
  <font color="blue">if </font>nConBou == 0<font color="blue"> then</font>
    conBou[1].T = T0;
  <font color="blue">end if</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nSurBou<font color="blue"> loop</font>
    Q_flow[i + nConExt + 2*nConPar + nConBou] = conSurBou[i].Q_flow;
  <font color="blue">end for</font>;
  <font color="blue">if </font>nSurBou == 0<font color="blue"> then</font>
    conSurBou[1].T = T0;
  <font color="blue">end if</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nConExtWin<font color="blue"> loop</font>
    Q_flow[i + nConExt + 2*nConPar + nConBou + nSurBou] = conExtWin[i].Q_flow;
    Q_flow[i + nConExt + 2*nConPar + nConBou + nSurBou + nConExtWin] =
      conExtWinFra[i].Q_flow;
  <font color="blue">end for</font>;
  <font color="blue">if </font>nConExtWin == 0<font color="blue"> then</font>
    conExtWin[1].T = T0;
    conExtWinFra[1].T = T0;
    JOutConExtWin[1] = 0;
  <font color="blue">end if</font>;
  <font color="darkgreen">// Sum of energy balance</font>
  <font color="darkgreen">// Remove sumEBal and assert statement for final release</font>
  sumEBal =<font color="red"> sum</font>(conExt.Q_flow) +<font color="red"> sum</font>(conPar_a.Q_flow) +<font color="red"> sum</font>(conPar_b.Q_flow) +
    <font color="red">sum</font>(conBou.Q_flow) +<font color="red"> sum</font>(conSurBou.Q_flow) +<font color="red"> sum</font>(conExtWin.Q_flow) +<font color="red"> sum</font>(
    conExtWinFra.Q_flow) + (<font color="red">sum</font>(JInConExtWin_internal) -<font color="red"> sum</font>(JOutConExtWin));
  <font color="red">assert</font>(<font color="red">abs</font>(sumEBal) &lt; 1E-1,
    &quot;Program error: Energy is not conserved in InfraredRadiationExchange.
               Sum of all energy is &quot; +<font color="red"> String</font>(sumEBal));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>InfraredRadiationExchange;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE InfraredRadiationGainDistribution<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClassef6fd50d43dced46utionI.png" ALT="Buildings.Rooms.BaseClasses.InfraredRadiationGainDistribution" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.InfraredRadiationGainDistribution"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.InfraredRadiationGainDistribution</H2>
<B>Infrared radiative heat gain distribution between the room facing surfaces</B><p></P>
<IMG SRC="Buildings.Rooms.BaseClassef6fd50d43dced46utionD.png" ALT="Buildings.Rooms.BaseClasses.InfraredRadiationGainDistribution">
<P></P><H3>Information</H3>

This model computes the distribution of the infrared radiant heat gain
to the room surfaces. 
The infrared radiant heat gain <i>Q</i> is an input to this model.
It is distributed to the individual surfaces according to
<p align="center" style="font-style:italic;">
  Q<sup>i</sup> = Q &nbsp; A<sup>i</sup> &nbsp; &epsilon;<sup>i</sup> &frasl; 
 &sum;<sub>k</sub> A<sup>k</sup> &nbsp; &epsilon;<sup>k</sup>.
</p>
For opaque surfaces, the heat flow rate 
<i>Q<sup>i</sup></i> 
is set to be equal to the heat flow rate at the heat port.
For the glass of the windows, the heat flow rate 
<i>Q<sup>i</sup></i> is set to the radiosity
<i>J<sup>i</sup></i>
that will strike the glass or the window shade.
<P></P>
Extends from <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative"
>Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative</A> (Partial model that is used for infrared radiation balance).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConExt[NConExt]</TD><TD>&nbsp;</TD><TD>Data for exterior construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>ParameterConstructionWithWindow</A></TD><TD>datConExtWin[NConExtWin]</TD><TD>&nbsp;</TD><TD>Data for exterior construction with window</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConPar[NConPar]</TD><TD>&nbsp;</TD><TD>Data for partition construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConBou[NConBou]</TD><TD>&nbsp;</TD><TD>Data for construction boundary</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Data_OpaqueSurfaces.html#Buildings.HeatTransfer.Data.OpaqueSurfaces.Generic"
>Generic</A></TD><TD>surBou[NSurBou]</TD><TD>&nbsp;</TD><TD>Record for data of surfaces whose heat conduction is modeled outside of this room</TD></TR>
<TR><TD>Boolean</TD><TD>haveShade</TD><TD>&nbsp;</TD><TD>Set to true if a shade is present</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExt</TD><TD>&nbsp;</TD><TD>Number of exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExtWin</TD><TD>&nbsp;</TD><TD>Number of window constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Partition constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConPar</TD><TD>&nbsp;</TD><TD>Number of partition constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Boundary constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConBou</TD><TD>&nbsp;</TD><TD>Number of constructions that have their outside surface exposed to the boundary of this room</TD></TR>
<TR><TD>Integer</TD><TD>nSurBou</TD><TD>&nbsp;</TD><TD>Number of surface heat transfer models that connect to constructions that are modeled outside of this room</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExt[NConExt]</TD><TD>Heat port that connects to room-side surface of exterior constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExtWin[NConExtWin]</TD><TD>Heat port that connects to room-side surface of exterior constructions that contain a window</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExtWinFra[NConExtWin]</TD><TD>Heat port that connects to room-side surface of window frame</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conPar_a[NConPar]</TD><TD>Heat port that connects to room-side surface a of partition constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conPar_b[NConPar]</TD><TD>Heat port that connects to room-side surface b of partition constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conBou[NConBou]</TD><TD>Heat port that connects to room-side surface of constructions that expose their other surface to the outside</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conSurBou[NSurBou]</TD><TD>Heat port to surfaces of models that compute the heat conduction outside of this room</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>uSha[NConExtWin]</TD><TD>Control signal for the shading device (removed if no shade is present)</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>Q_flow</TD><TD>Radiative heat input into room (positive if heat gain)</TD></TR>
<TR><TD>output <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</A></TD><TD>JOutConExtWin[NConExtWin]</TD><TD>Outgoing radiosity that connects to shaded and unshaded part of glass [W]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> InfraredRadiationGainDistribution <font color="darkgreen">
  &quot;Infrared radiative heat gain distribution between the room facing surfaces&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative"
>Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative</A>;
  <font color="blue">parameter </font>Boolean haveShade <font color="darkgreen">&quot;Set to true if a shade is present&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> uSha[NConExtWin](<font color="blue">each </font>min=0, <font color="blue">each </font>max=1) <font color="blue">if </font>
       haveShade <font color="darkgreen">
    &quot;Control signal for the shading device (removed if no shade is present)&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> Q_flow <font color="darkgreen">
    &quot;Radiative heat input into room (positive if heat gain)&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Buildings.HeatTransfer.Interfaces.RadiosityOutflow</A>[NConExtWin] JOutConExtWin <font color="darkgreen">
    &quot;Outgoing radiosity that connects to shaded and unshaded part of glass&quot;</font>;</textblock>
<font color="blue">protected </font>
  Real fraConExt[NConExt] = AEpsConExt/sumAEps <font color="darkgreen">
    &quot;Fraction of infrared radiant heat gain absorbed by exterior constructions&quot;</font>;
  Real fraConExtWinOpa[NConExtWin] = AEpsConExtWinOpa/sumAEps <font color="darkgreen">
    &quot;Fraction of infrared radiant heat gain absorbed by opaque part of exterior constructions that have a window&quot;</font>;
  Real fraConExtWinGla[NConExtWin] = (AEpsConExtWinSha + AEpsConExtWinUns)/sumAEps <font color="darkgreen">
    &quot;Fraction of infrared radiant heat gain absorbed by opaque part of glass constructions that have a window&quot;</font>;
  Real fraConExtWinFra[NConExtWin] = AEpsConExtWinFra/sumAEps <font color="darkgreen">
    &quot;Fraction of infrared radiant heat gain absorbed by window frame of exterior constructions that have a window&quot;</font>;

  Real fraConPar_a[NConPar] = AEpsConPar_a/sumAEps <font color="darkgreen">
    &quot;Fraction of infrared radiant heat gain absorbed by partition constructions surface a&quot;</font>;
  Real fraConPar_b[NConPar] = AEpsConPar_b/sumAEps <font color="darkgreen">
    &quot;Fraction of infrared radiant heat gain absorbed by partition constructions surface b&quot;</font>;
  Real fraConBou[NConBou] = AEpsConBou/sumAEps <font color="darkgreen">
    &quot;Fraction of infrared radiant heat gain absorbed by constructions with exterior boundary conditions exposed to outside of room model&quot;</font>;
  Real fraSurBou[NSurBou] = AEpsSurBou/sumAEps <font color="darkgreen">
    &quot;Fraction of infrared radiant heat gain absorbed by surface models of constructions that are modeled outside of this room&quot;</font>;

 <font color="blue">parameter </font>Real AEpsConExt[NConExt] = {AConExt[i]*epsConExt[i] <font color="blue">for </font>i<font color="blue"> in </font>1:NConExt} <font color="darkgreen">
    &quot;Absorptivity times area of exterior constructions&quot;</font>;
 <font color="blue">parameter </font>Real AEpsConExtWinOpa[NConExtWin] = {AConExtWinOpa[i]*epsConExtWinOpa[i] <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin} <font color="darkgreen">
    &quot;Absorptivity times area of opaque part of exterior constructions that contain a window&quot;</font>;
 Real AEpsConExtWinUns[NConExtWin] = {shaSig[i].yCom * AConExtWinGla[i]*epsConExtWinUns[i]
     <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin} <font color="darkgreen">
    &quot;Absorptivity times area of unshaded window constructions&quot;</font>;
 Real AEpsConExtWinSha[NConExtWin] = {shaSig[i].y    * AConExtWinGla[i]*epsConExtWinSha[i]
    <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin} <font color="darkgreen">
    &quot;Absorptivity times area of shaded window constructions&quot;</font>;
 <font color="blue">parameter </font>Real AEpsConExtWinFra[NConExtWin] = {AConExtWinFra[i]*epsConExtWinFra[i] <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin} <font color="darkgreen">
    &quot;Absorptivity times area of window frame&quot;</font>;
 <font color="blue">parameter </font>Real AEpsConPar_a[NConPar] = {AConPar[i]*epsConPar_a[i] <font color="blue">for </font>i<font color="blue"> in </font>1:NConPar} <font color="darkgreen">
    &quot;Absorptivity times area of partition constructions surface a&quot;</font>;
 <font color="blue">parameter </font>Real AEpsConPar_b[NConPar] = {AConPar[i]*epsConPar_b[i] <font color="blue">for </font>i<font color="blue"> in </font>1:NConPar} <font color="darkgreen">
    &quot;Absorptivity times area of partition constructions surface b&quot;</font>;
 <font color="blue">parameter </font>Real AEpsConBou[NConBou] = {AConBou[i]*epsConBou[i] <font color="blue">for </font>i<font color="blue"> in </font>1:NConBou} <font color="darkgreen">
    &quot;Absorptivity times area of constructions with exterior boundary conditions exposed to outside of room model&quot;</font>;
 <font color="blue">parameter </font>Real AEpsSurBou[NSurBou] = {ASurBou[i]*epsSurBou[i] <font color="blue">for </font>i<font color="blue"> in </font>1:NSurBou} <font color="darkgreen">
    &quot;Absorptivity times area of surface models of constructions that are modeled outside of this room&quot;</font>;

 <font color="blue">parameter </font>Real sumAEpsNoWin(fixed=false) <font color="darkgreen">
    &quot;Sum of absorptivity times area of all constructions except for windows&quot;</font>;
 Real sumAEps <font color="darkgreen">
    &quot;Sum of absorptivity times area of all constructions including windows&quot;</font>;

 <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadingSignal"
>Buildings.HeatTransfer.Windows.BaseClasses.ShadingSignal</A> shaSig[NConExtWin](
      <font color="blue">each </font><font color="blue">final </font>haveShade=haveShade) <font color="darkgreen">
    &quot;Block to constrain the shading control signal to be strictly within (0, 1) if a shade is present&quot;</font>;
<font color="blue">initial </font><font color="blue">equation </font>
  sumAEpsNoWin =<font color="red"> sum</font>(AEpsConExt)+<font color="red">sum</font>(AEpsConExtWinOpa)+<font color="red">sum</font>(AEpsConExtWinFra)
                +<font color="red">sum</font>(AEpsConPar_a)+<font color="red">sum</font>(AEpsConPar_b)+<font color="red">sum</font>(AEpsConBou)+<font color="red">sum</font>(AEpsSurBou);
<font color="blue">equation </font>
  <font color="red">connect</font>(uSha, shaSig.u);

  sumAEps      = sumAEpsNoWin +<font color="red"> sum</font>(AEpsConExtWinUns) +<font color="red"> sum</font>(AEpsConExtWinSha);

  <font color="darkgreen">// Infrared radiative heat flow</font>
  <font color="darkgreen">// If a construction is not present, we assign the temperature of the connector to 20 degC.</font>
  <font color="blue">if </font>haveConExt<font color="blue"> then</font>
    conExt.Q_flow    = -fraConExt*Q_flow;
  <font color="blue">else</font>
    conExt[1].T = 293.15;
  <font color="blue">end if</font>;

  <font color="blue">if </font>haveConExtWin<font color="blue"> then</font>
    conExtWin.Q_flow = -fraConExtWinOpa*Q_flow;
  <font color="blue">else</font>
    conExtWin[1].T = 293.15;
  <font color="blue">end if</font>;

  <font color="blue">if </font>haveConPar<font color="blue"> then</font>
    conPar_a.Q_flow  = -fraConPar_a*Q_flow;
    conPar_b.Q_flow  = -fraConPar_b*Q_flow;
  <font color="blue">else</font>
    conPar_a[1].T = 293.15;
    conPar_b[1].T = 293.15;
  <font color="blue">end if</font>;

  <font color="blue">if </font>haveConBou<font color="blue"> then</font>
    conBou.Q_flow    = -fraConBou*Q_flow;
  <font color="blue">else</font>
    conBou[1].T = 293.15;
  <font color="blue">end if</font>;

  <font color="blue">if </font>haveSurBou<font color="blue"> then</font>
    conSurBou.Q_flow    = -fraSurBou*Q_flow;
  <font color="blue">else</font>
    conSurBou[1].T = 293.15;
  <font color="blue">end if</font>;

  <font color="darkgreen">// This model makes the simplification that the shade, the glass and the frame have</font>
  <font color="darkgreen">// the same absorptivity in the infrared region</font>
  JOutConExtWin        = +fraConExtWinGla*Q_flow;
  <font color="blue">if </font>haveConExtWin<font color="blue"> then</font>
     conExtWinFra.Q_flow  = -fraConExtWinFra*Q_flow;
  <font color="blue">else</font>
     conExtWinFra[1].T = 293.15;
  <font color="blue">end if</font>;

  <font color="darkgreen">// Check for conservation of energy</font>
  <font color="red">assert</font>(<font color="red">abs</font>(1 -<font color="red"> sum</font>(fraConExt) -<font color="red"> sum</font>(fraConExtWinOpa)-<font color="red"> sum</font>(fraConExtWinGla) -<font color="red"> sum</font>(fraConExtWinFra)
           -<font color="red"> sum</font>(fraConPar_a) -<font color="red"> sum</font>(fraConPar_b)
           -<font color="red"> sum</font>(fraConBou) -<font color="red"> sum</font>(fraSurBou))  &lt; 1E-5,
           &quot;Programming error: Radiation balance is wrong. Check equations.&quot;);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>InfraredRadiationGainDistribution;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE RadiationAdapter<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClass396027b42b0f60aaapterI.png" ALT="Buildings.Rooms.BaseClasses.RadiationAdapter" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.RadiationAdapter"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.RadiationAdapter</H2>
<B>Model to connect between signals and heat port for radiative gains of the room</B><p></P>
<IMG SRC="Buildings.Rooms.BaseClass396027b42b0f60aaapterD.png" ALT="Buildings.Rooms.BaseClasses.RadiationAdapter">
<P></P><H3>Information</H3>

This model can be used as a thermal adapter in situations where the temperature
and the heat flow rate are computed in separate models. 
For example, this thermal adapter is used in the room model, which computes
the distribution of radiative heat gains (such as due to a radiator) in
<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.InfraredRadiationGainDistribution"
>
Buildings.Rooms.BaseClasses.InfraredRadiationGainDistribution</a>
and computes the the radiative temperature in
<A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.RadiationTemperature"
>
Buildings.Rooms.BaseClasses.RadiationTemperature</a>.
This adapter combines the heat flow rate and the temperatures that are computed in these
separate models, and exposes these two quantities at its heat port.

<P></P>
Extends from <A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A> (Base icon).
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>rad</TD><TD>Port for radiative heat gain and radiation temperature</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TRad</TD><TD>Radiation temperature of room</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>QRad_flow</TD><TD>Radiative heat gain</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> RadiationAdapter <font color="darkgreen">
  &quot;Model to connect between signals and heat port for radiative gains of the room&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> rad <font color="darkgreen">
    &quot;Port for radiative heat gain and radiation temperature&quot;</font>;
<font color="blue">public </font>
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TRad <font color="darkgreen">&quot;Radiation temperature of room&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> QRad_flow <font color="darkgreen">&quot;Radiative heat gain&quot;</font>;</textblock>
<font color="blue">equation </font>
  QRad_flow = rad.Q_flow;
  rad.T = TRad;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>RadiationAdapter;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE RadiationTemperature<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClass0cb9284165e146d7atureI.png" ALT="Buildings.Rooms.BaseClasses.RadiationTemperature" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.RadiationTemperature"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.RadiationTemperature</H2>
<B>Radiative temperature of the room</B><p></P>
<IMG SRC="Buildings.Rooms.BaseClass0cb9284165e146d7atureD.png" ALT="Buildings.Rooms.BaseClasses.RadiationTemperature">
<P></P><H3>Information</H3>

<p>
This model computes the radiative temperature in the room.
For a room with windows but no shade, the radiative temperature is
computed as
</p>
<p align="center" style="font-style:italic;">
  T<sub>rad</sub> = &sum;<sub>i</sub> &nbsp; (A<sup>i</sup> &nbsp; &epsilon;<sup>i</sup> &nbsp; T<sup>i</sup>)
  &frasl;
  &sum;<sub>i</sub> &nbsp; (A<sup>i</sup> &nbsp; &epsilon;<sup>i</sup>)
</p>
<p>
where 
<i>T<sub>rad</sub></i> is the radiative temperature of the room,
<i>A<sup>i</sup></i> are the surface areas of the room,
<i>&epsilon;<sup>i</sup></i> are the infrared emissivities of the surfaces, and
<i>T<sup>i</sup></i> are the surface temperatures.
</p>
<p>
If a the windows have a shade, then the equation is modified to take the actual shaded and non-shaded
surface area into account. In this situation, the shaded part of a window has a infrared radiative power
of</p>
<p align="center" style="font-style:italic;">
 E = A &nbsp; ( u &nbsp; &epsilon;<sub>s</sub> &nbsp; T<sub>s</sub> + 
   (1-u) &nbsp; &epsilon;<sub>g</sub> &tau;<sub>s</sub> &nbsp; T<sub>gs</sub>)
</p>
<p>
where
<i>A</i> is the surface area of the glass,
<i>u</i> is the control signal of the shade,
<i>&epsilon;<sub>s</sub></i> is the infrared absorptivity of the shade,
<i>T<sub>s</sub></i> is the temperature of the shade,
<i>&epsilon;<sub>g</sub></i> is the infrared absorptivity of the glass,
<i>&tau;<sub>s</sub></i> is the infrared transmittance of the shade, and
<i>T<sub>gs</sub></i> is the glass temperature behind the shade.
</p>
<p>
For the unshaded part of the window, the radiative power is
</p>
<p align="center" style="font-style:italic;">
 E = A &nbsp; (1-u) &nbsp; &epsilon;<sub>g</sub> &nbsp; T<sub>gn</sub>
</p>
<p>where
<i>T<sub>gn</sub></i> is the glass temperature of the non-shaded part of the window.
</p>
<P></P>
Extends from <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative"
>Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative</A> (Partial model that is used for infrared radiation balance).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConExt[NConExt]</TD><TD>&nbsp;</TD><TD>Data for exterior construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>ParameterConstructionWithWindow</A></TD><TD>datConExtWin[NConExtWin]</TD><TD>&nbsp;</TD><TD>Data for exterior construction with window</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConPar[NConPar]</TD><TD>&nbsp;</TD><TD>Data for partition construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConBou[NConBou]</TD><TD>&nbsp;</TD><TD>Data for construction boundary</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Data_OpaqueSurfaces.html#Buildings.HeatTransfer.Data.OpaqueSurfaces.Generic"
>Generic</A></TD><TD>surBou[NSurBou]</TD><TD>&nbsp;</TD><TD>Record for data of surfaces whose heat conduction is modeled outside of this room</TD></TR>
<TR><TD>Boolean</TD><TD>haveShade</TD><TD>&nbsp;</TD><TD>Set to true if the windows have a shade</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExt</TD><TD>&nbsp;</TD><TD>Number of exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExtWin</TD><TD>&nbsp;</TD><TD>Number of window constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Partition constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConPar</TD><TD>&nbsp;</TD><TD>Number of partition constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Boundary constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConBou</TD><TD>&nbsp;</TD><TD>Number of constructions that have their outside surface exposed to the boundary of this room</TD></TR>
<TR><TD>Integer</TD><TD>nSurBou</TD><TD>&nbsp;</TD><TD>Number of surface heat transfer models that connect to constructions that are modeled outside of this room</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExt[NConExt]</TD><TD>Heat port that connects to room-side surface of exterior constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExtWin[NConExtWin]</TD><TD>Heat port that connects to room-side surface of exterior constructions that contain a window</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExtWinFra[NConExtWin]</TD><TD>Heat port that connects to room-side surface of window frame</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conPar_a[NConPar]</TD><TD>Heat port that connects to room-side surface a of partition constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conPar_b[NConPar]</TD><TD>Heat port that connects to room-side surface b of partition constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conBou[NConBou]</TD><TD>Heat port that connects to room-side surface of constructions that expose their other surface to the outside</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conSurBou[NSurBou]</TD><TD>Heat port to surfaces of models that compute the heat conduction outside of this room</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>glaUns[NConExtWin]</TD><TD>Heat port that connects to room-side surface of unshaded glass</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>glaSha[NConExtWin]</TD><TD>Heat port that connects to room-side surface of shaded glass</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>sha[NConExtWin]</TD><TD>Heat port that connects to shade</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>uSha[NConExtWin]</TD><TD>Control signal for the shading device (removed if no shade is present)</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>TRad</TD><TD>Radiative temperature [K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> RadiationTemperature <font color="darkgreen">&quot;Radiative temperature of the room&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative"
>Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative</A>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> glaUns[NConExtWin] <font color="blue">if </font>
     haveConExtWin <font color="darkgreen">
    &quot;Heat port that connects to room-side surface of unshaded glass&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> glaSha[NConExtWin] <font color="blue">if </font>
    haveShade <font color="darkgreen">&quot;Heat port that connects to room-side surface of shaded glass&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> sha[NConExtWin] <font color="blue">if </font>
    haveShade <font color="darkgreen">&quot;Heat port that connects to shade&quot;</font>;</textblock>
  <font color="blue">parameter </font>Boolean haveShade <font color="darkgreen">&quot;Set to true if the windows have a shade&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> uSha[NConExtWin](<font color="blue">each </font>min=0, <font color="blue">each </font>max=1) <font color="blue">if </font>
       haveShade <font color="darkgreen">
    &quot;Control signal for the shading device (removed if no shade is present)&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> TRad(min=0, unit=&quot;K&quot;, displayUnit=&quot;degC&quot;) <font color="darkgreen">
    &quot;Radiative temperature&quot;</font>;</textblock>

<font color="blue">protected </font>
  <font color="blue">final </font><font color="blue">parameter </font>Integer NOpa = NConExt+2*NConExtWin+2*NConPar+NConBou+NSurBou <font color="darkgreen">
    &quot;Number of opaque surfaces, including the window frame&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer NWin = NConExtWin <font color="darkgreen">&quot;Number of window surfaces&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer NTot = NOpa + NWin <font color="darkgreen">&quot;Total number of surfaces&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AGla[NWin] = datConExtWin.AGla <font color="darkgreen">
    &quot;Surface area of opaque surfaces&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real epsGla[NWin](min=0, max=1)=
    {datConExtWin[i].glaSys.glass[datConExtWin[i].glaSys.nLay].absIR_b <font color="blue">for </font>i<font color="blue"> in </font>1:NWin} <font color="darkgreen">
    &quot;Absorptivity of glass&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real epsSha[NWin](min=0, max=1)=
    {datConExtWin[i].glaSys.shade.absIR_a <font color="blue">for </font>i<font color="blue"> in </font>1:NWin} <font color="darkgreen">
    &quot;Absorptivity of shade&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real tauSha[NWin](min=0, max=1)=
    {(<font color="blue">if </font>datConExtWin[i].glaSys.haveInteriorShade<font color="blue"> then </font>
      datConExtWin[i].glaSys.shade.tauIR_a<font color="blue"> else </font>1) <font color="blue">for </font>i<font color="blue"> in </font>1:NWin} <font color="darkgreen">
    &quot;Transmissivity of shade&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> epsAOpa[NOpa](fixed=false) <font color="darkgreen">
    &quot;Product of area times absorptivity of opaque surfaces&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> epsAGla[NWin](fixed=false) <font color="darkgreen">
    &quot;Product of area times absorptivity of window surfaces&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> epsASha[NWin](fixed=false) <font color="darkgreen">
    &quot;Product of area times absorptivity of window shade&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> epsTauASha[NWin](fixed=false) <font color="darkgreen">
    &quot;Product of area times glass absorptivity times shade transmittance&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> TOpa[NOpa](<font color="blue">each </font>start=293.15, <font color="blue">each </font>nominal=293.15) <font color="darkgreen">
    &quot;Temperature of opaque surfaces&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> TGlaUns[NWin](<font color="blue">each </font>start=293.15, <font color="blue">each </font>nominal=293.15) <font color="darkgreen">
    &quot;Temperature of unshaded part of glass&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> TGlaSha[NWin](<font color="blue">each </font>start=293.15, <font color="blue">each </font>nominal=293.15) <font color="darkgreen">
    &quot;Temperature of shaded part of glass&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> TSha[NWin](<font color="blue">each </font>start=293.15, <font color="blue">each </font>nominal=293.15) <font color="darkgreen">
    &quot;Temperature of shade&quot;</font>;
  <font color="darkgreen">// Internal connectors, used because of the conditionally removed connectors</font>
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> glaUns_internal[NConExtWin] <font color="darkgreen">
    &quot;Heat port that connects to room-side surface of unshaded glass&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> glaSha_internal[NConExtWin] <font color="darkgreen">
    &quot;Heat port that connects to room-side surface of shaded glass&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> sha_internal[NConExtWin] <font color="darkgreen">
    &quot;Heat port that connects to shade&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> uSha_internal[NConExtWin](<font color="blue">each </font>min=0, <font color="blue">each </font>max=1) <font color="darkgreen">
    &quot;Control signal for the shading device&quot;</font>;

<font color="blue">initial </font><font color="blue">equation </font>
  <font color="darkgreen">// The next loops build the array epsAOpa that simplifies</font>
  <font color="darkgreen">// the model equations.</font>
  <font color="darkgreen">// The arrays stores the values of the constructios in the following order</font>
  <font color="darkgreen">// [x[1:NConExt] x[1:NConPar] x[1: NConPar] x[1: NConBou] x[1: NSurBou] x[1: NConExtWin] x[1: NConExtWin]]</font>
  <font color="darkgreen">// where x is epsOpa, AOpa or kOpa.</font>
  <font color="darkgreen">// The last two entries are for the opaque wall that contains a window, and for the window frame.</font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:NConExt<font color="blue"> loop</font>
    epsAOpa[i] = epsConExt[i] * AConExt[i];
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:NConPar<font color="blue"> loop</font>
    epsAOpa[i+NConExt]         = epsConPar_a[i] * AConPar[i];
    epsAOpa[i+NConExt+NConPar] = epsConPar_b[i] * AConPar[i];
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:NConBou<font color="blue"> loop</font>
    epsAOpa[i+NConExt+2*NConPar] = epsConBou[i] * AConBou[i];
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:NSurBou<font color="blue"> loop</font>
    epsAOpa[i+NConExt+2*NConPar+NConBou] = epsSurBou[i] * ASurBou[i];
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin<font color="blue"> loop</font>
    <font color="darkgreen">// Opaque part of construction that has a window embedded</font>
    epsAOpa[i+NConExt+2*NConPar+NConBou+NSurBou] = epsConExtWinOpa[i] * AConExtWinOpa[i];
    <font color="darkgreen">// Window frame</font>
    epsAOpa[i+NConExt+2*NConPar+NConBou+NSurBou+NConExtWin] = epsConExtWinFra[i] * AConExtWinFra[i];
  <font color="blue">end for</font>;
  <font color="darkgreen">// Window glass</font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin<font color="blue"> loop</font>
    <font color="darkgreen">// Window glass</font>
    epsAGla[i] = AGla[i] * epsGla[i];
    <font color="darkgreen">// Window shade</font>
    epsASha[i]    = AGla[i] * epsSha[i];
    <font color="darkgreen">// Emitted from glas and transmitted through window shade</font>
    epsTauASha[i] = AGla[i] * epsGla[i] * tauSha[i];
  <font color="blue">end for</font>;
<font color="darkgreen">////////////////////////////////////////////////////////////////////</font>
<font color="blue">equation </font>
  <font color="darkgreen">// Conditional connnector</font>
  <font color="red">connect</font>(glaUns, glaUns_internal);
  <font color="red">connect</font>(glaSha, glaSha_internal);
  <font color="red">connect</font>(sha, sha_internal);
  <font color="red">connect</font>(uSha, uSha_internal);
  <font color="blue">if </font><font color="blue">not </font>haveConExtWin<font color="blue"> then</font>
    glaUns_internal.T =<font color="red"> fill</font>(293.15, NConExtWin);
  <font color="blue">end if</font>;
  <font color="blue">if </font><font color="blue">not </font>haveShade<font color="blue"> then</font>
    glaSha_internal.T =<font color="red"> fill</font>(293.15, NConExtWin);
    sha_internal.T =<font color="red"> fill</font>(293.15, NConExtWin);
    uSha_internal =<font color="red"> fill</font>(0, NConExtWin);
  <font color="blue">end if</font>;

  <font color="darkgreen">// Assign temperature of opaque surfaces</font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:NConExt<font color="blue"> loop</font>
    TOpa[i] = conExt[i].T;
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:NConPar<font color="blue"> loop</font>
    TOpa[i+NConExt]         = conPar_a[i].T;
    TOpa[i+NConExt+NConPar] = conPar_b[i].T;
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:NConBou<font color="blue"> loop</font>
    TOpa[i+NConExt+2*NConPar] = conBou[i].T;
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:NSurBou<font color="blue"> loop</font>
    TOpa[i+NConExt+2*NConPar+NConBou] = conSurBou[i].T;
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin<font color="blue"> loop</font>
    TOpa[i+NConExt+2*NConPar+NConBou+NSurBou]            = conExtWin[i].T;
    TOpa[i+NConExt+2*NConPar+NConBou+NConExtWin+NSurBou] = conExtWinFra[i].T;
  <font color="blue">end for</font>;
  <font color="darkgreen">// Assign temperature of glass and shade</font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin<font color="blue"> loop</font>
    TGlaUns[i] = glaUns_internal[i].T;
    TGlaSha[i] = glaSha_internal[i].T;
    TSha[i]    = sha_internal[i].T;
  <font color="blue">end for</font>;
  <font color="darkgreen">// Compute radiative temperature</font>
  <font color="blue">if </font>haveShade<font color="blue"> then</font>
    TRad = (<font color="red">sum</font>(epsAOpa[i] * TOpa[i] <font color="blue">for </font>i<font color="blue"> in </font>1:NOpa)
        +<font color="red"> sum</font>(
      ( uSha_internal[i] * (epsASha[i] * TSha[i] + epsTauASha[i] * TGlaSha[i]) +
      (1-uSha_internal[i]) * epsAGla[i] * TGlaUns[i])
        <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin))  /
        (<font color="red">sum</font>(epsAOpa) +<font color="red"> sum</font>(
      ( uSha_internal[i] * (epsASha[i] + epsTauASha[i]) + (1-uSha_internal[i]) * epsAGla[i])
        <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin));
      <font color="blue">else</font>
    TRad = (<font color="red">sum</font>(epsAOpa[i] * TOpa[i] <font color="blue">for </font>i<font color="blue"> in </font>1:NOpa) +<font color="red"> sum</font>(epsAGla .* TGlaUns)) / (<font color="red">sum</font>(epsAOpa) +<font color="red"> sum</font>(epsAGla));
  <font color="blue">end if</font>;

  <font color="darkgreen">// Assign heat exchange to connectors</font>
  <font color="blue">if </font>haveConExt<font color="blue"> then</font>
    <font color="blue">for </font>i<font color="blue"> in </font>1:NConExt<font color="blue"> loop</font>
      0 = conExt[i].Q_flow;
    <font color="blue">end for</font>;
  <font color="blue">else</font>
      conExt[1].T = 293.15;
  <font color="blue">end if</font>;

  <font color="blue">if </font>haveConPar<font color="blue"> then</font>
    <font color="blue">for </font>i<font color="blue"> in </font>1:NConPar<font color="blue"> loop</font>
      0 = conPar_a[i].Q_flow;
      0 = conPar_b[i].Q_flow;
    <font color="blue">end for</font>;
  <font color="blue">else</font>
      conPar_a[1].T = 293.15;
      conPar_b[1].T = 293.15;
  <font color="blue">end if</font>;

  <font color="blue">if </font>haveConBou<font color="blue"> then</font>
    <font color="blue">for </font>i<font color="blue"> in </font>1:NConBou<font color="blue"> loop</font>
      0 = conBou[i].Q_flow;
    <font color="blue">end for</font>;
  <font color="blue">else</font>
     conBou[1].T = 293.15;
  <font color="blue">end if</font>;

  <font color="blue">if </font>haveSurBou<font color="blue"> then</font>
    <font color="blue">for </font>i<font color="blue"> in </font>1:NSurBou<font color="blue"> loop</font>
      0 = conSurBou[i].Q_flow;
    <font color="blue">end for</font>;
  <font color="blue">else</font>
      conSurBou[1].T = 293.15;
  <font color="blue">end if</font>;

  <font color="blue">if </font>haveConExtWin<font color="blue"> then</font>
    <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin<font color="blue"> loop</font>
      0 = conExtWin[i].Q_flow;
      0 = conExtWinFra[i].Q_flow;
    <font color="blue">end for</font>;
  <font color="blue">else</font>
      conExtWin[1].T    = 293.15;
      conExtWinFra[1].T = 293.15;
  <font color="blue">end if</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>RadiationTemperature;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SolarRadiationExchange<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClass124701a598175785hangeI.png" ALT="Buildings.Rooms.BaseClasses.SolarRadiationExchange" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.SolarRadiationExchange"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.SolarRadiationExchange</H2>
<B>Solar radiation heat exchange between the room facing surfaces</B><p></P>
<IMG SRC="Buildings.Rooms.BaseClass124701a598175785hangeD.png" ALT="Buildings.Rooms.BaseClasses.SolarRadiationExchange">
<P></P><H3>Information</H3>

<p>
This model computes the distribution of the solar radiation gain
to the room surfaces.
Let 
<i>N<sup>w</sup></i> 
denote the number of windows,
<i>N<sup>f</sup></i> 
the number of floor elements and
<i>N<sup>n</sup></i> 
the number of non-floor elements such as ceiling, wall and window elements.
Input to the model are the solar radiosities 
<i>J<sup>i</sup>, i &isin; {1, &hellip; , N<sup>w</sup>}</i>,
that were transmitted through the window.
The total incoming solar radiation is therefore
</p>
<p align="center" style="font-style:italic;">
H = &sum;<sub>i=1</sub><sup>N<sup>w</sup></sup> J<sub>in</sub><sup>i</sup>
</p>
<p>
It is assumed that <i>H</i> first hits the floor where some of it is absorbed,
and some of it is diffusely reflected to all other surfaces. Only the first 
reflection is taken into account and the location of the floor patch
relative to the window is neglected.
</p>
<p>Hence, the radiation that is 
absorbed by each floor patch <i>i &isin; {1, &hellip;, N<sup>f</sup>}</i>,
and may be partially transmitted in
the unusual case that the floor contains a window, is
</p>
<p align="center" style="font-style:italic;">
 Q<sup>i</sup> = H &nbsp; (&epsilon;<sup>i</sup>+&tau;<sup>i</sup>) &nbsp; A<sup>i</sup> 
&frasl; &sum;<sub>j=1</sub><sup>N<sup>f</sup></sup> &nbsp; A<sup>j</sup>.
</p>
The sum of the radiation that is reflected by the floor is therefore
<p align="center" style="font-style:italic;">
 J<sup>f</sup> = H &nbsp; 
&sum;<sub>i=1</sub><sup>N<sup>f</sup></sup>
(1-&epsilon;<sup>i</sup>-&tau;<sup>i</sup>) &nbsp; A<sup>i</sup> 
&frasl; &sum;<sub>j=1</sub><sup>N<sup>f</sup></sup> &nbsp; A<sup>j</sup>.
</p>
<p>
This reflected radiosity is then distributed to all non-floor areas
<i>i &isin; {1, &hellip;, N<sup>n</sup>}</i>
using</p>
<p align="center" style="font-style:italic;">
  Q<sup>i</sup> = J<sup>f</sup> &nbsp;
A<sup>i</sup> &nbsp; (&epsilon;<sup>i</sup>+&tau;<sup>i</sup>)
&frasl;
&sum;<sub>k=1</sub><sup>N<sup>n</sup></sup>
A<sup>k</sup> &nbsp; (&epsilon;<sup>k</sup>+&tau;<sup>k</sup>)
</p>
<p>
For opaque surfaces, the heat flow rate 
<i>Q<sup>i</sup></i> 
is set to be equal to the heat flow rate at the heat port.
For the glass of the windows, the heat flow rate 
<i>Q<sup>i</sup></i> is set to the radiosity
<i>J<sub>out</sub><sup>i</sup></i>
that will strike the glass or the window shade as diffuse solar
radiation.
<P></P>
Extends from <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative"
>Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative</A> (Partial model that is used for infrared radiation balance).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConExt[NConExt]</TD><TD>&nbsp;</TD><TD>Data for exterior construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>ParameterConstructionWithWindow</A></TD><TD>datConExtWin[NConExtWin]</TD><TD>&nbsp;</TD><TD>Data for exterior construction with window</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConPar[NConPar]</TD><TD>&nbsp;</TD><TD>Data for partition construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConBou[NConBou]</TD><TD>&nbsp;</TD><TD>Data for construction boundary</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Data_OpaqueSurfaces.html#Buildings.HeatTransfer.Data.OpaqueSurfaces.Generic"
>Generic</A></TD><TD>surBou[NSurBou]</TD><TD>&nbsp;</TD><TD>Record for data of surfaces whose heat conduction is modeled outside of this room</TD></TR>
<TR><TD>Boolean</TD><TD>isFloorConExt[NConExt]</TD><TD>&nbsp;</TD><TD>Flag to indicate if floor for exterior constructions</TD></TR>
<TR><TD>Boolean</TD><TD>isFloorConExtWin[NConExtWin]</TD><TD>&nbsp;</TD><TD>Flag to indicate if floor for constructions</TD></TR>
<TR><TD>Boolean</TD><TD>isFloorConPar_a[NConPar]</TD><TD>&nbsp;</TD><TD>Flag to indicate if floor for constructions</TD></TR>
<TR><TD>Boolean</TD><TD>isFloorConPar_b[NConPar]</TD><TD>&nbsp;</TD><TD>Flag to indicate if floor for constructions</TD></TR>
<TR><TD>Boolean</TD><TD>isFloorConBou[NConBou]</TD><TD>&nbsp;</TD><TD>Flag to indicate if floor for constructions with exterior boundary conditions exposed to outside of room model</TD></TR>
<TR><TD>Boolean</TD><TD>isFloorSurBou[NSurBou]</TD><TD>&nbsp;</TD><TD>Flag to indicate if floor for constructions that are modeled outside of this room</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Emissivity</A></TD><TD>tauGla[NConExtWin]</TD><TD>&nbsp;</TD><TD>Transmissivity of window [1]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExt</TD><TD>&nbsp;</TD><TD>Number of exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExtWin</TD><TD>&nbsp;</TD><TD>Number of window constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Partition constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConPar</TD><TD>&nbsp;</TD><TD>Number of partition constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Boundary constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConBou</TD><TD>&nbsp;</TD><TD>Number of constructions that have their outside surface exposed to the boundary of this room</TD></TR>
<TR><TD>Integer</TD><TD>nSurBou</TD><TD>&nbsp;</TD><TD>Number of surface heat transfer models that connect to constructions that are modeled outside of this room</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExt[NConExt]</TD><TD>Heat port that connects to room-side surface of exterior constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExtWin[NConExtWin]</TD><TD>Heat port that connects to room-side surface of exterior constructions that contain a window</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExtWinFra[NConExtWin]</TD><TD>Heat port that connects to room-side surface of window frame</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conPar_a[NConPar]</TD><TD>Heat port that connects to room-side surface a of partition constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conPar_b[NConPar]</TD><TD>Heat port that connects to room-side surface b of partition constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conBou[NConBou]</TD><TD>Heat port that connects to room-side surface of constructions that expose their other surface to the outside</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conSurBou[NSurBou]</TD><TD>Heat port to surfaces of models that compute the heat conduction outside of this room</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>HOutConExtWin[NConExtWin]</TD><TD>Outgoing solar radiation that strikes window per unit area [W/m2]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>JInConExtWin[NConExtWin]</TD><TD>Solar radiation transmitted by window per unit area [W]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> SolarRadiationExchange <font color="darkgreen">
  &quot;Solar radiation heat exchange between the room facing surfaces&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative"
>Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative</A>(
  <font color="blue">final </font>epsConExt = datConExt.layers.absSol_b,
  <font color="blue">final </font>epsConExtWinOpa = datConExtWin.layers.absSol_b,
  <font color="blue">final </font>epsConExtWinUns={(1-datConExtWin[i].glaSys.glass[datConExtWin[i].glaSys.nLay].tauSol
                     -datConExtWin[i].glaSys.glass[datConExtWin[i].glaSys.nLay].rhoSol_b) <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin},
  <font color="blue">final </font>epsConExtWinSha = {(1-datConExtWin[i].glaSys.glass[datConExtWin[i].glaSys.nLay].tauSol
                       -datConExtWin[i].glaSys.glass[datConExtWin[i].glaSys.nLay].rhoSol_b) <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin},
  <font color="blue">final </font>epsConExtWinFra = datConExtWin.glaSys.absSolFra,
  <font color="blue">final </font>epsConPar_a = datConPar.layers.absSol_a,
  <font color="blue">final </font>epsConPar_b = datConPar.layers.absSol_b,
  <font color="blue">final </font>epsConBou = datConBou.layers.absSol_b,
  <font color="blue">final </font>epsSurBou = surBou.absSol);
  <font color="darkgreen">// In the above declaration, we simplified the assignment of epsConExtWinSha.</font>
  <font color="darkgreen">// An exact formulation would need to take into account the transmission and reflection</font>
  <font color="darkgreen">// of the shade for the solar radiation that strikes the window from the room-side.</font>
  <font color="darkgreen">// The simplification leads to too low a value of epsConExtWinSha. Since epsConExtWinSha</font>
  <font color="darkgreen">// is used as a weight for how much solar radiation hits the window from the room-side,</font>
  <font color="darkgreen">// underestimating epsConExtWinSha does not seem to cause concerns. The reason is that</font>
  <font color="darkgreen">// the model assumes diffuse reflection, whereas in reality, reflection of the solar</font>
  <font color="darkgreen">// radiation at the floor is likely specular, and therefore less radiation would hit</font>
  <font color="darkgreen">// the window from the room-side.</font>
  <font color="blue">parameter </font>Boolean isFloorConExt[NConExt] <font color="darkgreen">
    &quot;Flag to indicate if floor for exterior constructions&quot;</font>;
  <font color="blue">parameter </font>Boolean isFloorConExtWin[NConExtWin] <font color="darkgreen">
    &quot;Flag to indicate if floor for constructions&quot;</font>;
  <font color="blue">parameter </font>Boolean isFloorConPar_a[NConPar] <font color="darkgreen">
    &quot;Flag to indicate if floor for constructions&quot;</font>;
  <font color="blue">parameter </font>Boolean isFloorConPar_b[NConPar] <font color="darkgreen">
    &quot;Flag to indicate if floor for constructions&quot;</font>;
  <font color="blue">parameter </font>Boolean isFloorConBou[NConBou] <font color="darkgreen">
    &quot;Flag to indicate if floor for constructions with exterior boundary conditions exposed to outside of room model&quot;</font>;
  <font color="blue">parameter </font>Boolean isFloorSurBou[NSurBou] <font color="darkgreen">
    &quot;Flag to indicate if floor for constructions that are modeled outside of this room&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</A> tauGla[NConExtWin] <font color="darkgreen">
    &quot;Transmissivity of window&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> HOutConExtWin[NConExtWin](unit=&quot;W/m2&quot;) <font color="darkgreen">
    &quot;Outgoing solar radiation that strikes window per unit area&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> JInConExtWin[NConExtWin](unit=&quot;W&quot;) <font color="darkgreen">
    &quot;Solar radiation transmitted by window per unit area&quot;</font>;</textblock>
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</A> JOutConExtWin[NConExtWin] <font color="darkgreen">
    &quot;Outgoing solar radiation that strikes the window&quot;</font>;

  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</A> HTot <font color="darkgreen">
    &quot;Total solar radiation that enters the room&quot;</font>;

<font color="blue">protected </font>
  <font color="blue">final </font><font color="blue">parameter </font>Real k1(unit=&quot;1&quot;, fixed=false) <font color="darkgreen">
    &quot;Intermediate variable for gain for solar radiation distribution&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real k2(fixed=false) <font color="darkgreen">
    &quot;Intermediate variable for gain for solar radiation distribution&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</A> Q_flow[NTot] <font color="darkgreen">
    &quot;Total solar radiation that is absorbed by the surfaces (or transmitted back through the glass)&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer NOpa = NConExt+2*NConExtWin+2*NConPar+NConBou+NSurBou <font color="darkgreen">
    &quot;Number of opaque surfaces, including the window frame&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer NWin = NConExtWin <font color="darkgreen">&quot;Number of window surfaces&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer NTot = NOpa + NWin <font color="darkgreen">&quot;Total number of surfaces&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Boolean isFlo[NTot](fixed=false) <font color="darkgreen">
    &quot;Flag, true if a surface is a floor&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real eps[NTot](min=0, max=1, fixed=false) <font color="darkgreen">
    &quot;Solar absorptivity&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real tau[NTot](min=0, max=1, fixed=false) <font color="darkgreen">
    &quot;Solar transmissivity&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AFlo(fixed=false) <font color="darkgreen">&quot;Total floor area&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> A[NTot](fixed=false) <font color="darkgreen">&quot;Surface areas&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real k[NTot](unit=&quot;1&quot;, fixed=false) <font color="darkgreen">
    &quot;Gain for solar radiation distribution&quot;</font>;

<font color="blue">initial </font><font color="blue">equation </font>
  <font color="darkgreen">// The next loops builds arrays that simplify</font>
  <font color="darkgreen">// the model equations.</font>
  <font color="darkgreen">// These arrays store the values of the constructios in the following order</font>
  <font color="darkgreen">// [x[1:NConExt] x[1:NConPar] x[1: NConPar] x[1: NConBou] x[1: NSurBou] x[1: NConExtWin] x[1: NConExtWin]]</font>
  <font color="darkgreen">// where x is epsOpa, AOpa or kOpa.</font>
  <font color="darkgreen">// The last two entries are for the opaque wall that contains a window, and for the window frame.</font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:NConExt<font color="blue"> loop</font>
    eps[i] = epsConExt[i];
    A[i]      = AConExt[i];
    isFlo[i]  = isFloorConExt[i];
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:NConPar<font color="blue"> loop</font>
    eps[i+NConExt]           = epsConPar_a[i];
    A[i+NConExt]             = AConPar[i];
    isFlo[i+NConExt]         = isFloorConPar_a[i];
    eps[i+NConExt+NConPar]   = epsConPar_b[i];
    A[i+NConExt+NConPar]     = AConPar[i];
    isFlo[i+NConExt+NConPar] = isFloorConPar_b[i];
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:NConBou<font color="blue"> loop</font>
    eps[i+NConExt+2*NConPar]   = epsConBou[i];
    A[i+NConExt+2*NConPar]     = AConBou[i];
    isFlo[i+NConExt+2*NConPar] = isFloorConBou[i];
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:NSurBou<font color="blue"> loop</font>
    eps[i+NConExt+2*NConPar+NConBou]   = epsSurBou[i];
    A[i+NConExt+2*NConPar+NConBou]     = ASurBou[i];
    isFlo[i+NConExt+2*NConPar+NConBou] = isFloorSurBou[i];
  <font color="blue">end for</font>;

  <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin<font color="blue"> loop</font>
    <font color="darkgreen">// Opaque part of construction that has a window embedded</font>
    eps[i+NConExt+2*NConPar+NConBou+NSurBou]   = epsConExtWinOpa[i];
    A[i+NConExt+2*NConPar+NConBou+NSurBou]     = AConExtWinOpa[i];
    isFlo[i+NConExt+2*NConPar+NConBou+NSurBou] = isFloorConExtWin[i];
    <font color="darkgreen">// Window frame</font>
    eps[i+NConExt+2*NConPar+NConBou+NSurBou+NConExtWin]   = epsConExtWinFra[i];
    A[i+NConExt+2*NConPar+NConBou+NSurBou+NConExtWin]     = AConExtWinFra[i];
    isFlo[i+NConExt+2*NConPar+NConBou+NSurBou+NConExtWin] = isFloorConExtWin[i];
  <font color="blue">end for</font>;
  <font color="darkgreen">// Window glass</font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin<font color="blue"> loop</font>
    <font color="darkgreen">// We simplify and assume that the shaded and unshaded part of the window</font>
    <font color="darkgreen">// have the same solar absorbtance.</font>
    <font color="darkgreen">// This simplification allows lumping the solar distribution into</font>
    <font color="darkgreen">// a parameter.</font>
    eps[i+NConExt+2*NConPar+NConBou+NSurBou+2*NConExtWin] = epsConExtWinUns[i];
    isFlo[i+NConExt+2*NConPar+NConBou+NSurBou+2*NConExtWin] = isFloorConExtWin[i];
    A[i+NConExt+2*NConPar+NConBou+NSurBou+2*NConExtWin] = AConExtWinGla[i];
  <font color="blue">end for</font>;
  <font color="darkgreen">// Vector with all surface areas.</font>
  <font color="darkgreen">// The next loops build the array A that simplifies</font>
  <font color="darkgreen">// the model equations.</font>
  <font color="darkgreen">// These array stores the values of the constructios in the following order</font>
  <font color="darkgreen">// [AOpa[1:NConExt] AOpa[1:NConPar] AOpa[1: NConPar] AOpa[1: NConBou] AOpa[1: NSurBou]</font>
  <font color="darkgreen">//  AOpa[1: NConExtWin] AOpa[1: NConExtWin] AGla[1: NConExtWin]]</font>
  <font color="darkgreen">// since NWin=NConExtWin.</font>

  <font color="darkgreen">// Solar transmissivity</font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:NOpa<font color="blue"> loop</font>
    tau[i] = 0;
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:NWin<font color="blue"> loop</font>
    tau[NOpa+i] = tauGla[i];
  <font color="blue">end for</font>;

  <font color="darkgreen">// Sum of surface areas</font>
  AFlo =<font color="red"> sum</font>( (<font color="blue">if </font>isFlo[i]<font color="blue"> then </font>A[i]<font color="blue"> else </font>0) <font color="blue">for </font>i<font color="blue"> in </font>1:NTot);

  <font color="darkgreen">// Coefficient that is used for non-floor areas.</font>
  <font color="darkgreen">// The expression  max(1E-20, AFlo) is used to prevent a division by zero in case AFlo=0.</font>
  <font color="darkgreen">// The situation for AFlo=0 is caught by the assert statement.</font>
  k1 =<font color="red"> sum</font>( ( <font color="blue">if </font>isFlo[i]<font color="blue"> then </font>(A[i] * (1-eps[i]-tau[i]))<font color="blue"> else </font>0)  <font color="blue">for </font>i<font color="blue"> in </font>1:NTot) /<font color="red"> max</font>(1E-20, AFlo);

  k2 =<font color="red"> sum</font>( ( <font color="blue">if </font>isFlo[i]<font color="blue"> then </font>0<font color="blue"> else </font>(A[i] * (eps[i]+tau[i])))  <font color="blue">for </font>i<font color="blue"> in </font>1:NTot);

  <font color="blue">if </font>( k2 &gt; 1E-10)<font color="blue"> then</font>
    <font color="blue">for </font>i<font color="blue"> in </font>1:NTot<font color="blue"> loop</font>
      <font color="blue">if </font>isFlo[i]<font color="blue"> then</font>
         k[i] = (eps[i]+tau[i]) * A[i] / AFlo;
      <font color="blue">else</font>
         k[i] = k1/k2*(eps[i]+tau[i]) * A[i];
      <font color="blue">end if</font>;
     <font color="blue">end for</font>;
  <font color="blue">else</font>
    <font color="darkgreen">    // This branch only happens if k2=0, i.e., there is no surface other than floors</font>
    <font color="blue">for </font>i<font color="blue"> in </font>1:NTot<font color="blue"> loop</font>
      <font color="blue">if </font>isFlo[i]<font color="blue"> then</font>
        k[i] = A[i] / AFlo;
      <font color="blue">else</font>
        k[i] = 0;
      <font color="blue">end if</font>;
    <font color="blue">end for</font>;
  <font color="blue">end if</font>;

  <font color="darkgreen">// Test whether there is a floor inside this room</font>
  <font color="red">assert</font>( AFlo &gt; 1E-10,
     &quot;Error in parameters of the room model: The geometry is incorrect:\n&quot; +
     &quot;    The room model must have a construction that is a floor,\n&quot; +
     &quot;    and this construction must not have a window.\n&quot; +
     &quot;    The parameters for the room model are such that there is no such construction.\n&quot; +
     &quot;    Revise the model parameters.&quot;);
  <font color="darkgreen">// Test whether the distribution factors add up to one</font>
  <font color="red">assert</font>(<font color="red">abs</font>(1-<font color="red">sum</font>(k)) &lt; 1E-5,
     &quot;Program error: Sum of solar distribution factors in room is not equal to one. k=&quot; +<font color="red"> String</font>(<font color="red">sum</font>(k)));

<font color="darkgreen">////////////////////////////////////////////////////////////////////</font>
<font color="blue">equation </font>
  <font color="darkgreen">// Incoming radiation</font>
  HTot =<font color="red"> sum</font>(JInConExtWin);
  <font color="darkgreen">// Radiation that is absorbed by the surfaces</font>
  Q_flow = -k .* HTot;
  <font color="darkgreen">// Assign heat exchange to connectors</font>
  <font color="blue">if </font>haveConExt<font color="blue"> then</font>
    <font color="blue">for </font>i<font color="blue"> in </font>1:NConExt<font color="blue"> loop</font>
      Q_flow[i] = conExt[i].Q_flow;
    <font color="blue">end for</font>;
  <font color="blue">else</font>
    conExt[1].T = 293.15;
  <font color="blue">end if</font>;

  <font color="blue">if </font>haveConPar<font color="blue"> then</font>
    <font color="blue">for </font>i<font color="blue"> in </font>1:NConPar<font color="blue"> loop</font>
      Q_flow[i+NConExt]         = conPar_a[i].Q_flow;
      Q_flow[i+NConExt+NConPar] = conPar_b[i].Q_flow;
    <font color="blue">end for</font>;
  <font color="blue">else</font>
      conPar_a[1].T = 293.15;
      conPar_b[1].T = 293.15;
  <font color="blue">end if</font>;

  <font color="blue">if </font>haveConBou<font color="blue"> then</font>
    <font color="blue">for </font>i<font color="blue"> in </font>1:NConBou<font color="blue"> loop</font>
      Q_flow[i+NConExt+2*NConPar] = conBou[i].Q_flow;
    <font color="blue">end for</font>;
  <font color="blue">else</font>
    conBou[1].T = 293.15;
  <font color="blue">end if</font>;

  <font color="blue">if </font>haveSurBou<font color="blue"> then</font>
    <font color="blue">for </font>i<font color="blue"> in </font>1:NSurBou<font color="blue"> loop</font>
      Q_flow[i+NConExt+2*NConPar+NConBou] = conSurBou[i].Q_flow;
     <font color="blue">end for</font>;
  <font color="blue">else</font>
      conSurBou[1].T = 293.15;
  <font color="blue">end if</font>;

  <font color="blue">if </font>haveConExtWin<font color="blue"> then</font>
    <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin<font color="blue"> loop</font>
      Q_flow[i+NConExt+2*NConPar+NConBou+NSurBou]            = conExtWin[i].Q_flow;
      Q_flow[i+NConExt+2*NConPar+NConBou+NSurBou+NConExtWin] = conExtWinFra[i].Q_flow;
    <font color="blue">end for</font>;
  <font color="blue">else</font>
    conExtWin[1].T    = 293.15;
    conExtWinFra[1].T = 293.15;
  <font color="blue">end if</font>;
  <font color="darkgreen">// Windows</font>
  <font color="blue">for </font>j<font color="blue"> in </font>1:NWin<font color="blue"> loop</font>
    Q_flow[j+NOpa] = JOutConExtWin[j];
    HOutConExtWin[j] = <font color="blue">if </font>(AConExtWinGla[j] &gt; 1E-10)<font color="blue"> then </font>JOutConExtWin[j] / AConExtWinGla[j]<font color="blue"> else </font>0;
  <font color="blue">end for</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>SolarRadiationExchange;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialSurfaceInterface<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClassfed177a79783e66erfaceI.png" ALT="Buildings.Rooms.BaseClasses.PartialSurfaceInterface" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.PartialSurfaceInterface"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.PartialSurfaceInterface</H2>
<B>Partial model that is used for infrared radiation balance</B><p></P>
<IMG SRC="Buildings.Rooms.BaseClassfed177a79783e66erfaceD.png" ALT="Buildings.Rooms.BaseClasses.PartialSurfaceInterface">
<P></P><H3>Information</H3>

<p>
This partial model is used as a base class for models that need to exchange
heat with room-facing surfaces. It defines parameters for the surface areas.
The model is used as a base class to implement the convective model, and the various
radiation models.
</p>
<P></P>
Extends from <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ConstructionRecords"
>Buildings.Rooms.BaseClasses.ConstructionRecords</A> (Data records for construction data).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConExt[NConExt]</TD><TD>&nbsp;</TD><TD>Data for exterior construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>ParameterConstructionWithWindow</A></TD><TD>datConExtWin[NConExtWin]</TD><TD>&nbsp;</TD><TD>Data for exterior construction with window</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConPar[NConPar]</TD><TD>&nbsp;</TD><TD>Data for partition construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConBou[NConBou]</TD><TD>&nbsp;</TD><TD>Data for construction boundary</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Data_OpaqueSurfaces.html#Buildings.HeatTransfer.Data.OpaqueSurfaces.Generic"
>Generic</A></TD><TD>surBou[NSurBou]</TD><TD>&nbsp;</TD><TD>Record for data of surfaces whose heat conduction is modeled outside of this room</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExt</TD><TD>&nbsp;</TD><TD>Number of exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExtWin</TD><TD>&nbsp;</TD><TD>Number of window constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Partition constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConPar</TD><TD>&nbsp;</TD><TD>Number of partition constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Boundary constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConBou</TD><TD>&nbsp;</TD><TD>Number of constructions that have their outside surface exposed to the boundary of this room</TD></TR>
<TR><TD>Integer</TD><TD>nSurBou</TD><TD>&nbsp;</TD><TD>Number of surface heat transfer models that connect to constructions that are modeled outside of this room</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExt[NConExt]</TD><TD>Heat port that connects to room-side surface of exterior constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExtWin[NConExtWin]</TD><TD>Heat port that connects to room-side surface of exterior constructions that contain a window</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExtWinFra[NConExtWin]</TD><TD>Heat port that connects to room-side surface of window frame</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conPar_a[NConPar]</TD><TD>Heat port that connects to room-side surface a of partition constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conPar_b[NConPar]</TD><TD>Heat port that connects to room-side surface b of partition constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conBou[NConBou]</TD><TD>Heat port that connects to room-side surface of constructions that expose their other surface to the outside</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conSurBou[NSurBou]</TD><TD>Heat port to surfaces of models that compute the heat conduction outside of this room</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">partial </font><font color="blue">model</font> PartialSurfaceInterface <font color="darkgreen">
  &quot;Partial model that is used for infrared radiation balance&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ConstructionRecords"
>Buildings.Rooms.BaseClasses.ConstructionRecords</A>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> conExt[NConExt] <font color="darkgreen">
    &quot;Heat port that connects to room-side surface of exterior constructions&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> conExtWin[NConExtWin] <font color="darkgreen">
    &quot;Heat port that connects to room-side surface of exterior constructions that contain a window&quot;</font>;
    </textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> conExtWinFra[NConExtWin] <font color="darkgreen">
    &quot;Heat port that connects to room-side surface of window frame&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> conPar_a[NConPar] <font color="darkgreen">
    &quot;Heat port that connects to room-side surface a of partition constructions&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> conPar_b[NConPar] <font color="darkgreen">
    &quot;Heat port that connects to room-side surface b of partition constructions&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> conBou[NConBou] <font color="darkgreen">
    &quot;Heat port that connects to room-side surface of constructions that expose their other surface to the outside&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> conSurBou[NSurBou] <font color="darkgreen">
    &quot;Heat port to surfaces of models that compute the heat conduction outside of this room&quot;</font>;
    </textblock>
<font color="blue">protected </font>
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AConExt[NConExt] = datConExt.A <font color="darkgreen">
    &quot;Areas of exterior constructions&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AConExtWinOpa[NConExtWin] = datConExtWin.AOpa <font color="darkgreen">
    &quot;Opaque areas of exterior construction that have a window&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AConExtWinGla[NConExtWin] = (1 .- datConExtWin.fFra) .* datConExtWin.AWin <font color="darkgreen">
    &quot;Glass areas of exterior construction that have a window&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AConExtWinFra[NConExtWin] = datConExtWin.fFra .* datConExtWin.AWin <font color="darkgreen">
    &quot;Frame areas of exterior construction that have a window&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AConPar[NConPar] = datConPar.A <font color="darkgreen">
    &quot;Areas of partition constructions&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AConBou[NConBou] = datConBou.A <font color="darkgreen">
    &quot;Areas of constructions with exterior boundary conditions exposed to outside of room model&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> ASurBou[NSurBou] = surBou.A <font color="darkgreen">
    &quot;Area of surface models of constructions that are modeled outside of this room&quot;</font>;

<font color="blue">protected </font>
  <textblock type="model" expanded="false" path="Buildings.Rooms.BaseClasses.PartialSurfaceInterface.checkSurfaceAreas"><font color="blue">function</font> checkSurfaceAreas
    <font color="blue">input </font>Integer n <font color="darkgreen">&quot;Number of surfaces&quot;</font>;
    <font color="blue">input </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> A[:] <font color="darkgreen">&quot;Surface areas&quot;</font>;
    <font color="blue">input </font>String name <font color="darkgreen">&quot;Name of the surface data record, used in error message&quot;</font>;
  <font color="blue">algorithm </font>
    <font color="blue">if </font>n == 0<font color="blue"> then</font>
      <font color="red">assert</font>(<font color="red">Modelica.Math.Vectors.norm</font>(v=A, p=1) &lt; 1E-10,
      &quot;Error in declaration of room model: Construction record &#39;&quot; +
      name +
      &quot;&#39; has the following areas: &quot; +
      <font color="red">Modelica.Math.Vectors.toString</font>(A) +
      &quot;However, the room model is declared as having zero surfaces.
Check the parameters of the room model.&quot;);
    <font color="blue">else</font>
      <font color="blue">for </font>i<font color="blue"> in </font>1:n<font color="blue"> loop</font>
        <font color="red">assert</font>(A[i] &gt; 0, &quot;Error in declaration of room model: Construction record &#39;&quot; + name + &quot;&#39; has the following areas: &quot; +
      <font color="red">Modelica.Math.Vectors.toString</font>(A) +
      &quot;However, the surface areas must be bigger than zero.
Check the parameters of the room model.&quot;);
      <font color="blue">end for</font>;
    <font color="blue">end if</font>;
  <font color="blue">end </font>checkSurfaceAreas</textblock>;
<font color="blue">initial </font><font color="blue">algorithm </font>
  <font color="red">checkSurfaceAreas</font>(nConExt,    datConExt.A,       &quot;datConExt&quot;);
  <font color="red">checkSurfaceAreas</font>(nConExtWin, datConExtWin.AWin, &quot;datConExtWin&quot;);
  <font color="red">checkSurfaceAreas</font>(nConPar,    datConPar.A,       &quot;datConPar&quot;);
  <font color="red">checkSurfaceAreas</font>(nConBou,    datConBou.A,       &quot;datConBou&quot;);
  <font color="red">checkSurfaceAreas</font>(nSurBou,    surBou.A,          &quot;surBou&quot;);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>PartialSurfaceInterface;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialSurfaceInterfaceRadiative<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClassfed177a79783e66erfaceI.png" ALT="Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.PartialSurfaceInterfaceRadiative</H2>
<B>Partial model that is used for infrared radiation balance</B><p></P>
<IMG SRC="Buildings.Rooms.BaseClassfed177a79783e66erfaceD.png" ALT="Buildings.Rooms.BaseClasses.PartialSurfaceInterfaceRadiative">
<P></P><H3>Information</H3>

<p>
This partial model is used as a base class for models that need to exchange
heat with room-facing surfaces by radiation. It declares parameters that are
needed for the radiative balance.
</p>
<P></P>
Extends from <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialSurfaceInterface"
>Buildings.Rooms.BaseClasses.PartialSurfaceInterface</A> (Partial model that is used for infrared radiation balance).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConExt[NConExt]</TD><TD>&nbsp;</TD><TD>Data for exterior construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>ParameterConstructionWithWindow</A></TD><TD>datConExtWin[NConExtWin]</TD><TD>&nbsp;</TD><TD>Data for exterior construction with window</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConPar[NConPar]</TD><TD>&nbsp;</TD><TD>Data for partition construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConBou[NConBou]</TD><TD>&nbsp;</TD><TD>Data for construction boundary</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Data_OpaqueSurfaces.html#Buildings.HeatTransfer.Data.OpaqueSurfaces.Generic"
>Generic</A></TD><TD>surBou[NSurBou]</TD><TD>&nbsp;</TD><TD>Record for data of surfaces whose heat conduction is modeled outside of this room</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExt</TD><TD>&nbsp;</TD><TD>Number of exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExtWin</TD><TD>&nbsp;</TD><TD>Number of window constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Partition constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConPar</TD><TD>&nbsp;</TD><TD>Number of partition constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Boundary constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConBou</TD><TD>&nbsp;</TD><TD>Number of constructions that have their outside surface exposed to the boundary of this room</TD></TR>
<TR><TD>Integer</TD><TD>nSurBou</TD><TD>&nbsp;</TD><TD>Number of surface heat transfer models that connect to constructions that are modeled outside of this room</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExt[NConExt]</TD><TD>Heat port that connects to room-side surface of exterior constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExtWin[NConExtWin]</TD><TD>Heat port that connects to room-side surface of exterior constructions that contain a window</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conExtWinFra[NConExtWin]</TD><TD>Heat port that connects to room-side surface of window frame</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conPar_a[NConPar]</TD><TD>Heat port that connects to room-side surface a of partition constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conPar_b[NConPar]</TD><TD>Heat port that connects to room-side surface b of partition constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conBou[NConBou]</TD><TD>Heat port that connects to room-side surface of constructions that expose their other surface to the outside</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>conSurBou[NSurBou]</TD><TD>Heat port to surfaces of models that compute the heat conduction outside of this room</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">partial </font><font color="blue">model</font> PartialSurfaceInterfaceRadiative <font color="darkgreen">
  &quot;Partial model that is used for infrared radiation balance&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialSurfaceInterface"
>Buildings.Rooms.BaseClasses.PartialSurfaceInterface</A>;

<font color="blue">protected </font>
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</A> epsConExt[NConExt] = datConExt.layers.absIR_b <font color="darkgreen">
    &quot;Absorptivity of exterior constructions&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</A> epsConExtWinOpa[NConExtWin] = datConExtWin.layers.absIR_b <font color="darkgreen">
    &quot;Absorptivity of opaque part of exterior constructions that contain a window&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</A> epsConExtWinUns[NConExtWin]=
    {(datConExtWin[i].glaSys.glass[datConExtWin[i].glaSys.nLay].absIR_b) <font color="blue">for </font>i<font color="blue"> in </font>1:NConExtWin} <font color="darkgreen">
    &quot;Absorptivity of unshaded part of window constructions&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</A> epsConExtWinSha[NConExtWin] = datConExtWin.glaSys.shade.absIR_a <font color="darkgreen">
    &quot;Absorptivity of shaded part of window constructions&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</A> epsConExtWinFra[NConExtWin] = datConExtWin.glaSys.absIRFra <font color="darkgreen">
    &quot;Absorptivity of window frame&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</A> epsConPar_a[NConPar] = datConPar.layers.absIR_a <font color="darkgreen">
    &quot;Absorptivity of partition constructions surface a&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</A> epsConPar_b[NConPar] = datConPar.layers.absIR_b <font color="darkgreen">
    &quot;Absorptivity of partition constructions surface b&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</A> epsConBou[NConBou] = datConBou.layers.absIR_b <font color="darkgreen">
    &quot;Absorptivity of constructions with exterior boundary conditions exposed to outside of room model&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</A> epsSurBou[NSurBou] = surBou.absIR <font color="darkgreen">
    &quot;Absorptivity of surface models of constructions that are modeled outside of this room&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>PartialSurfaceInterfaceRadiative;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SkyRadiationExchange<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClassfb194bf94115eed8hangeI.png" ALT="Buildings.Rooms.BaseClasses.SkyRadiationExchange" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.SkyRadiationExchange"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.SkyRadiationExchange</H2>
<B>Radiative heat exchange with the sky and the ambient</B><p></P>
<IMG SRC="Buildings.Rooms.BaseClassfb194bf94115eed8hangeD.png" ALT="Buildings.Rooms.BaseClasses.SkyRadiationExchange">
<P></P><H3>Information</H3>

This model computes the infrared radiative heat flow 
between exterior building surfaces and the ambient. The ambient consists
of the sky black-body radiation and the outdoor temperature 
(which is used as an approximation to the surface temperature of
the ground and neighboring buildings).
<P></P>
Extends from <A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A> (Base icon).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>&nbsp;</TD><TD>Number of constructions</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>A[n]</TD><TD>&nbsp;</TD><TD>Area of exterior constructions [m2]</TD></TR>
<TR><TD>Real</TD><TD>vieFacSky[n]</TD><TD>&nbsp;</TD><TD>View factor to sky (=1 for roofs)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Emissivity</A></TD><TD>absIR[n]</TD><TD>&nbsp;</TD><TD>Infrared absorptivity of building surface [1]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>port[n]</TD><TD>Heat port</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TOut</TD><TD>Outside air temperature [K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TBlaSky</TD><TD>Black body sky temperature [K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> SkyRadiationExchange <font color="darkgreen">
  &quot;Radiative heat exchange with the sky and the ambient&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</A>;
  <font color="blue">parameter </font>Integer n(min=1) <font color="darkgreen">&quot;Number of constructions&quot;</font>;
   <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> A[n] <font color="darkgreen">&quot;Area of exterior constructions&quot;</font>;
  <font color="blue">parameter </font>Real vieFacSky[n](min=0, max=1) <font color="darkgreen">&quot;View factor to sky (=1 for roofs)&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</A> absIR[n] <font color="darkgreen">
    &quot;Infrared absorptivity of building surface&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> port[n] <font color="darkgreen">&quot;Heat port&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TOut(<font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
                                            <font color="blue">final </font>unit = &quot;K&quot;, min=0) <font color="darkgreen">
    &quot;Outside air temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TBlaSky(
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;K&quot;,
    min=0) <font color="darkgreen">&quot;Black body sky temperature&quot;</font>;</textblock>
<font color="blue">protected </font>
  <font color="blue">parameter </font>Real k[n](unit=&quot;W/K4&quot;) = {4*A[i]*Modelica.Constants.sigma*absIR[i] <font color="blue">for </font>i<font color="blue"> in </font>1:n} <font color="darkgreen">
    &quot;Constant for radiative heat exchange&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> TEnv[n] <font color="darkgreen">&quot;Environment temperature&quot;</font>;
  Real TBlaSky4(unit=&quot;K4&quot;) <font color="darkgreen">&quot;Auxiliary variable for radiative heat exchange&quot;</font>;
  Real TOut4(unit=&quot;K4&quot;) <font color="darkgreen">&quot;Auxiliary variable for radiative heat exchange&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>Modelica.SIunits.CoefficientOfHeatTransfer</A> h[n] <font color="darkgreen">
    &quot;Radiative heat transfer coefficient&quot;</font>;

<font color="blue">equation </font>
  TBlaSky4 = TBlaSky^4;
  TOut4 = TOut^4;
  <font color="blue">for </font>i<font color="blue"> in </font>1:n<font color="blue"> loop</font>
    TEnv[i] = (vieFacSky[i] * TBlaSky4 + (1-vieFacSky[i]) * TOut4)^(0.25);
    <font color="darkgreen">// h[i] uses TEnv[i] instead of (port[i].T+TEnv[i])/2 to avoid</font>
    <font color="darkgreen">// a nonlinear equation system</font>
    h[i]  = k[i] * TEnv[i]^3;
    port[i].Q_flow = h[i] * (port[i].T-TEnv[i]);
  <font color="blue">end for</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>SkyRadiationExchange;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ConstructionNumbers<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Rooms.BaseClasses.ConstructionNumbers"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.ConstructionNumbers</H2>
<B>Data records for construction data</B><p></P>
<P></P><H3>Information</H3>

<p>
Record that defines the number of constructions that are 
used in the room model.
</p>
<p>
This record also declares parameters that contain the number of constructions,
such as the number of exterior constructions <code>nConExt</code>. 
This parameter may take on the value <code>0</code>. 
If this parameter were to be used to declare the size of vectors of
component models, then there may be vectors with zero components.
This can cause problems in Dymola 7.4. 
Therefore, a parameter is declared in the form
</p>
<pre>
  NConExt = max(1, nConExt)
</pre>
<p>This parameter is the used by models that extend this model
to set the size of the vector of component models.</p>
<p>
There are also parameters that can be used to conditionally remove components,
such as <code>haveConExt</code>, which is set to
</p>
<pre>
  haveConExt = nConExt > 0;
</pre>
<P></P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExt</TD><TD>&nbsp;</TD><TD>Number of exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExtWin</TD><TD>&nbsp;</TD><TD>Number of window constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Partition constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConPar</TD><TD>&nbsp;</TD><TD>Number of partition constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Boundary constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConBou</TD><TD>&nbsp;</TD><TD>Number of constructions that have their outside surface exposed to the boundary of this room</TD></TR>
<TR><TD>Integer</TD><TD>nSurBou</TD><TD>&nbsp;</TD><TD>Number of surface heat transfer models that connect to constructions that are modeled outside of this room</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">record</font> ConstructionNumbers <font color="darkgreen">&quot;Data records for construction data&quot;</font>

  <font color="darkgreen">////////////////////////////////////////////////////////////////////////</font>
  <font color="darkgreen">// Number of constructions and surface areas</font>
  <font color="blue">parameter </font>Integer nConExt(min=0) <font color="darkgreen">&quot;Number of exterior constructions&quot;</font>;
  <font color="blue">parameter </font>Integer nConExtWin(min=0) <font color="darkgreen">&quot;Number of window constructions&quot;</font>;

  <font color="blue">parameter </font>Integer nConPar(min=0) <font color="darkgreen">&quot;Number of partition constructions&quot;</font>;

  <font color="blue">parameter </font>Integer nConBou(min=0) <font color="darkgreen">
    &quot;Number of constructions that have their outside surface exposed to the boundary of this room&quot;</font>;

  <font color="blue">parameter </font>Integer nSurBou(min=0) <font color="darkgreen">
    &quot;Number of surface heat transfer models that connect to constructions that are modeled outside of this room&quot;</font>;

  <font color="darkgreen">// Dimensions of components and connectors</font>
  <font color="blue">final </font><font color="blue">parameter </font>Integer NConExt(min=1) =<font color="red"> max</font>(1, nConExt) <font color="darkgreen">
    &quot;Number of elements for exterior constructions&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font>Integer NConExtWin(min=1)=<font color="red">max</font>(1, nConExtWin) <font color="darkgreen">
    &quot;Number of elements for exterior constructions with windows&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font>Integer NConPar(min=1)=<font color="red">max</font>(1, nConPar) <font color="darkgreen">
    &quot;Number of elements for partition constructions&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font>Integer NConBou(min=1)=<font color="red">max</font>(1, nConBou) <font color="darkgreen">
    &quot;Number of elements for constructions that have their outside surface exposed to the boundary of this room&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font>Integer NSurBou(min=1)=<font color="red">max</font>(1, nSurBou) <font color="darkgreen">
    &quot;Number of elements for surface heat transfer models that connect to constructions that are modeled outside of this room&quot;</font>;

  <font color="darkgreen">// Flags to conditionally remove components</font>
  <font color="blue">final </font><font color="blue">parameter </font>Boolean haveConExt = nConExt &gt; 0 <font color="darkgreen">
    &quot;Flag to conditionally remove components&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Boolean haveConExtWin = nConExtWin &gt; 0 <font color="darkgreen">
    &quot;Flag to conditionally remove components&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Boolean haveConPar = nConPar &gt; 0 <font color="darkgreen">
    &quot;Flag to conditionally remove components&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Boolean haveConBou = nConBou &gt; 0 <font color="darkgreen">
    &quot;Flag to conditionally remove components&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Boolean haveSurBou = nSurBou &gt; 0 <font color="darkgreen">
    &quot;Flag to conditionally remove components&quot;</font>;
<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>ConstructionNumbers;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ConstructionRecords<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Rooms.BaseClasses.ConstructionRecords"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.ConstructionRecords</H2>
<B>Data records for construction data</B><p></P>
<IMG SRC="Buildings.Rooms.BaseClass7a7debdf919d9749cordsD.png" ALT="Buildings.Rooms.BaseClasses.ConstructionRecords">
<P></P><H3>Information</H3>

<p>
Record that defines the number of constructions that are
used in the room model.
</p>
<P></P>
Extends from <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ConstructionNumbers"
>Buildings.Rooms.BaseClasses.ConstructionNumbers</A> (Data records for construction data).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConExt[NConExt]</TD><TD>&nbsp;</TD><TD>Data for exterior construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>ParameterConstructionWithWindow</A></TD><TD>datConExtWin[NConExtWin]</TD><TD>&nbsp;</TD><TD>Data for exterior construction with window</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConPar[NConPar]</TD><TD>&nbsp;</TD><TD>Data for partition construction</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A></TD><TD>datConBou[NConBou]</TD><TD>&nbsp;</TD><TD>Data for construction boundary</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Data_OpaqueSurfaces.html#Buildings.HeatTransfer.Data.OpaqueSurfaces.Generic"
>Generic</A></TD><TD>surBou[NSurBou]</TD><TD>&nbsp;</TD><TD>Record for data of surfaces whose heat conduction is modeled outside of this room</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExt</TD><TD>&nbsp;</TD><TD>Number of exterior constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConExtWin</TD><TD>&nbsp;</TD><TD>Number of window constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Partition constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConPar</TD><TD>&nbsp;</TD><TD>Number of partition constructions</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Boundary constructions</TD></TR>
<TR><TD>Integer</TD><TD>nConBou</TD><TD>&nbsp;</TD><TD>Number of constructions that have their outside surface exposed to the boundary of this room</TD></TR>
<TR><TD>Integer</TD><TD>nSurBou</TD><TD>&nbsp;</TD><TD>Number of surface heat transfer models that connect to constructions that are modeled outside of this room</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">record</font> ConstructionRecords <font color="darkgreen">&quot;Data records for construction data&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ConstructionNumbers"
>Buildings.Rooms.BaseClasses.ConstructionNumbers</A>;

<textblock type="annotcomp" expanded="false">  <font color="blue">parameter </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>ParameterConstruction</A> datConExt[NConExt](
    <font color="blue">each </font>A=0,
    <font color="blue">redeclare </font><A HREF="Buildings_HeatTransfer_Data_OpaqueConstructions.html#Buildings.HeatTransfer.Data.OpaqueConstructions.Brick120"
>Buildings.HeatTransfer.Data.OpaqueConstructions.Brick120</A> layers,
    <font color="blue">each </font>til=0,
    <font color="blue">each </font>azi=0) <font color="darkgreen">&quot;Data for exterior construction&quot;</font>;
  <font color="blue">parameter </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow</A>
    datConExtWin[NConExtWin](
    <font color="blue">each </font>A=0,
    <font color="blue">redeclare </font><A HREF="Buildings_HeatTransfer_Data_OpaqueConstructions.html#Buildings.HeatTransfer.Data.OpaqueConstructions.Brick120"
>Buildings.HeatTransfer.Data.OpaqueConstructions.Brick120</A> layers,
    <font color="blue">each </font>til=0,
    <font color="blue">each </font>azi=0,
    <font color="blue">each </font>hWin=0,
    <font color="blue">each </font>wWin=0,
    <font color="blue">redeclare </font><A HREF="Buildings_HeatTransfer_Data_GlazingSystems.html#Buildings.HeatTransfer.Data.GlazingSystems.SingleClear3"
>Buildings.HeatTransfer.Data.GlazingSystems.SingleClear3</A> glaSys) <font color="darkgreen">
    &quot;Data for exterior construction with window&quot;</font>;
  <font color="blue">parameter </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>Buildings.Rooms.BaseClasses.ParameterConstruction</A> datConPar[
              NConPar](
    <font color="blue">each </font>A=0,
    <font color="blue">redeclare </font><A HREF="Buildings_HeatTransfer_Data_OpaqueConstructions.html#Buildings.HeatTransfer.Data.OpaqueConstructions.Brick120"
>Buildings.HeatTransfer.Data.OpaqueConstructions.Brick120</A> layers,
    <font color="blue">each </font>til=0,
    <font color="blue">each </font>azi=0) <font color="darkgreen">&quot;Data for partition construction&quot;</font>;
  <font color="blue">parameter </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstruction"
>Buildings.Rooms.BaseClasses.ParameterConstruction</A> datConBou[NConBou](
    <font color="blue">each </font>A=0,
    <font color="blue">redeclare </font><A HREF="Buildings_HeatTransfer_Data_OpaqueConstructions.html#Buildings.HeatTransfer.Data.OpaqueConstructions.Brick120"
>Buildings.HeatTransfer.Data.OpaqueConstructions.Brick120</A> layers,
    <font color="blue">each </font>til=0,
    <font color="blue">each </font>azi=0) <font color="darkgreen">&quot;Data for construction boundary&quot;</font>;
  <font color="blue">parameter </font><A HREF="Buildings_HeatTransfer_Data_OpaqueSurfaces.html#Buildings.HeatTransfer.Data.OpaqueSurfaces.Generic"
>Buildings.HeatTransfer.Data.OpaqueSurfaces.Generic</A> surBou[
                                    NSurBou](<font color="blue">each </font>A=0, <font color="blue">each </font>til=0) <font color="darkgreen">
    &quot;Record for data of surfaces whose heat conduction is modeled outside of this room&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>ConstructionRecords;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Overhang<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Rooms.BaseClasses.Overhang"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.Overhang</H2>
<B>Record for window overhang</B><p></P>
<P></P><H3>Information</H3>

<p>
This record declares parameters for window overhangs.
</p>
<p>
See 
<A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.Overhang"
>
Buildings.HeatTransfer.Windows.Overhang</a>
for an explanation of the parameters, and
for the assumptions and limitations
of the overhang model.
</p>
<P></P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Overhang</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>wL</TD><TD>&nbsp;</TD><TD>Overhang width left to the window, measured from the window corner [m]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>wR</TD><TD>&nbsp;</TD><TD>Overhang width right to the window, measured from the window corner [m]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dep</TD><TD>&nbsp;</TD><TD>Overhang depth (measured perpendicular to the wall plane) [m]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>gap</TD><TD>&nbsp;</TD><TD>Distance between window upper edge and overhang lower edge [m]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">record</font> Overhang <font color="darkgreen">&quot;Record for window overhang&quot;</font>

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> wL(min=0) <font color="darkgreen">
    &quot;Overhang width left to the window, measured from the window corner&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> wR(min=0) <font color="darkgreen">
    &quot;Overhang width right to the window, measured from the window corner&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> dep(min=0) <font color="darkgreen">
    &quot;Overhang depth (measured perpendicular to the wall plane)&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> gap(min=0) <font color="darkgreen">
    &quot;Distance between window upper edge and overhang lower edge&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font>Boolean haveOverhang= dep &gt; Modelica.Constants.eps <font color="darkgreen">
    &quot;Flag, true if the window has an overhang&quot;</font>;

<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>Overhang;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ParameterConstructionWithWindow<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClass9e633c7ec4500d5eindowI.png" ALT="Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.ParameterConstructionWithWindow</H2>
<B>Record for exterior constructions that have a window</B><p></P>
<IMG SRC="Buildings.Rooms.BaseClass9e633c7ec4500d5eindowD.png" ALT="Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow">
<P></P><H3>Information</H3>

<p>
This data record is used to set the parameters of constructions that do have a window.
</p>
<p>
The surface azimuth is defined in 
<A HREF="Buildings_HeatTransfer_Types_Azimuth.html#Buildings.HeatTransfer.Types.Azimuth"
>
Buildings.HeatTransfer.Types.Azimuth</a>
and the surface tilt is defined in <A HREF="Buildings_HeatTransfer_Types_Tilt.html#Buildings.HeatTransfer.Types.Tilt"
>
Buildings.HeatTransfer.Types.Tilt</a>
</p>
<P></P>
Extends from <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialParameterConstruction"
>Buildings.Rooms.BaseClasses.PartialParameterConstruction</A> (Partial record for constructions).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>til</TD><TD>&nbsp;</TD><TD>Surface tilt [rad]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>azi</TD><TD>&nbsp;</TD><TD>Surface azimuth [rad]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>A</TD><TD>&nbsp;</TD><TD>Heat transfer area of opaque construction and window combined [m2]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Opaque construction</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Data_OpaqueConstructions.html#Buildings.HeatTransfer.Data.OpaqueConstructions.Generic"
>Generic</A></TD><TD>layers</TD><TD>redeclare parameter Building...</TD><TD>Material properties of opaque construction</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD>Boolean</TD><TD>steadyStateInitial</TD><TD>false</TD><TD>=true initializes dT(0)/dt=0, false initializes T(0) at fixed temperature using T_a_start and T_b_start</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_a_start</TD><TD>293.15</TD><TD>Initial temperature at port_a, used if steadyStateInitial = false [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_b_start</TD><TD>293.15</TD><TD>Initial temperature at port_b, used if steadyStateInitial = false [K]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Glazing system</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>hWin</TD><TD>&nbsp;</TD><TD>Window height [m]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>wWin</TD><TD>&nbsp;</TD><TD>Window width [m]</TD></TR>
<TR><TD>Real</TD><TD>fFra</TD><TD>0.1</TD><TD>Fraction of window frame divided by total window area</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.Overhang"
>Overhang</A></TD><TD>ove</TD><TD>redeclare parameter Building...</TD><TD>Geometry of overhang</TD></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.SideFins"
>SideFins</A></TD><TD>sidFin</TD><TD>redeclare parameter Building...</TD><TD>Geometry of side fins</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Data_GlazingSystems.html#Buildings.HeatTransfer.Data.GlazingSystems.Generic"
>Generic</A></TD><TD>glaSys</TD><TD>redeclare parameter HeatTran...</TD><TD>Material properties of glazing system</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">record</font> ParameterConstructionWithWindow <font color="darkgreen">
  &quot;Record for exterior constructions that have a window&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialParameterConstruction"
>Buildings.Rooms.BaseClasses.PartialParameterConstruction</A>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> A <font color="darkgreen">
    &quot;Heat transfer area of opaque construction and window combined&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> hWin <font color="darkgreen">&quot;Window height&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> wWin <font color="darkgreen">&quot;Window width&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AWin=hWin*wWin <font color="darkgreen">
    &quot;Heat transfer area of window&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AOpa = A-AWin <font color="darkgreen">
    &quot;Heat transfer area of opaque construction&quot;</font>;

  <font color="blue">parameter </font>Real fFra(
    <font color="blue">final </font>min=0,
    <font color="blue">final </font>max=1) = 0.1 <font color="darkgreen">&quot;Fraction of window frame divided by total window area&quot;</font>;

<textblock type="annotcomp" expanded="false"> <font color="blue">replaceable </font><font color="blue">parameter </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.Overhang"
>Buildings.Rooms.BaseClasses.Overhang</A> ove(
    wR=0,
    wL=0,
    dep=0,
    gap=0) <font color="darkgreen">&quot;Geometry of overhang&quot;</font>;
 <font color="blue">replaceable </font><font color="blue">parameter </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.SideFins"
>Buildings.Rooms.BaseClasses.SideFins</A> sidFin(h=0, dep=0, gap=0) <font color="darkgreen">
    &quot;Geometry of side fins&quot;</font>;</textblock>

  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AFra = fFra*AWin <font color="darkgreen">&quot;Frame area&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AGla=AWin - AFra <font color="darkgreen">&quot;Glass area&quot;</font>;

<textblock type="annotcomp" expanded="false"> <font color="blue">replaceable </font><font color="blue">parameter </font><A HREF="Buildings_HeatTransfer_Data_GlazingSystems.html#Buildings.HeatTransfer.Data.GlazingSystems.Generic"
>HeatTransfer.Data.GlazingSystems.Generic</A> glaSys <font color="darkgreen">
    &quot;Material properties of glazing system&quot;</font>;

<font color="blue">end </font>ParameterConstructionWithWindow;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ParameterConstruction<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClass9e633c7ec4500d5eindowI.png" ALT="Buildings.Rooms.BaseClasses.ParameterConstruction" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.ParameterConstruction"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.ParameterConstruction</H2>
<B>Record for exterior constructions that have no window</B><p></P>
<P></P><H3>Information</H3>

<p>
This data record is used to set the parameters of constructions that do not have a window.
</p>
<p>
The surface azimuth is defined in 
<A HREF="Buildings_HeatTransfer_Types_Azimuth.html#Buildings.HeatTransfer.Types.Azimuth"
>
Buildings.HeatTransfer.Types.Azimuth</a>
and the surface tilt is defined in <A HREF="Buildings_HeatTransfer_Types_Tilt.html#Buildings.HeatTransfer.Types.Tilt"
>
Buildings.HeatTransfer.Types.Tilt</a>
</p>
<P></P>
Extends from <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialParameterConstruction"
>Buildings.Rooms.BaseClasses.PartialParameterConstruction</A> (Partial record for constructions).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>til</TD><TD>&nbsp;</TD><TD>Surface tilt [rad]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>azi</TD><TD>&nbsp;</TD><TD>Surface azimuth [rad]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>A</TD><TD>&nbsp;</TD><TD>Heat transfer area [m2]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Opaque construction</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Data_OpaqueConstructions.html#Buildings.HeatTransfer.Data.OpaqueConstructions.Generic"
>Generic</A></TD><TD>layers</TD><TD>redeclare parameter Building...</TD><TD>Material properties of opaque construction</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD>Boolean</TD><TD>steadyStateInitial</TD><TD>false</TD><TD>=true initializes dT(0)/dt=0, false initializes T(0) at fixed temperature using T_a_start and T_b_start</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_a_start</TD><TD>293.15</TD><TD>Initial temperature at port_a, used if steadyStateInitial = false [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_b_start</TD><TD>293.15</TD><TD>Initial temperature at port_b, used if steadyStateInitial = false [K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">record</font> ParameterConstruction <font color="darkgreen">
  &quot;Record for exterior constructions that have no window&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.PartialParameterConstruction"
>Buildings.Rooms.BaseClasses.PartialParameterConstruction</A>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> A <font color="darkgreen">&quot;Heat transfer area&quot;</font>;

<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>ParameterConstruction;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialParameterConstruction<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Rooms.BaseClass9e633c7ec4500d5eindowI.png" ALT="Buildings.Rooms.BaseClasses.PartialParameterConstruction" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Rooms.BaseClasses.PartialParameterConstruction"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.PartialParameterConstruction</H2>
<B>Partial record for constructions</B><p></P>
<P></P><H3>Information</H3>

<p>
This data record is used to set the parameters of constructions that do not have a window.
</p>
<p>
The surface azimuth is defined in 
<A HREF="Buildings_HeatTransfer_Types_Azimuth.html#Buildings.HeatTransfer.Types.Azimuth"
>
Buildings.HeatTransfer.Types.Azimuth</a>
and the surface tilt is defined in <A HREF="Buildings_HeatTransfer_Types_Tilt.html#Buildings.HeatTransfer.Types.Tilt"
>
Buildings.HeatTransfer.Types.Tilt</a>
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Record"
>Modelica.Icons.Record</A> (Icon for records).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>til</TD><TD>&nbsp;</TD><TD>Surface tilt [rad]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>azi</TD><TD>&nbsp;</TD><TD>Surface azimuth [rad]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Opaque construction</TD></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Data_OpaqueConstructions.html#Buildings.HeatTransfer.Data.OpaqueConstructions.Generic"
>Generic</A></TD><TD>layers</TD><TD>redeclare parameter Building...</TD><TD>Material properties of opaque construction</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD>Boolean</TD><TD>steadyStateInitial</TD><TD>false</TD><TD>=true initializes dT(0)/dt=0, false initializes T(0) at fixed temperature using T_a_start and T_b_start</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_a_start</TD><TD>293.15</TD><TD>Initial temperature at port_a, used if steadyStateInitial = false [K]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_b_start</TD><TD>293.15</TD><TD>Initial temperature at port_b, used if steadyStateInitial = false [K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">record</font> PartialParameterConstruction <font color="darkgreen">
  &quot;Partial record for constructions&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Record"
>Modelica.Icons.Record</A>;
<textblock type="annotcomp" expanded="false">  <font color="blue">replaceable </font><font color="blue">parameter </font><A HREF="Buildings_HeatTransfer_Data_OpaqueConstructions.html#Buildings.HeatTransfer.Data.OpaqueConstructions.Generic"
>Buildings.HeatTransfer.Data.OpaqueConstructions.Generic</A>
    layers <font color="darkgreen">&quot;Material properties of opaque construction&quot;</font>;</textblock>
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</A> til <font color="darkgreen">&quot;Surface tilt&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</A> azi <font color="darkgreen">&quot;Surface azimuth&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Boolean isFloor=til &gt; 2.74889125<font color="blue"> and </font>til &lt; 3.53428875 <font color="darkgreen">
    &quot;Flag, true if construction is a floor&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Boolean isCeiling=til &gt; -0.392699<font color="blue"> and </font>til &lt; 0.392699 <font color="darkgreen">
    &quot;Flag, true if construction is a floor&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer nLay(min=1, fixed=true) = layers.nLay <font color="darkgreen">
    &quot;Number of layers&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer nSta[nLay](<font color="blue">each </font>min=1)={layers.material[i].nSta <font color="blue">for </font>i<font color="blue"> in </font>1:nLay} <font color="darkgreen">
    &quot;Number of states&quot;</font>;
  <font color="blue">parameter </font>Boolean steadyStateInitial=false <font color="darkgreen">
    &quot;=true initializes dT(0)/dt=0, false initializes T(0) at fixed temperature using T_a_start and T_b_start&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T_a_start=293.15 <font color="darkgreen">
    &quot;Initial temperature at port_a, used if steadyStateInitial = false&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> T_b_start=293.15 <font color="darkgreen">
    &quot;Initial temperature at port_b, used if steadyStateInitial = false&quot;</font>;

<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>PartialParameterConstruction;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SideFins<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Rooms.BaseClasses.SideFins"></A><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses"
>Buildings.Rooms.BaseClasses</A>.SideFins</H2>
<B>Record for window side fins</B><p></P>
<P></P><H3>Information</H3>

<p>
This record declares parameters for window side fins.
</p>
<p>
See 
<A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.SideFins"
>
Buildings.HeatTransfer.Windows.SideFins</a>
for an explanation of the parameters, and
for the assumptions and limitations
of the model for side fins.
</p>
<P></P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Side fin</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>h</TD><TD>&nbsp;</TD><TD>Height of side fin that extends above window, measured from top of window [m]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dep</TD><TD>&nbsp;</TD><TD>Side fin depth (measured perpendicular to the wall plane) [m]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>gap</TD><TD>&nbsp;</TD><TD>Distance between side fin and window edge [m]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">record</font> SideFins <font color="darkgreen">&quot;Record for window side fins&quot;</font>

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> h(min=0) <font color="darkgreen">
    &quot;Height of side fin that extends above window, measured from top of window&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> dep(min=0) <font color="darkgreen">
    &quot;Side fin depth (measured perpendicular to the wall plane)&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> gap(min=0) <font color="darkgreen">
    &quot;Distance between side fin and window edge&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font>Boolean haveSideFins= dep &gt; Modelica.Constants.eps <font color="darkgreen">
    &quot;Flag, true if the window has side fins&quot;</font>;

<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>SideFins;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Thu Oct 24 15:13:38 2013.
</address></BODY>
</HTML>
