<HTML>
<HEAD>
<TITLE>Buildings.Fluid.SolarCollectors.Controls</TITLE>
<META name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META name="description" content="&quot;Package for solar thermal collector controllers&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- --- header ------ -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- --- end header -- -->
</P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Controls<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Fluid.SolarCollectors.Controls"></A><A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors"
>Buildings.Fluid.SolarCollectors</A>.Controls</H2>
<B>Package for solar thermal collector controllers</B>
<P></P>
<P></P><H3>Information</H3>

  <p>
    This package contains a controller for solar thermal collectors.
  </p>  
  <P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons_Package.html#Modelica.Icons.Package"
>Modelica.Icons.Package</A> (Icon for standard packages).
<P></P><H3>Package Content</H3>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Buildings.Fluid.SolarColl22aade6fb8bfc902ollerS.png" ALT="Buildings.Fluid.SolarCollectors.Controls.SolarPumpController" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_SolarCollectors_Controls.html#Buildings.Fluid.SolarCollectors.Controls.SolarPumpController"
>SolarPumpController</A>
</TD><TD>Controller which activates a circulation pump when solar radiation is above a critical level</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.SolarColle50cb5c7bb92881cmplesS.png" ALT="Buildings.Fluid.SolarCollectors.Controls.Examples" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_SolarCollectors_Controls_Examples.html#Buildings.Fluid.SolarCollectors.Controls.Examples"
>Examples</A>
</TD><TD>Examples for solar thermal collector controller models</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.SolarColl6791a15b8450af06assesS.png" ALT="Buildings.Fluid.SolarCollectors.Controls.BaseClasses" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_SolarCollectors_Controls_BaseClasses.html#Buildings.Fluid.SolarCollectors.Controls.BaseClasses"
>BaseClasses</A>
</TD><TD>Package of BaseClass models used to create the models in the Controls package</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SolarPumpController<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.SolarColl22aade6fb8bfc902ollerI.png" ALT="Buildings.Fluid.SolarCollectors.Controls.SolarPumpController" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.SolarCollectors.Controls.SolarPumpController"></A><A HREF="Buildings_Fluid_SolarCollectors_Controls.html#Buildings.Fluid.SolarCollectors.Controls"
>Buildings.Fluid.SolarCollectors.Controls</A>.SolarPumpController</H2>
<B>Controller which activates a circulation pump when solar radiation is above a critical level</B><p></P>
<IMG SRC="Buildings.Fluid.SolarColl22aade6fb8bfc902ollerD.png" ALT="Buildings.Fluid.SolarCollectors.Controls.SolarPumpController">
<P></P><H3>Information</H3>

      <p>
        This component models a pump controller which might be used in a solar thermal system. 
        It controls whether the pump is active or inactive based on the incident solar radiation
        and the system parameters. The pump is activated when the incident solar radiation is 
        greater than the critical radiation.
      </p>
      <p>
        The critical radiation is defined per Equation 6.8.2 in Duffie and Beckman (2006). It is 
      </p>
      <p align="center" style="font-style:italic;">
        G<sub>TC</sub>=(F<sub>R</sub>U<sub>L</sub> (T<sub>In</sub>-T<sub>Env</sub>))/(F<sub>R</sub>(&tau;&alpha;))
      </p>
      <p>
        where <i>G<sub>TC</sub></i> is the critical solar radiation, <i>F<sub>R</sub>U<sub>L</sub></i> 
        is the heat loss coefficient, <i>T<sub>In</sub></i> is the inlet temperature, 
        <i>T<sub>Env</sub></i> is the ambient temperature, and <i>F<sub>R</sub>(&tau;&alpha;)</i> 
        is the maximum efficiency.
      </p>
    <h4>References</h4>
      <p>
        J.A. Duffie and W.A. Beckman 2006, Solar Engineering of Thermal Processes (3rd Edition), 
        John Wiley &amp; Sons, Inc.<br/>
      </p>
  <P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>delY</TD><TD>0.01</TD><TD>Width of the smoothHeaviside function [W/m2]</TD></TR>
<TR><TD><A HREF="Buildings_Fluid_SolarCollectors_Data.html#Buildings.Fluid.SolarCollectors.Data.GenericSolarCollector"
>GenericSolarCollector</A></TD><TD>per</TD><TD>&nbsp;</TD><TD>Performance data</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TIn</TD><TD>Fluid temperature entering the collector [K]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>On/off control signal for the pump [1]</TD></TR>
<TR><TD><A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</A></TD><TD>weaBus</TD><TD>Weather data input</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> SolarPumpController <font color="darkgreen">
  &quot;Controller which activates a circulation pump when solar radiation is above a critical level&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;

  <font color="blue">parameter </font>Real delY(<font color="blue">final </font>unit = &quot;W/m2&quot;) = 0.01 <font color="darkgreen">
    &quot;Width of the smoothHeaviside function&quot;</font>;
<textblock type="annotcomp" expanded="false">  <font color="blue">parameter </font><A HREF="Buildings_Fluid_SolarCollectors_Data.html#Buildings.Fluid.SolarCollectors.Data.GenericSolarCollector"
>Buildings.Fluid.SolarCollectors.Data.GenericSolarCollector</A> per <font color="darkgreen">
    &quot;Performance data&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TIn(<font color="blue">final </font>unit = &quot;K&quot;,
  <font color="blue">final </font>displayUnit = &quot;degC&quot;, quantity = &quot;ThermodynamicTemperature&quot;) <font color="darkgreen">
    &quot;Fluid temperature entering the collector&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> y(min=0, max=1, unit=&quot;1&quot;) <font color="darkgreen">
    &quot;On/off control signal for the pump&quot;</font>;
  <A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Buildings.BoundaryConditions.WeatherData.Bus</A> weaBus <font color="darkgreen">&quot;Weather data input&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_SolarCollectors_Controls_BaseClasses.html#Buildings.Fluid.SolarCollectors.Controls.BaseClasses.GCritCalc"
>Buildings.Fluid.SolarCollectors.Controls.BaseClasses.GCritCalc</A> criSol(<font color="blue">final </font>
      slope=per.slope, <font color="blue">final </font>y_intercept=per.y_intercept) <font color="darkgreen">
    &quot;Calculates the critical insolation based on collector design and current weather conditions&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</A> add(<font color="blue">final </font>k2=-1) <font color="darkgreen">
    &quot;Compares the current insolation to the critical insolation&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Buildings_Utilities_Math.html#Buildings.Utilities.Math.SmoothHeaviside"
>Buildings.Utilities.Math.SmoothHeaviside</A> smoHea(<font color="blue">final </font>delta=delY) <font color="darkgreen">
    &quot;Creates a smooth 1/0 output&quot;</font>;</textblock>

<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(TIn, criSol.TIn);
  <font color="red">connect</font>(weaBus.TDryBul, criSol.TEnv);
  <font color="red">connect</font>(weaBus.HDirNor, add.u1);
  <font color="red">connect</font>(smoHea.y, y);
  <font color="red">connect</font>(add.y, smoHea.u);
  <font color="red">connect</font>(criSol.G_TC, add.u2);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>SolarPumpController;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Thu Oct 24 15:09:52 2013.
</address></BODY>
</HTML>
