<HTML>
<HEAD>
<TITLE>Buildings.Fluid.SolarCollectors.Examples</TITLE>
<META name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META name="description" content="&quot;Examples demonstrating the use of models in the SolarCollectors package&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- --- header ------ -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- --- end header -- -->
</P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Examples<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.Fluid.SolarCollectors.Examples"></A><A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors"
>Buildings.Fluid.SolarCollectors</A>.Examples</H2>
<B>Examples demonstrating the use of models in the SolarCollectors package</B>
<P></P>
<P></P><H3>Information</H3>

    <p>  
      This package contains example model demonstrating the use of models in 
      the SolarCollectors package.
    </p>
  <P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</A> (Icon for packages containing runnable examples).
<P></P><H3>Package Content</H3>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingS.png" ALT="Buildings.Fluid.SolarCollectors.Examples.Concentrating" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples.Concentrating"
>Concentrating</A>
</TD><TD>Example showing the use of Concentrating</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingS.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlate" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples.FlatPlate"
>FlatPlate</A>
</TD><TD>Test model for FlatPlate</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingS.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlateShaCoeTrue" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples.FlatPlateShaCoeTrue"
>FlatPlateShaCoeTrue</A>
</TD><TD>Test model for FlatPlate with use_shaCoe_in = true</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingS.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlateTotalArea" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples.FlatPlateTotalArea"
>FlatPlateTotalArea</A>
</TD><TD>Example showing the use of TotalArea and nSeg</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingS.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlateValidation" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples.FlatPlateValidation"
>FlatPlateValidation</A>
</TD><TD>Validation model for FlatPlate</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingS.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlateWithTank" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples.FlatPlateWithTank"
>FlatPlateWithTank</A>
</TD><TD>Example showing use of the flat plate solar collector in a complete solar thermal system</TD></TR>
<TR><TD><IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingS.png" ALT="Buildings.Fluid.SolarCollectors.Examples.Tubular" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples.Tubular"
>Tubular</A>
</TD><TD>Example showing the use of Tubular</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Concentrating<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingI.png" ALT="Buildings.Fluid.SolarCollectors.Examples.Concentrating" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.SolarCollectors.Examples.Concentrating"></A><A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples"
>Buildings.Fluid.SolarCollectors.Examples</A>.Concentrating</H2>
<B>Example showing the use of Concentrating</B><p></P>
<IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingD.png" ALT="Buildings.Fluid.SolarCollectors.Examples.Concentrating">
<P></P><H3>Information</H3>

      <p>
        This model demonstrates the implementation of 
        <A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.EN12975"
>
        Buildings.Fluid.SolarCollectors.EN12975</a>.
        In it water is passed through the solar thermal collector while 
        being heated by the sun in the San Francisco, CA, USA climate.
      </p>
    <P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Buildings.Media.ConstantProp...</TD><TD>Medium in the system</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Medium in the system</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Concentrating <font color="darkgreen">&quot;Example showing the use of Concentrating&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium = <A HREF="Buildings_Media_ConstantPropertyLiquidWater.html#Buildings.Media.ConstantPropertyLiquidWater"
>Buildings.Media.ConstantPropertyLiquidWater</A> <font color="darkgreen">
    &quot;Medium in the system&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.EN12975"
>Buildings.Fluid.SolarCollectors.EN12975</A>           solCol(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    shaCoe=0,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    use_shaCoe_in=false,
    per=<font color="red">Buildings.Fluid.SolarCollectors.Data.Concentrating.C_VerificationModel</font>(),
    sysConfig=Buildings.Fluid.SolarCollectors.Types.SystemConfiguration.Series,
    rho=0.2,
    nColType=Buildings.Fluid.SolarCollectors.Types.NumberSelection.Number,
    nPanels=5,
    nSeg=9,
    lat=0.73097781993588,
    azi=0.3,
    til=0.5) <font color="darkgreen">&quot;Concentrating solar collector model&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.ReaderTMY3"
>Buildings.BoundaryConditions.WeatherData.ReaderTMY3</A> weaDat(filNam=
    &quot;modelica://Buildings/Resources/weatherdata/USA_CA_San.Francisco.Intl.AP.724940_TMY3.mos&quot;) <font color="darkgreen">
    &quot;Weather data input file&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    p(displayUnit=&quot;Pa&quot;) = 101325,
    nPorts=1) <font color="darkgreen">&quot;Inlet for fluid flow&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system(p_ambient=101325);
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> TOut(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T_start(displayUnit=&quot;K&quot;),
    m_flow_nominal=solCol.m_flow_nominal) <font color="darkgreen">&quot;Temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> TIn(<font color="blue">redeclare </font><font color="blue">package</font> Medium =
    Medium, m_flow_nominal=solCol.m_flow_nominal) <font color="darkgreen">&quot;Temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T=273.15 + 10,
    nPorts=1,
    use_p_in=true,
    p(displayUnit=&quot;Pa&quot;)) <font color="darkgreen">&quot;Inlet for water flow&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</A> sine(
    freqHz=3/86400,
    offset=101325,
    amplitude=-2*solCol.dp_nominal);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(solCol.port_b,TOut. port_a);
  <font color="red">connect</font>(TOut.port_b,sin. ports[1]);
  <font color="red">connect</font>(TIn.port_b,solCol. port_a);
  <font color="red">connect</font>(weaDat.weaBus, solCol.weaBus);
  <font color="red">connect</font>(sine.y, sou.p_in);
  <font color="red">connect</font>(sou.ports[1], TIn.port_a);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Concentrating;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlatPlate<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingI.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlate" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.SolarCollectors.Examples.FlatPlate"></A><A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples"
>Buildings.Fluid.SolarCollectors.Examples</A>.FlatPlate</H2>
<B>Test model for FlatPlate</B><p></P>
<IMG SRC="Buildings.Fluid.SolarColl4172ed767a066ef6PlateD.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlate">
<P></P><H3>Information</H3>

      <p>
        This example demonstrates the implementation of 
        <A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.ASHRAE93"
> 
        Buildings.Fluid.SolarCollectors.ASHRAE93</a>. 
        In it water is passed through a flat plate solar thermal collector while 
        being heated by the sun in the San Francisco, CA, USA climate.
      </p>
    <P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Buildings.Media.ConstantProp...</TD><TD>Medium in the system</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Medium in the system</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlatPlate <font color="darkgreen">&quot;Test model for FlatPlate&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium = <A HREF="Buildings_Media_ConstantPropertyLiquidWater.html#Buildings.Media.ConstantPropertyLiquidWater"
>Buildings.Media.ConstantPropertyLiquidWater</A> <font color="darkgreen">
    &quot;Medium in the system&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.ASHRAE93"
>Buildings.Fluid.SolarCollectors.ASHRAE93</A>          solCol(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    shaCoe=0,
    from_dp=true,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    rho=0.2,
    nColType=Buildings.Fluid.SolarCollectors.Types.NumberSelection.Number,
    sysConfig=Buildings.Fluid.SolarCollectors.Types.SystemConfiguration.Series,
    per=<font color="red">Buildings.Fluid.SolarCollectors.Data.GlazedFlatPlate.FP_GuangdongFSPTY95</font>(),
    nPanels=1,
    nSeg=9,
    lat=0.73097781993588,
    azi=0.3,
    til=0.5) <font color="darkgreen">&quot;Flat plate solar collector model&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.ReaderTMY3"
>Buildings.BoundaryConditions.WeatherData.ReaderTMY3</A> weaDat(filNam=
    &quot;modelica://Buildings/Resources/weatherdata/USA_CA_San.Francisco.Intl.AP.724940_TMY3.mos&quot;) <font color="darkgreen">
    &quot;Weather data input file&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    nPorts=1,
    p(displayUnit=&quot;bar&quot;) = 100000) <font color="darkgreen">&quot;Outlet for water flow&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system(p_ambient=101325);
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> TOut(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T_start(displayUnit=&quot;K&quot;),
    m_flow_nominal=solCol.m_flow_nominal) <font color="darkgreen">&quot;Temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> TIn(<font color="blue">redeclare </font><font color="blue">package</font> Medium =
    Medium, m_flow_nominal=solCol.m_flow_nominal) <font color="darkgreen">&quot;Temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T=273.15 + 10,
    nPorts=1,
    use_p_in=true,
    p(displayUnit=&quot;Pa&quot;)) <font color="darkgreen">&quot;Inlet for water flow&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</A> sine(
    freqHz=3/86400,
    offset=100000,
    amplitude=-solCol.dp_nominal);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(solCol.port_b, TOut.port_a);
  <font color="red">connect</font>(TOut.port_b, sin.ports[1]);
  <font color="red">connect</font>(TIn.port_b, solCol.port_a);
  <font color="red">connect</font>(sou.ports[1], TIn.port_a);
  <font color="red">connect</font>(weaDat.weaBus, solCol.weaBus);
  <font color="red">connect</font>(sine.y, sou.p_in);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlatPlate;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlatPlateShaCoeTrue<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingI.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlateShaCoeTrue" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.SolarCollectors.Examples.FlatPlateShaCoeTrue"></A><A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples"
>Buildings.Fluid.SolarCollectors.Examples</A>.FlatPlateShaCoeTrue</H2>
<B>Test model for FlatPlate with use_shaCoe_in = true</B><p></P>
<IMG SRC="Buildings.Fluid.SolarColl2f58cd51a3a8c5c4eTrueD.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlateShaCoeTrue">
<P></P><H3>Information</H3>
   
      <p>
        This example demonstrates the use of <code>use_shaCoe_in</code>. Aside from 
        changed use of <code>use_shaCoe_in</code> it is identical to
        <A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples.FlatPlate"
> 
        Buildings.Fluid.SolarCollectors.Examples.FlatPlate</a>.
      </p>
    <P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Buildings.Media.ConstantProp...</TD><TD>Medium in the system</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Medium in the system</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlatPlateShaCoeTrue <font color="darkgreen">
  &quot;Test model for FlatPlate with use_shaCoe_in = true&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium = <A HREF="Buildings_Media_ConstantPropertyLiquidWater.html#Buildings.Media.ConstantPropertyLiquidWater"
>Buildings.Media.ConstantPropertyLiquidWater</A> <font color="darkgreen">
    &quot;Medium in the system&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.ASHRAE93"
>Buildings.Fluid.SolarCollectors.ASHRAE93</A>          solCol(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    shaCoe=0,
    from_dp=true,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    use_shaCoe_in=true,
    per=<font color="red">Buildings.Fluid.SolarCollectors.Data.GlazedFlatPlate.FP_GuangdongFSPTY95</font>(),
    rho=0.2,
    azi=0,
    nColType=Buildings.Fluid.SolarCollectors.Types.NumberSelection.Number,
    nPanels=5,
    sysConfig=Buildings.Fluid.SolarCollectors.Types.SystemConfiguration.Series,
    nSeg=9,
    lat=0.65938539140346,
    til=0.5235987755983) <font color="darkgreen">&quot;Flat plate solar collector with 3 segments&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.ReaderTMY3"
>Buildings.BoundaryConditions.WeatherData.ReaderTMY3</A> weaDat(filNam=
    &quot;modelica://Buildings/Resources/weatherdata/USA_CA_San.Francisco.Intl.AP.724940_TMY3.mos&quot;) <font color="darkgreen">
    &quot;Weather data input file&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    p(displayUnit=&quot;Pa&quot;) = 101325,
    nPorts=1) <font color="darkgreen">&quot;Outlet for water flow&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system(p_ambient=101325);
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> TOut(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T_start(displayUnit=&quot;K&quot;),
    m_flow_nominal=solCol.m_flow_nominal) <font color="darkgreen">&quot;Temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> TIn(<font color="blue">redeclare </font><font color="blue">package</font> Medium =
    Medium, m_flow_nominal=solCol.m_flow_nominal) <font color="darkgreen">&quot;Temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    nPorts=1,
    T=273.15 + 10,
    p(displayUnit=&quot;Pa&quot;) = 101325 + 5*solCol.per.dp_nominal) <font color="darkgreen">
    &quot;Inlet for water flow&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> shaCoe(
    startTime=34040,
    height=1,
    duration=24193) <font color="darkgreen">&quot;Varying shading coefficient&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(solCol.port_b, TOut.port_a);
  <font color="red">connect</font>(TOut.port_b, sin.ports[1]);
  <font color="red">connect</font>(TIn.port_b, solCol.port_a);
  <font color="red">connect</font>(sou.ports[1], TIn.port_a);
  <font color="red">connect</font>(shaCoe.y, solCol.shaCoe_in);
  <font color="red">connect</font>(weaDat.weaBus, solCol.weaBus);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlatPlateShaCoeTrue;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlatPlateTotalArea<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingI.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlateTotalArea" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.SolarCollectors.Examples.FlatPlateTotalArea"></A><A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples"
>Buildings.Fluid.SolarCollectors.Examples</A>.FlatPlateTotalArea</H2>
<B>Example showing the use of TotalArea and nSeg</B><p></P>
<IMG SRC="Buildings.Fluid.SolarCollf6e209bb093fd864lAreaD.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlateTotalArea">
<P></P><H3>Information</H3>

      <p>
        This model uses <code>TotalArea</code> instead of <code>nPanels</code> to 
        define the system size. Aside from that change, this model is identical to 
        <A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples.FlatPlate"
>
        Buildings.Fluid.SolarCollectors.Examples.FlatPlate</a>.
      </p>
    <P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Buildings.Media.ConstantProp...</TD><TD>Medium in the system</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Medium in the system</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlatPlateTotalArea <font color="darkgreen">
  &quot;Example showing the use of TotalArea and nSeg&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium = <A HREF="Buildings_Media_ConstantPropertyLiquidWater.html#Buildings.Media.ConstantPropertyLiquidWater"
>Buildings.Media.ConstantPropertyLiquidWater</A> <font color="darkgreen">
    &quot;Medium in the system&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.ASHRAE93"
>Buildings.Fluid.SolarCollectors.ASHRAE93</A>          solCol(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    shaCoe=0,
    from_dp=true,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    rho=0.2,
    sysConfig=Buildings.Fluid.SolarCollectors.Types.SystemConfiguration.Series,
    per=<font color="red">Buildings.Fluid.SolarCollectors.Data.GlazedFlatPlate.FP_SolahartKf</font>(),
    nColType=Buildings.Fluid.SolarCollectors.Types.NumberSelection.Number,
    nPanels=10,
    nSeg=9,
    lat=0.73097781993588,
    azi=0.3,
    til=0.5) <font color="darkgreen">&quot;Flat plate solar collector model&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.ReaderTMY3"
>Buildings.BoundaryConditions.WeatherData.ReaderTMY3</A> weaDat(filNam=
    &quot;modelica://Buildings/Resources/weatherdata/USA_CA_San.Francisco.Intl.AP.724940_TMY3.mos&quot;) <font color="darkgreen">
    &quot;Weather data input file&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    p(displayUnit=&quot;Pa&quot;) = 101325,
    nPorts=2) <font color="darkgreen">&quot;Outlet for water flow&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system(p_ambient=101325);
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> TOut(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T_start(displayUnit=&quot;K&quot;),
    m_flow_nominal=solCol.m_flow_nominal) <font color="darkgreen">&quot;Temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> TIn(<font color="blue">redeclare </font><font color="blue">package</font> Medium =
    Medium, m_flow_nominal=solCol.m_flow_nominal) <font color="darkgreen">&quot;Temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T=273.15 + 10,
    use_p_in=false,
    nPorts=2,
    p(displayUnit=&quot;Pa&quot;) = 101325 + solCol.dp_nominal) <font color="darkgreen">&quot;Inlet for water flow&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.ASHRAE93"
>Buildings.Fluid.SolarCollectors.ASHRAE93</A> solCol1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    shaCoe=0,
    from_dp=true,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    rho=0.2,
    sysConfig=Buildings.Fluid.SolarCollectors.Types.SystemConfiguration.Series,
    per=<font color="red">Buildings.Fluid.SolarCollectors.Data.GlazedFlatPlate.FP_SolahartKf</font>(),
    nColType=Buildings.Fluid.SolarCollectors.Types.NumberSelection.Number,
    nPanels=10,
    nSeg=27,
    lat=0.73097781993588,
    azi=0.3,
    til=0.5) <font color="darkgreen">&quot;Flat plate solar collector model&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> TOut1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T_start(displayUnit=&quot;K&quot;),
    m_flow_nominal=solCol.m_flow_nominal) <font color="darkgreen">&quot;Temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> TIn1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium =
    Medium, m_flow_nominal=solCol.m_flow_nominal) <font color="darkgreen">&quot;Temperature sensor&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(solCol.port_b, TOut.port_a);
  <font color="red">connect</font>(TOut.port_b, sin.ports[1]);
  <font color="red">connect</font>(TIn.port_b, solCol.port_a);
  <font color="red">connect</font>(sou.ports[1], TIn.port_a);
  <font color="red">connect</font>(weaDat.weaBus, solCol.weaBus);
  <font color="red">connect</font>(solCol1.port_b, TOut1.port_a);
  <font color="red">connect</font>(TIn1.port_b, solCol1.port_a);
  <font color="red">connect</font>(weaDat.weaBus, solCol1.weaBus);
  <font color="red">connect</font>(sou.ports[2], TIn1.port_a);
  <font color="red">connect</font>(TOut1.port_b, sin.ports[2]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlatPlateTotalArea;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlatPlateValidation<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingI.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlateValidation" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.SolarCollectors.Examples.FlatPlateValidation"></A><A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples"
>Buildings.Fluid.SolarCollectors.Examples</A>.FlatPlateValidation</H2>
<B>Validation model for FlatPlate</B><p></P>
<IMG SRC="Buildings.Fluid.SolarColldea76a9335f803edationD.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlateValidation">
<P></P><H3>Information</H3>

      <p>
        This model was used to validate the 
        <A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.ASHRAE93"
> 
        Buildings.Fluid.SolarCollectors.ASHRAE93</a> solar collector model 
        against TRNSYS data. Data files are used to ensure that the 
        <A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.ASHRAE93"
> 
        Buildings.Fluid.SolarCollectors.ASHRAE93</a> solar collector model and
        the TRNSYS model use the same inlet and weather conditions. The 
        solar collector model must reference the 
        <A HREF="Buildings_Fluid_SolarCollectors_Data_GlazedFlatPlate.html#Buildings.Fluid.SolarCollectors.Data.GlazedFlatPlate.FP_TRNSYSValidation"
>
        Buildings.Fluid.SolarCollectors.Data.GlazedFlatPlate.FP_TRNSYSValidation</a> 
        data record when comparing model results to the stored TRNSYS results.
      </p>
    <P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Buildings.Media.ConstantProp...</TD><TD>Medium in the system</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Medium in the system</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlatPlateValidation <font color="darkgreen">&quot;Validation model for FlatPlate&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium = <A HREF="Buildings_Media_ConstantPropertyLiquidWater.html#Buildings.Media.ConstantPropertyLiquidWater"
>Buildings.Media.ConstantPropertyLiquidWater</A> <font color="darkgreen">
    &quot;Medium in the system&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.ASHRAE93"
>Buildings.Fluid.SolarCollectors.ASHRAE93</A>
   solCol(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    shaCoe=0,
    azi=0,
    per=<font color="red">Buildings.Fluid.SolarCollectors.Data.GlazedFlatPlate.FP_TRNSYSValidation</font>(),
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    rho=0.2,
    nColType=Buildings.Fluid.SolarCollectors.Types.NumberSelection.Number,
    nPanels=1,
    nSeg=30,
    lat=0.6457718232379,
    til=0.78539816339745) <font color="darkgreen">
    &quot;Flat plate solar collector model, has been modified for validation purposes&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.ReaderTMY3"
>Buildings.BoundaryConditions.WeatherData.ReaderTMY3</A> weaDat(filNam=
    &quot;modelica://Buildings/Resources/weatherdata/USA_CA_San.Francisco.Intl.AP.724940_TMY3.mos&quot;) <font color="darkgreen">
    &quot;Weather data file reader&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    p(displayUnit=&quot;Pa&quot;) = 101325,
    nPorts=1) <font color="darkgreen">&quot;Outlet for water flow&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system(p_ambient=101325);
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</A> bou(
    nPorts=1,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_m_flow_in=true,
    use_T_in=true) <font color="darkgreen">
    &quot;Inlet for water flow, at a prescribed flow rate and temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.CombiTimeTable"
>Modelica.Blocks.Sources.CombiTimeTable</A> datRea(
    tableOnFile=true,
    tableName=&quot;TRNSYS&quot;,
    columns=2:5,
    fileName=<font color="red">ModelicaServices.ExternalReferences.loadResource</font>(
       &quot;modelica://Buildings/Fluid/SolarCollectors/Examples/ValidationData/TRNSYSAnnualData.txt&quot;)) <font color="darkgreen">
    &quot;Data reader with inlet conditions from TRNSYS&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</A> add <font color="darkgreen">
    &quot;Converts TRNSYS data from degree Celsius to Kelving&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> const(k=273.15) <font color="darkgreen">
    &quot;Used to convert TRNSYS data from degree Celsius to Kelving&quot;</font>;</textblock>

<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(weaDat.weaBus, solCol.weaBus);
  <font color="red">connect</font>(bou.ports[1], solCol.port_a);
  <font color="red">connect</font>(const.y, add.u2);
  <font color="red">connect</font>(add.y, bou.T_in);
  <font color="red">connect</font>(datRea.y[1], add.u1);
  <font color="red">connect</font>(datRea.y[4], bou.m_flow_in);
  <font color="red">connect</font>(sou.ports[1], solCol.port_b);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlatPlateValidation;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlatPlateWithTank<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingI.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlateWithTank" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.SolarCollectors.Examples.FlatPlateWithTank"></A><A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples"
>Buildings.Fluid.SolarCollectors.Examples</A>.FlatPlateWithTank</H2>
<B>Example showing use of the flat plate solar collector in a complete solar thermal system</B><p></P>
<IMG SRC="Buildings.Fluid.SolarColl43d3abf2a8c57d53hTankD.png" ALT="Buildings.Fluid.SolarCollectors.Examples.FlatPlateWithTank">
<P></P><H3>Information</H3>

          <p>
            This example shows how several different models can be combined to create
            an entire solar water heating system. The 
            <A HREF="Buildings_Fluid_Storage.html#Buildings.Fluid.Storage.StratifiedEnhancedInternalHex"
>
            Buildings.Fluid.Storage.StratifiedEnhancedInternalHex</a> (tan) model is 
            used to represent the tank filled with hot water. A loop, powered by a pump
            (<A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_m_flow"
>
            Buildings.Fluid.Movers.FlowMachine_m_flow</a>, pum), passes the water 
            through an expansion tank
            (<A HREF="Buildings_Fluid_Storage.html#Buildings.Fluid.Storage.ExpansionVessel"
> 
            Buildings.Fluid.Storage.ExpansionVessel</a>, exp), a temperature sensor
            (<A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
> 
            Buildings.Fluid.Sensors.TemperatureTwoPort</a>, TIn), the solar collector
            (<A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.ASHRAE93"
> 
            Buildings.Fluid.SolarCollectors.ASHRAE93,</a> solCol) and a second temperature 
            sensor 
            (<A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
> 
            Buildings.Fluid.Sensors.TemperatureTwoPort</a>, TOut) before re-entering the 
            tank.
          </p>
          <p>
            The solar collector is connected to the weather model 
            (<A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.ReaderTMY3"
> 
            Buildings.BoundaryConditions.WeatherData.ReaderTMY3</a>, weaDat) which passes 
            information for the San Francisco, CA, USA climate. This information is used to 
            identify both the heat gain in the water from the sun and the heat loss to the 
            ambient conditions.
          </p>
          <p>
            The flow rate through the pump is controlled by a solar pump controller model 
            (<A HREF="Buildings_Fluid_SolarCollectors_Controls.html#Buildings.Fluid.SolarCollectors.Controls.SolarPumpController"
> 
            Buildings.Fluid.SolarCollectors.Controls.SolarPumpController</a>, pumCon) and a
            gain model. The controller outputs a binary on (1) / off (0) signal. The on/off 
            signal is passed through the gain model, multiplying by 0.04, to represent a 
            flow rate of 0.04 kg/s when the pump is active.
          </p>
          <p>
            The heat ports for the tank are connected to an ambient temperature of 20 
            degrees C representing the temperature of the room the tank is stored in.
          </p>
          <p>
            bou1 (<A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>
            Buildings.Fluid.Sources.MassFlowSource_T)</a> provides a constant mass flow 
            rate for a hot water draw while bou 
            (<A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>
            Buildings.Fluid.Sources.Boundary_pT)</a> provides a boundary 
            condition for the outlet of the draw.
          </p>
      <P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Buildings.Media.ConstantProp...</TD><TD>Fluid in the storage tank</TD></TR>
<TR><TD colspan="2">replaceable package Medium_2</TD><TD>Buildings.Media.ConstantProp...</TD><TD>Fluid flowing through the collector</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Fluid in the storage tank</TD></TR>
<TR><TD colspan="2">replaceable package Medium_2</TD><TD>Fluid flowing through the collector</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FlatPlateWithTank <font color="darkgreen">
  &quot;Example showing use of the flat plate solar collector in a complete solar thermal system&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium = <A HREF="Buildings_Media_ConstantPropertyLiquidWater.html#Buildings.Media.ConstantPropertyLiquidWater"
>Buildings.Media.ConstantPropertyLiquidWater</A> <font color="darkgreen">
    &quot;Fluid in the storage tank&quot;</font>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium_2 =
      <A HREF="Buildings_Media_ConstantPropertyLiquidWater.html#Buildings.Media.ConstantPropertyLiquidWater"
>Buildings.Media.ConstantPropertyLiquidWater</A> <font color="darkgreen">
    &quot;Fluid flowing through the collector&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.ASHRAE93"
>Buildings.Fluid.SolarCollectors.ASHRAE93</A>  solCol(
    shaCoe=0,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Buildings_Fluid_SolarCollectors_Examples_Medium_2.html#Buildings.Fluid.SolarCollectors.Examples.FlatPlateWithTank.Medium_2"
>Medium_2</A>,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    rho=0.2,
    nColType=Buildings.Fluid.SolarCollectors.Types.NumberSelection.Number,
    nPanels=5,
    sysConfig=Buildings.Fluid.SolarCollectors.Types.SystemConfiguration.Series,
    per=<font color="red">Buildings.Fluid.SolarCollectors.Data.GlazedFlatPlate.FP_SolahartKf</font>(),
    nSeg=9,
    lat=0.73097781993588,
    azi=0.3,
    til=0.78539816339745) <font color="darkgreen">&quot;Flat plate solar collector model&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.ReaderTMY3"
>Buildings.BoundaryConditions.WeatherData.ReaderTMY3</A> weaDat(filNam=
    &quot;modelica://Buildings/Resources/weatherdata/USA_CA_San.Francisco.Intl.AP.724940_TMY3.mos&quot;,
    computeWetBulbTemperature=false) <font color="darkgreen">&quot;Weather data file reader&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system(p_ambient=101325);
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> TOut(
    T_start(displayUnit=&quot;K&quot;),
    m_flow_nominal=solCol.m_flow_nominal,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Buildings_Fluid_SolarCollectors_Examples_Medium_2.html#Buildings.Fluid.SolarCollectors.Examples.FlatPlateWithTank.Medium_2"
>Medium_2</A>) <font color="darkgreen">&quot;Temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> TIn(m_flow_nominal=solCol.m_flow_nominal,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Buildings_Fluid_SolarCollectors_Examples_Medium_2.html#Buildings.Fluid.SolarCollectors.Examples.FlatPlateWithTank.Medium_2"
>Medium_2</A>) <font color="darkgreen">&quot;Temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Storage.html#Buildings.Fluid.Storage.StratifiedEnhancedInternalHex"
>Buildings.Fluid.Storage.StratifiedEnhancedInternalHex</A>
   tan(
    nSeg=4,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    hTan=1,
    m_flow_nominal=0.1,
    VTan=1.5,
    dIns=0.07,
    <font color="blue">redeclare </font><font color="blue">package</font> MediumHex = <A HREF="Buildings_Fluid_SolarCollectors_Examples_Medium_2.html#Buildings.Fluid.SolarCollectors.Examples.FlatPlateWithTank.Medium_2"
>Medium_2</A>,
    CHex=200,
    dExtHex=0.01905,
    hexTopHeight=0.9,
    hexBotHeight=0.65,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    Q_flow_nominal=3000,
    mHex_flow_nominal=3000/20/4200,
    T_start=293.15,
    TTan_nominal=293.15,
    THex_nominal=323.15) <font color="darkgreen">&quot;Storage tank model&quot;</font>;
  <A HREF="Buildings_Fluid_SolarCollectors_Controls.html#Buildings.Fluid.SolarCollectors.Controls.SolarPumpController"
>Buildings.Fluid.SolarCollectors.Controls.SolarPumpController</A>
    pumCon(per=<font color="red">Buildings.Fluid.SolarCollectors.Data.GlazedFlatPlate.FP_ThermaLiteHS20</font>()) <font color="darkgreen">
    &quot;Pump controller&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Sources.html#Buildings.HeatTransfer.Sources.FixedTemperature"
>Buildings.HeatTransfer.Sources.FixedTemperature</A> rooT(T=293.15) <font color="darkgreen">
    &quot;Room temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</A> gain(k=0.04) <font color="darkgreen">&quot;Flow rate of the system in kg/s&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> bou(<font color="blue">redeclare </font><font color="blue">package</font> Medium =
    Medium, nPorts=1) <font color="darkgreen">&quot;Outlet for hot water draw&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</A> bou1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_m_flow_in=false,
    nPorts=1,
    m_flow=0.001,
    T=288.15) <font color="darkgreen">&quot;Inlet and flow rate for hot water draw&quot;</font>;
  <A HREF="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_m_flow"
>Buildings.Fluid.Movers.FlowMachine_m_flow</A> pum(<font color="blue">redeclare </font><font color="blue">package</font> Medium =
    <A HREF="Buildings_Fluid_SolarCollectors_Examples_Medium_2.html#Buildings.Fluid.SolarCollectors.Examples.FlatPlateWithTank.Medium_2"
>Medium_2</A>, m_flow_nominal=0.1) <font color="darkgreen">&quot;Pump forcing circulation through the system&quot;</font>;
  <A HREF="Buildings_Fluid_Storage.html#Buildings.Fluid.Storage.ExpansionVessel"
>Buildings.Fluid.Storage.ExpansionVessel</A> exp(<font color="blue">redeclare </font><font color="blue">package</font> Medium =
    <A HREF="Buildings_Fluid_SolarCollectors_Examples_Medium_2.html#Buildings.Fluid.SolarCollectors.Examples.FlatPlateWithTank.Medium_2"
>Medium_2</A>, VTot=0.1,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <font color="darkgreen">
    &quot;Expansion tank in the system&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Sensors.html#Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor"
>Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor</A> TTan <font color="darkgreen">
    &quot;Temperature in the tank water that surrounds the heat exchanger&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(solCol.port_b,TOut. port_a);
  <font color="red">connect</font>(TIn.port_b,solCol. port_a);
  <font color="red">connect</font>(weaDat.weaBus,solCol. weaBus);
  <font color="red">connect</font>(weaDat.weaBus, pumCon.weaBus);
  <font color="red">connect</font>(rooT.port, tan.heaPorTop);
  <font color="red">connect</font>(rooT.port, tan.heaPorSid);
  <font color="red">connect</font>(pumCon.y, gain.u);
  <font color="red">connect</font>(gain.y, pum.m_flow_in);
  <font color="red">connect</font>(pum.port_b, TIn.port_a);
  <font color="red">connect</font>(pum.port_a, exp.port_a);
  <font color="red">connect</font>(exp.port_a, tan.port_b1);
  <font color="red">connect</font>(TOut.port_b, tan.port_a1);
  <font color="red">connect</font>(bou.ports[1], tan.port_a);
  <font color="red">connect</font>(bou1.ports[1], tan.port_b);
  <font color="red">connect</font>(tan.heaPorVol[3], TTan.port);
  <font color="red">connect</font>(TTan.T, pumCon.TIn);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FlatPlateWithTank;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Tubular<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.Fluid.SolarColl850367d0f2a3dcd4atingI.png" ALT="Buildings.Fluid.SolarCollectors.Examples.Tubular" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.Fluid.SolarCollectors.Examples.Tubular"></A><A HREF="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples"
>Buildings.Fluid.SolarCollectors.Examples</A>.Tubular</H2>
<B>Example showing the use of Tubular</B><p></P>
<IMG SRC="Buildings.Fluid.SolarColl9286c88eb6ecf02fbularD.png" ALT="Buildings.Fluid.SolarCollectors.Examples.Tubular">
<P></P><H3>Information</H3>

      <p>
        This example models a tubular solar thermal collector. It uses the 
        <A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.ASHRAE93"
>
        Buildings.Fluid.SolarCollectors.ASHRAE93</a> model and references
        data in the <A HREF="Buildings_Fluid_SolarCollectors_Data_Tubular.html#Buildings.Fluid.SolarCollectors.Data.Tubular"
>
        Buildings.Fluid.SolarCollectors.Data.Tubular</a> package.
      </p>
    <P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Buildings.Media.ConstantProp...</TD><TD>Medium in the system</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Medium in the system</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Tubular <font color="darkgreen">&quot;Example showing the use of Tubular&quot;</font>
  <font color="blue">extends </font><A HREF="../../msl/3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium = <A HREF="Buildings_Media_ConstantPropertyLiquidWater.html#Buildings.Media.ConstantPropertyLiquidWater"
>Buildings.Media.ConstantPropertyLiquidWater</A> <font color="darkgreen">
    &quot;Medium in the system&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.ASHRAE93"
>Buildings.Fluid.SolarCollectors.ASHRAE93</A>          solCol(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    shaCoe=0,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    use_shaCoe_in=false,
    per=<font color="red">Buildings.Fluid.SolarCollectors.Data.Tubular.T_AMKCollectraAGOWR20</font>(),
    nPanels=10,
    sysConfig=Buildings.Fluid.SolarCollectors.Types.SystemConfiguration.Parallel,
    nColType=Buildings.Fluid.SolarCollectors.Types.NumberSelection.Number,
    rho=0.2,
    nSeg=9,
    lat=0.73097781993588,
    azi=0.3,
    til=0.5) <font color="darkgreen">&quot;Tubular solar collector model&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.ReaderTMY3"
>Buildings.BoundaryConditions.WeatherData.ReaderTMY3</A> weaDat(filNam=
    &quot;modelica://Buildings/Resources/weatherdata/USA_CA_San.Francisco.Intl.AP.724940_TMY3.mos&quot;) <font color="darkgreen">
    &quot;Weather data input file&quot;</font>;
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sin(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=false,
    p(displayUnit=&quot;Pa&quot;) = 101325,
    nPorts=1) <font color="darkgreen">&quot;Inlet for fluid flow&quot;</font>;
  <font color="blue">inner </font><A HREF="../../msl/3.2/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system(p_ambient=101325);
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> TOut(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T_start(displayUnit=&quot;K&quot;),
    m_flow_nominal=solCol.m_flow_nominal) <font color="darkgreen">&quot;Temperature sensor&quot;</font>;
  <A HREF="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</A> TIn(<font color="blue">redeclare </font><font color="blue">package</font> Medium =
    Medium, m_flow_nominal=solCol.m_flow_nominal) <font color="darkgreen">&quot;Temperature sensor&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</A> sine(
    freqHz=3/86400,
    offset=101325,
    amplitude=-1.5*solCol.dp_nominal);
  <A HREF="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</A> sou(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T=273.15 + 10,
    nPorts=1,
    use_p_in=true,
    p(displayUnit=&quot;Pa&quot;)) <font color="darkgreen">&quot;Inlet for water flow&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(solCol.port_b,TOut. port_a);
  <font color="red">connect</font>(TOut.port_b,sin. ports[1]);
  <font color="red">connect</font>(TIn.port_b,solCol. port_a);
  <font color="red">connect</font>(weaDat.weaBus, solCol.weaBus);
  <font color="red">connect</font>(sine.y, sou.p_in);
  <font color="red">connect</font>(sou.ports[1], TIn.port_a);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Tubular;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Thu Oct 24 15:09:54 2013.
</address></BODY>
</HTML>
