<HTML>
<HEAD>
<TITLE>Buildings.HeatTransfer.Windows</TITLE>
<META name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META name="description" content="&quot;Package with models for windows&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- --- header ------ -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- --- end header -- -->
</P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Windows<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Buildings.HeatTransfer.Windows"></A><A HREF="Buildings_HeatTransfer.html#Buildings.HeatTransfer"
>Buildings.HeatTransfer</A>.Windows</H2>
<B>Package with models for windows</B>
<P></P>
<P></P><H3>Information</H3>

<p>
This package contains models for heat transfer in windows.
</p>
<P></P>
Extends from <A HREF="../../msl/3.2/help/Modelica_Icons_VariantsPackage.html#Modelica.Icons.VariantsPackage"
>Modelica.Icons.VariantsPackage</A> (Icon for package containing variants).
<P></P><H3>Package Content</H3>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Buildings.HeatTransfer.Windows.WindowS.png" ALT="Buildings.HeatTransfer.Windows.Window" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.Window"
>Window</A>
</TD><TD>Model for a window</TD></TR>
<TR><TD><IMG SRC="Buildings.HeatTransfer.Wi2d14d314589e5d51nsferS.png" ALT="Buildings.HeatTransfer.Windows.ExteriorHeatTransfer" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.ExteriorHeatTransfer"
>ExteriorHeatTransfer</A>
</TD><TD>Model for heat convection and radiation at the exterior surface of a window that may have a shading device</TD></TR>
<TR><TD><IMG SRC="Buildings.HeatTransfer.Wibd22c4743943a4b1ctiveS.png" ALT="Buildings.HeatTransfer.Windows.InteriorHeatTransferConvective" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.InteriorHeatTransferConvective"
>InteriorHeatTransferConvective</A>
</TD><TD>Model for heat convection at the interior surface of a window that may have a shading device</TD></TR>
<TR><TD><IMG SRC="Buildings.HeatTransfer.Wieba82d94a86f3ff2ShadeS.png" ALT="Buildings.HeatTransfer.Windows.FixedShade" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.FixedShade"
>FixedShade</A>
</TD><TD>Model for exterior shade due to overhang and/or side fin</TD></TR>
<TR><TD><IMG SRC="Buildings.HeatTransfer.Wieba82d94a86f3ff2ShadeS.png" ALT="Buildings.HeatTransfer.Windows.Overhang" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.Overhang"
>Overhang</A>
</TD><TD>For a window with an overhang, outputs the fraction of the window area exposed to the sun</TD></TR>
<TR><TD><IMG SRC="Buildings.HeatTransfer.Windows.SideFinsS.png" ALT="Buildings.HeatTransfer.Windows.SideFins" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.SideFins"
>SideFins</A>
</TD><TD>For a window with side fins, outputs the fraction of the window area exposed to the sun</TD></TR>
<TR><TD><IMG SRC="Buildings.HeatTransfer.Windows.ExamplesS.png" ALT="Buildings.HeatTransfer.Windows.Examples" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_HeatTransfer_Windows_Examples.html#Buildings.HeatTransfer.Windows.Examples"
>Examples</A>
</TD><TD>Collection of models that illustrate model use and test models</TD></TR>
<TR><TD><IMG SRC="Buildings.HeatTransfer.Wiac2442c6b363a92fassesS.png" ALT="Buildings.HeatTransfer.Windows.BaseClasses" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>BaseClasses</A>
</TD><TD>Package with base classes for Buildings.HeatTransfer.Windows</TD></TR>
<TR><TD><IMG SRC="Buildings.HeatTransfer.Windows.FunctionsS.png" ALT="Buildings.HeatTransfer.Windows.Functions" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Buildings_HeatTransfer_Windows_Functions.html#Buildings.HeatTransfer.Windows.Functions"
>Functions</A>
</TD><TD>Functions used in window radiation model</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Window<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.HeatTransfer.Windows.WindowI.png" ALT="Buildings.HeatTransfer.Windows.Window" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.HeatTransfer.Windows.Window"></A><A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows"
>Buildings.HeatTransfer.Windows</A>.Window</H2>
<B>Model for a window</B><p></P>
<IMG SRC="Buildings.HeatTransfer.Windows.WindowD.png" ALT="Buildings.HeatTransfer.Windows.Window">
<P></P><H3>Information</H3>

<h4>Overview</h4>
<p>
This is a model for a window system. The equations are similar to the
equations used in the Window 5 model and described in TARCOG 2006. 
The model computes 
the heat balance from the exterior surface to 
the room-facing surface for a window system.
The window system can have
an exterior or an interior shade, but not both, or it can
have no shade.
The convective heat transfer between the window system and the outside air
or the room is <em>not</em> computed by this model. 
They can be computed using the models
<A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.ExteriorHeatTransfer"
>
Buildings.HeatTransfer.Windows.ExteriorHeatTransfer</a>
and
<a href="modelica://Buildings.HeatTransfer.Windows.InteriorHeatTransfer">
Buildings.HeatTransfer.Windows.InteriorHeatTransfer</a>.
</p>

<h4>Limitations</h4>
<p>
To calculate the angular transmittance, reflectance and absorptance of a glazing system, Window 5 model first calculates the value for each wave length, then calculate the weighted value over entire wave lengths.
Current window model in Buildings library only uses the weighted value of each glass. 
As a result, there are some differences in prediciton between the current Modelica window model and WINDOW 5. 
The difference is small for single layer window or multi-layer window with the same glasses. 
But it can be large for multi-layer window with different glasses.  
</p>

<h4>Parameters</h4>
<p>
This model takes as the parameter <code>glaSys</code> a data record 
from the package
<A HREF="Buildings_HeatTransfer_Data_GlazingSystems.html#Buildings.HeatTransfer.Data.GlazingSystems"
>
Buildings.HeatTransfer.Data.GlazingSystems</a>.
This data record specifies the properties of the glasses, 
the gas fills, the frame and of
the shades, if any shade is present.
Whether a shade is present or not is determined by the parameters
<code>glaSys.haveExteriorShade</code> and
<code>glaSys.haveInteriorShade</code>. 
</p>
<p>
The parameter <code>linearize</code> can be used
to linearize the model equations.
</p>
<h4>Ports</h4>
<p>
If a shade is present, then the input port <code>u</code> is used 
to determine the
shade position. Set <code>u=0</code> to have the window in the 
unshaded mode,
and set <code>u=1</code> to have the window shade completely deployed. 
Any intermediate value is possible.
If no shade is present, then this port will be removed.
</p>
<p>
For the heat ports, the suffix <code>_a</code> is used for the exterior, outside-facing side
of the window, and the suffix <code>_b</code> is used for the interior, room-facing surface
of the window.
Each side has heat ports that connect to the glass, to the frame, and, optionally, to the 
shade. If no shade is present, then the heat port to the shade will be removed.
</p>

<h4>Description of the Physics</h4>
<p>
The model has three main submodels that implement the relevant
heat balances:</p>
<ol>
<li>
The model <code>frame</code> computes heat conduction
through the frame.
</li>
<li>
The model <code>glaUns</code> computes the heat balance of the part of the
window that is unshaded. For example, if <code>u=0.2</code>, then this model accounts for
the 80% of the window that is not behind the shade or blind.
</li>
<li>
The model <code>glaSha</code> computes the heat balance of the part of the
window that is shaded. For example, if <code>u=0.2</code>, then this model accounts for
the 20% of the window that is behind the shade or blind.
If the parameter <code>glaSys</code> specifies that the window has no exterior
and no interior shade, then the model <code>glaSha</code> will be removed.
</li>
</ol>

<p>
The models <code>glaUns</code> and <code>glaSha</code> 
compute the solar radiation that is absorbed by each 
glass pane and the solar radiation that is transitted 
through the window as a function of the solar incidence angle.
They then compute a heat balance that takes into account heat conduction through the glass,
heat convection through the gas layer,
and infrared radiation from the exterior and the room through the glass and gas layers.
The infrared radiative heat exchange is computed using a radiosity balance.
Heat conduction through the frame is computed using a heat flow path that is parallel to the 
glazing system, i.e., there is no heat exchange between the frame 
and the glazing layer.
</p>

<h4>Validation</h4>
<p>
The window model has been validated by using measurement data at LBNL's Test Cell 71T and by using
a comparative model validation with the WINDOW 6 program. These validations are described in Nouidui et al. (2012).
The window model has also been validated as part of the BESTEST validations that are implemented in
<A HREF="Buildings_Rooms_Examples_BESTEST.html#Buildings.Rooms.Examples.BESTEST"
>
Buildings.Rooms.Examples.BESTEST</a>.
</p>

<h4>References</h4>
<p>
TARCOG 2006: Carli, Inc., TARCOG: Mathematical models for calculation
of thermal performance of glazing systems with or without
shading devices, Technical Report, Oct. 17, 2006.
</p>

<p>
Thierry Stephane Nouidui, Michael Wetter, and Wangda Zuo.
<a href="../Resources/Images/HeatTransfer/Windows/2012-simBuild-windowValidation.pdf">
Validation of the window model of the Modelica Buildings library.</a>
<i>Proc. of the 5th SimBuild Conference</i>, Madison, WI, USA, August 2012.
</p>
<P></P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Buildings_HeatTransfer_Data_GlazingSystems.html#Buildings.HeatTransfer.Data.GlazingSystems.Generic"
>Generic</A></TD><TD>glaSys</TD><TD>&nbsp;</TD><TD>Glazing system</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>A</TD><TD>&nbsp;</TD><TD>Heat transfer area [m2]</TD></TR>
<TR><TD>Real</TD><TD>fFra</TD><TD>0.1</TD><TD>Fraction of frame</TD></TR>
<TR><TD>Boolean</TD><TD>linearize</TD><TD>false</TD><TD>Set to true to linearize emissive power</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>til</TD><TD>&nbsp;</TD><TD>Surface tilt [rad]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</A></TD><TD>JOutUns_a</TD><TD>Outgoing radiosity that connects to unshaded part of glass at exterior side [W]</TD></TR>
<TR><TD>input <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</A></TD><TD>JInUns_a</TD><TD>Incoming radiosity that connects to unshaded part of glass at exterior side [W]</TD></TR>
<TR><TD>output <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</A></TD><TD>JOutSha_a</TD><TD>Outgoing radiosity that connects to shaded part of glass at exterior side [W]</TD></TR>
<TR><TD>input <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</A></TD><TD>JInSha_a</TD><TD>Incoming radiosity that connects to shaded part of glass at exterior side [W]</TD></TR>
<TR><TD>output <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</A></TD><TD>JOutUns_b</TD><TD>Outgoing radiosity that connects to unshaded part of glass at room-side [W]</TD></TR>
<TR><TD>input <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</A></TD><TD>JInUns_b</TD><TD>Incoming radiosity that connects to unshaded part of glass at room-side [W]</TD></TR>
<TR><TD>output <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</A></TD><TD>JOutSha_b</TD><TD>Outgoing radiosity that connects to shaded part of glass at room-side [W]</TD></TR>
<TR><TD>input <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</A></TD><TD>JInSha_b</TD><TD>Incoming radiosity that connects to shaded part of glass at room-side [W]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>glaUns_a</TD><TD>Heat port at unshaded glass of exterior-facing surface</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</A></TD><TD>glaUns_b</TD><TD>Heat port at unshaded glass of room-facing surface</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>glaSha_a</TD><TD>Heat port at shaded glass of exterior-facing surface</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</A></TD><TD>glaSha_b</TD><TD>Heat port at shaded glass of room-facing surface</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>fra_a</TD><TD>Heat port at frame of exterior-facing surface</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</A></TD><TD>fra_b</TD><TD>Heat port at frame of room-facing surface</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>uSha</TD><TD>Control signal for the shading device. 0: unshaded; 1: fully shaded (removed if no shade is present)</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>QAbsUns_flow[glaSys.nLay]</TD><TD>Solar radiation absorbed by unshaded part of glass [W]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>QAbsSha_flow[glaSys.nLay]</TD><TD>Solar radiation absorbed by shaded part of glass [W]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Window <font color="darkgreen">&quot;Model for a window&quot;</font>

<textblock type="annotcomp" expanded="false">  <font color="blue">parameter </font><A HREF="Buildings_HeatTransfer_Data_GlazingSystems.html#Buildings.HeatTransfer.Data.GlazingSystems.Generic"
>Buildings.HeatTransfer.Data.GlazingSystems.Generic</A> glaSys <font color="darkgreen">
    &quot;Glazing system&quot;</font>;</textblock>
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> A <font color="darkgreen">&quot;Heat transfer area&quot;</font>;
  <font color="blue">parameter </font>Real fFra(min=0, max=1)=0.1 <font color="darkgreen">&quot;Fraction of frame&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AFra = fFra*A <font color="darkgreen">&quot;Frame area&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</A> AGla = A-AFra <font color="darkgreen">&quot;Glass area&quot;</font>;
  <font color="blue">parameter </font>Boolean linearize=false <font color="darkgreen">&quot;Set to true to linearize emissive power&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</A> til(displayUnit=&quot;deg&quot;) <font color="darkgreen">&quot;Surface tilt&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Interfaces.RadiosityOutflow</A> JOutUns_a <font color="darkgreen">
    &quot;Outgoing radiosity that connects to unshaded part of glass at exterior side&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Interfaces.RadiosityInflow</A> JInUns_a <font color="darkgreen">
    &quot;Incoming radiosity that connects to unshaded part of glass at exterior side&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Interfaces.RadiosityOutflow</A> JOutSha_a <font color="blue">if </font>haveShade <font color="darkgreen">
    &quot;Outgoing radiosity that connects to shaded part of glass at exterior side&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Interfaces.RadiosityInflow</A> JInSha_a <font color="blue">if </font>haveShade <font color="darkgreen">
    &quot;Incoming radiosity that connects to shaded part of glass at exterior side&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Interfaces.RadiosityOutflow</A> JOutUns_b <font color="darkgreen">
    &quot;Outgoing radiosity that connects to unshaded part of glass at room-side&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Interfaces.RadiosityInflow</A> JInUns_b <font color="darkgreen">
    &quot;Incoming radiosity that connects to unshaded part of glass at room-side&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Interfaces.RadiosityOutflow</A> JOutSha_b <font color="blue">if </font>haveShade <font color="darkgreen">
    &quot;Outgoing radiosity that connects to shaded part of glass at room-side&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Interfaces.RadiosityInflow</A> JInSha_b <font color="blue">if </font>haveShade <font color="darkgreen">
    &quot;Incoming radiosity that connects to shaded part of glass at room-side&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.CenterOfGlass"
>Buildings.HeatTransfer.Windows.BaseClasses.CenterOfGlass</A> glaUns(
    <font color="blue">final </font>glaSys=glaSys,
    <font color="blue">final </font>A=AGla,
    <font color="blue">final </font>til=til,
    <font color="blue">final </font>linearize=linearize) <font color="darkgreen">&quot;Model for unshaded center of glass&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.CenterOfGlass"
>Buildings.HeatTransfer.Windows.BaseClasses.CenterOfGlass</A> glaSha(
    <font color="blue">final </font>glaSys=glaSys,
    <font color="blue">final </font>A=AGla,
    <font color="blue">final </font>til=til,
    <font color="blue">final </font>linearize=linearize) <font color="blue">if </font>haveShade <font color="darkgreen">&quot;Model for shaded center of glass&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.ThermalConductor"
>Modelica.Thermal.HeatTransfer.Components.ThermalConductor</A> frame(G=AFra*
        glaSys.UFra) <font color="darkgreen">&quot;Thermal conductance of frame&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> glaUns_a <font color="darkgreen">
    &quot;Heat port at unshaded glass of exterior-facing surface&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b</A> glaUns_b <font color="darkgreen">
    &quot;Heat port at unshaded glass of room-facing surface&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> glaSha_a <font color="blue">if </font>haveShade <font color="darkgreen">
    &quot;Heat port at shaded glass of exterior-facing surface&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b</A> glaSha_b <font color="blue">if </font>haveShade <font color="darkgreen">
    &quot;Heat port at shaded glass of room-facing surface&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A> fra_a <font color="darkgreen">
    &quot;Heat port at frame of exterior-facing surface&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b</A> fra_b <font color="darkgreen">
    &quot;Heat port at frame of room-facing surface&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> uSha(min=0, max=1) <font color="blue">if </font>
       haveShade <font color="darkgreen">
    &quot;Control signal for the shading device. 0: unshaded; 1: fully shaded (removed if no shade is present)&quot;</font>;
    </textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> QAbsUns_flow[glaSys.nLay](<font color="blue">each </font>unit=&quot;W&quot;,
      <font color="blue">each </font>quantity=&quot;Power&quot;) <font color="darkgreen">
    &quot;Solar radiation absorbed by unshaded part of glass&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> QAbsSha_flow[glaSys.nLay](<font color="blue">each </font>unit=&quot;W&quot;,
      <font color="blue">each </font>quantity=&quot;Power&quot;) <font color="blue">if </font>haveShade <font color="darkgreen">
    &quot;Solar radiation absorbed by shaded part of glass&quot;</font>;</textblock>

<font color="blue">protected </font>
  <font color="blue">final </font><font color="blue">parameter </font>Boolean haveShade = glaSys.haveExteriorShade<font color="blue"> or </font>glaSys.haveInteriorShade <font color="darkgreen">
    &quot;Parameter, equal to true if the window has a shade&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadingSignal"
>BaseClasses.ShadingSignal</A> shaSig(<font color="blue">final </font>haveShade=glaSys.haveExteriorShade<font color="blue"> or </font>glaSys.haveInteriorShade) <font color="darkgreen">
    &quot;Block to constrain the shading control signal to be strictly within (0, 1) if a shade is present&quot;</font>;
    </textblock>

<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(frame.port_a, fra_a);
  <font color="red">connect</font>(frame.port_b, fra_b);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(glaUns.glass_a, glaUns_a);
  <font color="red">connect</font>(glaUns.glass_b, glaUns_b);
  <font color="red">connect</font>(shaSig.yCom, glaUns.u);
  <font color="red">connect</font>(shaSig.y, glaSha.u);
  <font color="red">connect</font>(shaSig.u, uSha);
  <font color="red">connect</font>(glaSha.glass_a, glaSha_a);
  <font color="red">connect</font>(glaSha.glass_b, glaSha_b);
  <font color="red">connect</font>(JInUns_a, glaUns.JIn_a);
  <font color="red">connect</font>(glaUns.JOut_a, JOutUns_a);
  <font color="red">connect</font>(glaUns.JOut_b, JOutUns_b);
  <font color="red">connect</font>(JInUns_b, glaUns.JIn_b);
  <font color="red">connect</font>(JInSha_a, glaSha.JIn_a);
  <font color="red">connect</font>(glaSha.JOut_a, JOutSha_a);
  <font color="red">connect</font>(glaSha.JOut_b, JOutSha_b);
  <font color="red">connect</font>(JInSha_b, glaSha.JIn_b);
  <font color="red">connect</font>(glaUns.QAbs_flow, QAbsUns_flow);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(glaSha.QAbs_flow,QAbsSha_flow);</textblock>

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Window;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ExteriorHeatTransfer<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.HeatTransfer.Wi2d14d314589e5d51nsferI.png" ALT="Buildings.HeatTransfer.Windows.ExteriorHeatTransfer" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.HeatTransfer.Windows.ExteriorHeatTransfer"></A><A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows"
>Buildings.HeatTransfer.Windows</A>.ExteriorHeatTransfer</H2>
<B>Model for heat convection and radiation at the exterior surface of a window that may have a shading device</B><p></P>
<IMG SRC="Buildings.HeatTransfer.Wi2d14d314589e5d51nsferD.png" ALT="Buildings.HeatTransfer.Windows.ExteriorHeatTransfer">
<P></P><H3>Information</H3>

<p>
Model for the convective heat transfer between a window shade, a window surface
and the room air.
This model is applicable for the outside-facing surface of a window system and 
can be used with the model
<A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.Window"
>
Buildings.HeatTransfer.Windows.Window</a>.
</p>
<p>
This model adds the convective heat transfer coefficient to its base model.
</p>
<P></P>
Extends from <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialWindowBoundaryCondition"
>BaseClasses.PartialWindowBoundaryCondition</A> (Partial model for heat convection or radiation between a possibly shaded window that can be outside or inside the room).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>A</TD><TD>&nbsp;</TD><TD>Heat transfer area of frame and window [m2]</TD></TR>
<TR><TD>Real</TD><TD>fFra</TD><TD>&nbsp;</TD><TD>Fraction of window frame divided by total window area</TD></TR>
<TR><TD>Boolean</TD><TD>linearizeRadiation</TD><TD>&nbsp;</TD><TD>Set to true to linearize emissive power</TD></TR>
<TR><TD>Real</TD><TD>vieFacSky</TD><TD>&nbsp;</TD><TD>View factor from receiving surface to sky [1]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Shading</TD></TR>
<TR><TD>Boolean</TD><TD>haveExteriorShade</TD><TD>&nbsp;</TD><TD>Set to true if window has exterior shade (at surface a)</TD></TR>
<TR><TD>Boolean</TD><TD>haveInteriorShade</TD><TD>&nbsp;</TD><TD>Set to true if window has interior shade (at surface b)</TD></TR>
<TR><TD>Boolean</TD><TD>thisSideHasShade</TD><TD>haveExteriorShade</TD><TD>Set to true if this side of the model has a shade</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Emissivity</A></TD><TD>absIRSha_air</TD><TD>&nbsp;</TD><TD>Infrared absorptivity of shade surface that faces air [1]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Emissivity</A></TD><TD>absIRSha_glass</TD><TD>&nbsp;</TD><TD>Infrared absorptivity of shade surface that faces glass [1]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</A></TD><TD>tauIRSha_air</TD><TD>&nbsp;</TD><TD>Infrared transmissivity of shade for radiation coming from the exterior or the room [1]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</A></TD><TD>tauIRSha_glass</TD><TD>&nbsp;</TD><TD>Infrared transmissivity of shade for radiation coming from the glass [1]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>uSha</TD><TD>Input connector, used to scale the surface area to take into account an operable shading device, 0: unshaded; 1: fully shaded</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>air</TD><TD>Port that connects to the air (room or outside)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</A></TD><TD>glaUns</TD><TD>Heat port that connects to unshaded part of glass</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</A></TD><TD>glaSha</TD><TD>Heat port that connects to shaded part of glass</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>frame</TD><TD>Heat port at window frame</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>vWin</TD><TD>Wind speed [m/s]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TBlaSky</TD><TD>Black body sky temperature [K]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>TOut</TD><TD>Outside temperature [K]</TD></TR>
<TR><TD>output <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</A></TD><TD>JOutUns</TD><TD>Outgoing radiosity that connects to unshaded part of glass [W]</TD></TR>
<TR><TD>input <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</A></TD><TD>JInUns</TD><TD>Incoming radiosity that connects to unshaded part of glass [W]</TD></TR>
<TR><TD>output <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</A></TD><TD>JOutSha</TD><TD>Outgoing radiosity that connects to shaded part of glass [W]</TD></TR>
<TR><TD>input <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</A></TD><TD>JInSha</TD><TD>Incoming radiosity that connects to shaded part of glass [W]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>QSolAbs_flow</TD><TD>Solar radiation absorbed by shade [W]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> ExteriorHeatTransfer <font color="darkgreen">
  &quot;Model for heat convection and radiation at the exterior surface of a window that may have a shading device&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialWindowBoundaryCondition"
>BaseClasses.PartialWindowBoundaryCondition</A>(<font color="blue">final </font>thisSideHasShade=haveExteriorShade);
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</A> absIRSha_air <font color="darkgreen">
    &quot;Infrared absorptivity of shade surface that faces air&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</A> absIRSha_glass <font color="darkgreen">
    &quot;Infrared absorptivity of shade surface that faces glass&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>Modelica.SIunits.TransmissionCoefficient</A> tauIRSha_air <font color="darkgreen">
    &quot;Infrared transmissivity of shade for radiation coming from the exterior or the room&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>Modelica.SIunits.TransmissionCoefficient</A> tauIRSha_glass <font color="darkgreen">
    &quot;Infrared transmissivity of shade for radiation coming from the glass&quot;</font>;

  <font color="blue">parameter </font>Boolean linearizeRadiation <font color="darkgreen">
    &quot;Set to true to linearize emissive power&quot;</font>;
  <font color="blue">parameter </font>Real vieFacSky(<font color="blue">final </font>min=0, <font color="blue">final </font>max=1, <font color="blue">final </font>unit=&quot;1&quot;) <font color="darkgreen">
    &quot;View factor from receiving surface to sky&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> vWin(<font color="blue">final </font>unit=&quot;m/s&quot;) <font color="darkgreen">&quot;Wind speed&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ExteriorConvectionCoefficient"
>Buildings.HeatTransfer.Windows.BaseClasses.ExteriorConvectionCoefficient</A>
    conCoeGla(                                          <font color="blue">final </font>A=AGla) <font color="darkgreen">
    &quot;Model for the outside convective heat transfer coefficient of the glass&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ExteriorConvectionCoefficient"
>Buildings.HeatTransfer.Windows.BaseClasses.ExteriorConvectionCoefficient</A>
    conCoeFra(                                          <font color="blue">final </font>A=AFra) <font color="darkgreen">
    &quot;Model for the outside convective heat transfer coefficient of the frame&quot;</font>;
 <A HREF="Buildings_HeatTransfer_Radiosity.html#Buildings.HeatTransfer.Radiosity.OutdoorRadiosity"
>Radiosity.OutdoorRadiosity</A> radOut(
   <font color="blue">final </font>A=AGla, vieFacSky=vieFacSky,
    linearize=linearizeRadiation) <font color="darkgreen">&quot;Outdoor radiosity&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TBlaSky(
    <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
    <font color="blue">final </font>unit=&quot;K&quot;,
    min=0) <font color="darkgreen">&quot;Black body sky temperature&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> TOut(<font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;,
                                            <font color="blue">final </font>unit = &quot;K&quot;, min=0) <font color="darkgreen">
    &quot;Outside temperature&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Interfaces.RadiosityOutflow</A> JOutUns <font color="darkgreen">
    &quot;Outgoing radiosity that connects to unshaded part of glass&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Interfaces.RadiosityInflow</A> JInUns <font color="darkgreen">
    &quot;Incoming radiosity that connects to unshaded part of glass&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Interfaces.RadiosityOutflow</A> JOutSha <font color="blue">if </font>haveShade <font color="darkgreen">
    &quot;Outgoing radiosity that connects to shaded part of glass&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Interfaces.RadiosityInflow</A> JInSha <font color="blue">if </font>haveShade <font color="darkgreen">
    &quot;Incoming radiosity that connects to shaded part of glass&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> QSolAbs_flow(unit=&quot;W&quot;, quantity=&quot;Power&quot;) <font color="blue">if </font>
       haveShade <font color="darkgreen">&quot;Solar radiation absorbed by shade&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeRadiation"
>BaseClasses.ShadeRadiation</A> shaRad(
    <font color="blue">final </font>thisSideHasShade=thisSideHasShade,
    <font color="blue">final </font>A=AGla,
    <font color="blue">final </font>linearize=linearizeRadiation,
    <font color="blue">final </font>absIR_air=<font color="blue">if </font>thisSideHasShade<font color="blue"> then </font>absIRSha_air<font color="blue"> else </font>0,
    <font color="blue">final </font>absIR_glass=<font color="blue">if </font>thisSideHasShade<font color="blue"> then </font>absIRSha_glass<font color="blue"> else </font>0,
    <font color="blue">final </font>tauIR_air=<font color="blue">if </font>thisSideHasShade<font color="blue"> then </font>tauIRSha_air<font color="blue"> else </font>1,
    <font color="blue">final </font>tauIR_glass=<font color="blue">if </font>thisSideHasShade<font color="blue"> then </font>tauIRSha_glass<font color="blue"> else </font>1) <font color="blue">if </font>
       haveShade <font color="darkgreen">&quot;Radiative heat balance of shade&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Buildings_HeatTransfer_Radiosity.html#Buildings.HeatTransfer.Radiosity.RadiositySplitter"
>Radiosity.RadiositySplitter</A> radShaOut <font color="darkgreen">&quot;Radiosity that strikes shading device&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeConvection"
>BaseClasses.ShadeConvection</A> shaCon(<font color="blue">final </font>thisSideHasShade=thisSideHasShade,
      <font color="blue">final </font>A=AGla) <font color="blue">if </font>
       haveShade <font color="darkgreen">&quot;Convective heat balance of shade&quot;</font>;</textblock>
<font color="blue">equation </font>
  <font color="red">assert</font>(-1E-10&lt;vieFacSky<font color="blue"> and </font>1.00001 &gt; vieFacSky,
         &quot;View factor to sky is out of range. vieFacSky = &quot; +<font color="red"> String</font>(vieFacSky)
         + &quot;\n   Check parameters.&quot;);

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(vWin, conCoeGla.v);
  <font color="red">connect</font>(vWin, conCoeFra.v);
  <font color="red">connect</font>(conCoeFra.GCon, conFra.Gc);
  <font color="red">connect</font>(conCoeGla.GCon, proSha.u1);
  <font color="red">connect</font>(conCoeGla.GCon, proUns.u2);
  <font color="red">connect</font>(radOut.JOut, radShaOut.JIn);
  <font color="red">connect</font>(radOut.TBlaSky, TBlaSky);
  <font color="red">connect</font>(radOut.TOut, TOut);
  <font color="red">connect</font>(radShaOut.JOut_2,JOutUns);
  <font color="red">connect</font>(shaRad.JOut_glass, JOutSha);
  <font color="red">connect</font>(shaRad.JIn_glass, JInSha);
  <font color="red">connect</font>(radShaOut.JOut_1, shaRad.JIn_air);
  <font color="red">connect</font>(shaRad.u, shaSig.y);
  <font color="red">connect</font>(glaSha, shaCon.glass);
  <font color="red">connect</font>(shaCon.air, air);
  <font color="red">connect</font>(shaCon.Gc, proSha.y);
  <font color="red">connect</font>(shaCon.TSha, shaRad.TSha);
  <font color="red">connect</font>(shaRad.QRadAbs_flow, shaCon.QRadAbs_flow);
  <font color="red">connect</font>(radShaOut.u, shaSig.y);
  <font color="red">connect</font>(shaRad.QSolAbs_flow, QSolAbs_flow);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>ExteriorHeatTransfer;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE InteriorHeatTransferConvective<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.HeatTransfer.Wibd22c4743943a4b1ctiveI.png" ALT="Buildings.HeatTransfer.Windows.InteriorHeatTransferConvective" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.HeatTransfer.Windows.InteriorHeatTransferConvective"></A><A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows"
>Buildings.HeatTransfer.Windows</A>.InteriorHeatTransferConvective</H2>
<B>Model for heat convection at the interior surface of a window that may have a shading device</B><p></P>
<IMG SRC="Buildings.HeatTransfer.Wibd22c4743943a4b1ctiveD.png" ALT="Buildings.HeatTransfer.Windows.InteriorHeatTransferConvective">
<P></P><H3>Information</H3>

<p>
Model for the convective heat transfer between a window shade, a window surface
and the room air.
This model is applicable for the room-facing surface of a window system and 
can be used with the model
<A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.Window"
>
Buildings.HeatTransfer.Windows.Window</a>.
</p>
<p>
This model adds the convective heat transfer coefficient to its base model.
</p>
<P></P>
Extends from <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialWindowBoundaryCondition"
>BaseClasses.PartialWindowBoundaryCondition</A> (Partial model for heat convection or radiation between a possibly shaded window that can be outside or inside the room).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>A</TD><TD>&nbsp;</TD><TD>Heat transfer area of frame and window [m2]</TD></TR>
<TR><TD>Real</TD><TD>fFra</TD><TD>&nbsp;</TD><TD>Fraction of window frame divided by total window area</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Shading</TD></TR>
<TR><TD>Boolean</TD><TD>haveExteriorShade</TD><TD>&nbsp;</TD><TD>Set to true if window has exterior shade (at surface a)</TD></TR>
<TR><TD>Boolean</TD><TD>haveInteriorShade</TD><TD>&nbsp;</TD><TD>Set to true if window has interior shade (at surface b)</TD></TR>
<TR><TD>Boolean</TD><TD>thisSideHasShade</TD><TD>haveInteriorShade</TD><TD>Set to true if this side of the model has a shade</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>uSha</TD><TD>Input connector, used to scale the surface area to take into account an operable shading device, 0: unshaded; 1: fully shaded</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>air</TD><TD>Port that connects to the air (room or outside)</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</A></TD><TD>glaUns</TD><TD>Heat port that connects to unshaded part of glass</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</A></TD><TD>glaSha</TD><TD>Heat port that connects to shaded part of glass</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>frame</TD><TD>Heat port at window frame</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>QRadAbs_flow</TD><TD>Total net radiation that is absorbed by the shade (positive if absorbed) [W]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>TSha</TD><TD>Shade temperature [K]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> InteriorHeatTransferConvective <font color="darkgreen">
  &quot;Model for heat convection at the interior surface of a window that may have a shading device&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialWindowBoundaryCondition"
>BaseClasses.PartialWindowBoundaryCondition</A>(<font color="blue">final </font>thisSideHasShade=haveInteriorShade);
<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvectionCoefficient"
>Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvectionCoefficient</A>
    conCoeGla(<font color="blue">final </font>A=AGla) <font color="darkgreen">
    &quot;Model for the inside convective heat transfer coefficient of the glass&quot;</font>;
  <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvectionCoefficient"
>Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvectionCoefficient</A>
    conCoeFra(<font color="blue">final </font>A=AFra) <font color="darkgreen">
    &quot;Model for the inside convective heat transfer coefficient of the frame&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeConvection"
>BaseClasses.ShadeConvection</A> conSha(
    <font color="blue">final </font>A=AGla,
    <font color="blue">final </font>thisSideHasShade=thisSideHasShade) <font color="blue">if </font>
       haveShade <font color="darkgreen">&quot;Convection model for shade&quot;</font>;
 <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> QRadAbs_flow(<font color="blue">final </font>unit=&quot;W&quot;) <font color="blue">if </font>
       haveShade <font color="darkgreen">
    &quot;Total net radiation that is absorbed by the shade (positive if absorbed)&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> TSha(
   <font color="blue">final </font>unit=&quot;K&quot;,
   <font color="blue">final </font>quantity=&quot;ThermodynamicTemperature&quot;) <font color="blue">if </font>
      haveShade <font color="darkgreen">&quot;Shade temperature&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(conCoeFra.GCon, conFra.Gc);
  <font color="red">connect</font>(conCoeGla.GCon, proUns.u2);
  <font color="red">connect</font>(conCoeGla.GCon, proSha.u1);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(conSha.glass, glaSha);
  <font color="red">connect</font>(proSha.y, conSha.Gc);
  <font color="red">connect</font>(conSha.TSha, TSha);
  <font color="red">connect</font>(QRadAbs_flow, conSha.QRadAbs_flow);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(conFra.fluid, air);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(air, conSha.air);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>InteriorHeatTransferConvective;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FixedShade<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.HeatTransfer.Wieba82d94a86f3ff2ShadeI.png" ALT="Buildings.HeatTransfer.Windows.FixedShade" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.HeatTransfer.Windows.FixedShade"></A><A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows"
>Buildings.HeatTransfer.Windows</A>.FixedShade</H2>
<B>Model for exterior shade due to overhang and/or side fin</B><p></P>
<IMG SRC="Buildings.HeatTransfer.Wieba82d94a86f3ff2ShadeD.png" ALT="Buildings.HeatTransfer.Windows.FixedShade">
<P></P><H3>Information</H3>

<p>
This model outputs the fraction of the window area that is sun exposed
for a window that may have an overhang and sidefins.
Depending on the record with construction data <code>conPar</code>, 
an overhang, side fins or no external shade is modeled.
The model allows having an overhang and side fins at the same time. 
In such a case, the overhang width should be 
measured from the window edge to the sidefin,
because the overhang width beyond the sidefin will 
cast a shadow on the side fin and not on the window.
Similarly, the side fin height should be measured 
from the upper window edge to the overhang,
because the side fin height above the 
overhang will not cast a shadow on the window.
The parameters for the dimensions of the overhang and side fins are as 
described in the models
<A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.Overhang"
>
Buildings.HeatTransfer.Windows.Overhang</a>
and
<A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.SideFins"
>
Buildings.HeatTransfer.Windows.SideFins</a>.
</p>

<h4>Limitations</h4>
<p>
For overhangs, the model assumes that
</p>
<ul>
<li> 
the overhang is at least as wide as the window, i.e., 
<i>w<sub>L</sub> &ge; 0</i> and
<i>w<sub>R</sub> &ge; 0</i>, and
</li>
<li>
the overhang is horizontal.
</li>
</ul>

<p>
For side fins, the model assumes that
</p>
<ul>
<li>
the side fins are placed symmetrically to the left and right of the window,
</li>
<li> 
the top of the side fins must be at an equal or greater height than the window, and
</li>
<li>
the side fins extends at least to the lower edge of the window.
</li>
</ul> 

<h4>Implementation</h4>
<p>
The detailed calculation method is explained in 
<A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.SideFins"
>
Buildings.HeatTransfer.Windows.BaseClasses.SideFins</a>
and in
<A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.Overhang"
>
Buildings.HeatTransfer.Windows.BaseClasses.Overhang</a>.
</p>
<P></P>
Extends from <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus"
>HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus</A> (Base class for models of window shade and overhangs).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>ParameterConstructionWithWindow</A></TD><TD>conPar</TD><TD>&nbsp;</TD><TD>Construction parameters</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>lat</TD><TD>&nbsp;</TD><TD>Latitude [rad]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>azi</TD><TD>&nbsp;</TD><TD>Surface azimuth; azi= -90 degree East; azi= 0 South [rad]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</A></TD><TD>weaBus</TD><TD>Weather data bus</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>incAng</TD><TD>Solar incidence angle [rad]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>HDirTilUns</TD><TD>Direct solar irradiation on tilted, unshaded surface [W/m2]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>HDirTil</TD><TD>Direct solar irradiation on tilted, shaded surface [W/m2]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>fraSun</TD><TD>Fraction of the area that is unshaded [1]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FixedShade <font color="darkgreen">
  &quot;Model for exterior shade due to overhang and/or side fin&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus"
>HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus</A>;
  <font color="blue">parameter </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow</A> conPar <font color="darkgreen">
    &quot;Construction parameters&quot;</font>;

  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</A> lat <font color="darkgreen">&quot;Latitude&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</A> azi(displayUnit=&quot;deg&quot;) <font color="darkgreen">
    &quot;Surface azimuth; azi= -90 degree East; azi= 0 South&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Multiplex4"
>Modelica.Blocks.Routing.Multiplex4</A> mulFraSun(
    n1=1,
    n2=1,
    n3=1,
    n4=1) <font color="darkgreen">&quot;Multiplex for fraction of shaded area&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</A> sumFraSun <font color="darkgreen">
    &quot;Addition of sun exposed window area fractions&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</A> resFraSun(k2=1.0, k1=-1.0) <font color="darkgreen">
    &quot;Calculates resultant sun exposed window area fraction&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> overlap(k=1.0) <font color="darkgreen">
    &quot;Overlap of sun exposed window area fraction&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> noSunCond(k=small) <font color="darkgreen">
    &quot;Condition when the sun is not in front of window&quot;</font>;</textblock>

<font color="blue">protected </font>
  <font color="blue">constant </font>Real small = 0.001 <font color="darkgreen">
    &quot;Small number, used to avoid that sun-exposed fraction of window is negative&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font>Boolean haveOverhang = conPar.ove.haveOverhang <font color="darkgreen">
    &quot;Flag for overhang&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font>Boolean haveSideFins = conPar.sidFin.haveSideFins <font color="darkgreen">
    &quot;Flag for sideFins&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Boolean haveOverhangAndSideFins= (haveOverhang<font color="blue">
       and </font>haveSideFins) <font color="darkgreen">&quot;Parameter used for error control&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font>Integer idx = <font color="blue">if </font>haveOverhangAndSideFins<font color="blue"> then </font>2<font color="blue"> elseif </font>haveOverhang<font color="blue"> then </font>1<font color="blue"> elseif </font>haveSideFins<font color="blue"> then </font>3<font color="blue"> else </font>4 <font color="darkgreen">
    &quot;Integer used to pick the appropriate output signal&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.Overhang"
>HeatTransfer.Windows.BaseClasses.Overhang</A> ove(
    <font color="blue">final </font>lat=lat,
    <font color="blue">final </font>azi=conPar.azi,
    <font color="blue">final </font>hWin=conPar.hWin,
    <font color="blue">final </font>wWin=conPar.wWin,
    <font color="blue">final </font>dep=conPar.ove.dep,
    <font color="blue">final </font>gap=conPar.ove.gap,
    <font color="blue">final </font>wR=conPar.ove.wR,
    <font color="blue">final </font>wL=conPar.ove.wL) <font color="darkgreen">&quot;Model for overhang&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.SideFins"
>HeatTransfer.Windows.BaseClasses.SideFins</A> sidFin(
    <font color="blue">final </font>hWin=conPar.hWin,
    <font color="blue">final </font>wWin=conPar.wWin,
    <font color="blue">final </font>h=conPar.sidFin.h,
    <font color="blue">final </font>dep=conPar.sidFin.dep,
    <font color="blue">final </font>gap=conPar.sidFin.gap) <font color="darkgreen">&quot;Model for side fins&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_BoundaryConditions_SolarGeometry_BaseClasses.html#Buildings.BoundaryConditions.SolarGeometry.BaseClasses.WallSolarAzimuth"
>BoundaryConditions.SolarGeometry.BaseClasses.WallSolarAzimuth</A> walSolAzi <font color="darkgreen">
    &quot;Angle measured in horizontal plane between projection of sun&#39;s rays and normal to vertical surface&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Product"
>Modelica.Blocks.Math.Product</A> mulHDir <font color="darkgreen">
    &quot;Multiplication to obtain direct solar irradiation on shaded window&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="../../msl/3.2/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Extractor"
>Modelica.Blocks.Routing.Extractor</A> extFraSun(<font color="blue">final </font>allowOutOfRange=false, <font color="blue">final </font>
      nin=4,
    index(start=idx, fixed=true)) <font color="darkgreen">
    &quot;Extractor to pick the appropriate output signal&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.IntegerConstant"
>Modelica.Blocks.Sources.IntegerConstant</A> idxSou(<font color="blue">final </font>k=idx) <font color="darkgreen">
    &quot;Source term to pick output signal&quot;</font>;
  <A HREF="../../msl/3.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> const(k=1);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_Utilities_Math.html#Buildings.Utilities.Math.SmoothMax"
>Utilities.Math.SmoothMax</A> smoMax(deltaX=small/2) <font color="darkgreen">
    &quot;Limiter to avoid that the fraction of sun-exposed window is below zero&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(weaBus.sol.alt, walSolAzi.alt);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(incAng, walSolAzi.incAng);
  <font color="red">connect</font>(walSolAzi.verAzi, ove.verAzi);
  <font color="red">connect</font>(walSolAzi.verAzi, sidFin.verAzi);
  <font color="red">connect</font>(weaBus.sol.alt, sidFin.alt);
  <font color="red">connect</font>(mulHDir.y, HDirTil);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(mulHDir.u1, HDirTilUns);
  <font color="red">connect</font>(weaBus, ove.weaBus);
  <font color="red">connect</font>(extFraSun.y, fraSun);
  <font color="red">connect</font>(extFraSun.y, mulHDir.u2);
  <font color="red">connect</font>(mulFraSun.y, extFraSun.u);
  <font color="red">connect</font>(ove.fraSun, mulFraSun.u1[1]);
  <font color="red">connect</font>(sidFin.fraSun, mulFraSun.u3[1]);
  <font color="red">connect</font>(const.y, mulFraSun.u4[1]);
  <font color="red">connect</font>(weaBus.sol.alt, ove.alt);
  <font color="red">connect</font>(ove.fraSun, sumFraSun.u1);
  <font color="red">connect</font>(sumFraSun.y, resFraSun.u2);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(overlap.y, resFraSun.u1);
  <font color="red">connect</font>(sidFin.fraSun, sumFraSun.u2);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(idxSou.y, extFraSun.index);
  <font color="red">connect</font>(resFraSun.y, smoMax.u1);
  <font color="red">connect</font>(noSunCond.y, smoMax.u2);
  <font color="red">connect</font>(smoMax.y, mulFraSun.u2[1]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FixedShade;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Overhang<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.HeatTransfer.Wieba82d94a86f3ff2ShadeI.png" ALT="Buildings.HeatTransfer.Windows.Overhang" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.HeatTransfer.Windows.Overhang"></A><A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows"
>Buildings.HeatTransfer.Windows</A>.Overhang</H2>
<B>For a window with an overhang, outputs the fraction of the window area exposed to the sun</B><p></P>
<IMG SRC="Buildings.HeatTransfer.Windows.OverhangD.png" ALT="Buildings.HeatTransfer.Windows.Overhang">
<P></P><H3>Information</H3>

<p>
For a window with an overhang, this model outputs the fraction of 
the area that is exposed to the sun.
The models can also be used for doors with an overhang. 
</p>
<p>
The overhang can be asymmetrical (i.e. wR &ne; wL is allowed) 
about the vertical centerline of the window. However, the
overhang must completely cover the window,
i.e., <code>wL &ge; 0</code> and <code>wR &ge; 0</code>. 
<code>wL</code> and <code>wR</code> must be measured from the respective corner
of the window.
</p>
<p>
The figure below shows the parameters.
</p>
<p align="center">
<img alt="image" src="../Resources/Images/HeatTransfer/Windows/Overhang.png" />
</p>

<p>
The surface azimuth <code>azi</code> is as defined in 
<A HREF="Buildings_HeatTransfer_Types_Azimuth.html#Buildings.HeatTransfer.Types.Azimuth"
>
Buildings.HeatTransfer.Types.Azimuth</a>.
</p>

<h4>Limitations</h4>
<p>
The model assumes that</p>
<ul>
<li> 
the overhang is at least as wide as the window, i.e., 
<i>w<sub>L</sub> &ge; 0</i> and
<i>w<sub>R</sub> &ge; 0</i>, and
</li>
<li>
the overhang is horizontal.
</li>
</ul>

<h4>Implementation</h4>
<p>
The implementation is explained in 
<A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.Overhang"
>
Buildings.HeatTransfer.Windows.BaseClasses.Overhang</a>.
</p>
<P></P>
Extends from <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.Overhang"
>Buildings.Rooms.BaseClasses.Overhang</A> (Record for window overhang), <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus"
>Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus</A> (Partial model to implement overhang and side fins with weather bus connector).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>lat</TD><TD>&nbsp;</TD><TD>Latitude [rad]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>azi</TD><TD>&nbsp;</TD><TD>Surface azimuth; azi= -90 degree East; azi= 0 South [rad]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Overhang</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>wL</TD><TD>&nbsp;</TD><TD>Overhang width left to the window, measured from the window corner [m]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>wR</TD><TD>&nbsp;</TD><TD>Overhang width right to the window, measured from the window corner [m]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dep</TD><TD>&nbsp;</TD><TD>Overhang depth (measured perpendicular to the wall plane) [m]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>gap</TD><TD>&nbsp;</TD><TD>Distance between window upper edge and overhang lower edge [m]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Window</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>hWin</TD><TD>&nbsp;</TD><TD>Window height [m]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>wWin</TD><TD>&nbsp;</TD><TD>Window width [m]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</A></TD><TD>weaBus</TD><TD>Weather data bus</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>incAng</TD><TD>Solar incidence angle [rad]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>HDirTilUns</TD><TD>Direct solar irradiation on tilted, unshaded surface [W/m2]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>HDirTil</TD><TD>Direct solar irradiation on tilted, shaded surface [W/m2]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>fraSun</TD><TD>Fraction of the area that is unshaded [1]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Overhang <font color="darkgreen">
  &quot;For a window with an overhang, outputs the fraction of the window area exposed to the sun&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.Overhang"
>Buildings.Rooms.BaseClasses.Overhang</A>;
  <font color="blue">extends </font><A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus"
>Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus</A>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</A> lat(displayUnit=&quot;deg&quot;) <font color="darkgreen">&quot;Latitude&quot;</font>;
  <font color="blue">parameter </font><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</A> azi(displayUnit=&quot;deg&quot;) <font color="darkgreen">
    &quot;Surface azimuth; azi= -90 degree East; azi= 0 South&quot;</font>;
  <font color="darkgreen">// Overhang dimensions</font>
<textblock type="annotcomp" expanded="false"><font color="blue">protected </font>
  <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.Overhang"
>Buildings.HeatTransfer.Windows.BaseClasses.Overhang</A> ove(
    <font color="blue">final </font>lat=lat,
    <font color="blue">final </font>azi=azi,
    <font color="blue">final </font>wR=wR,
    <font color="blue">final </font>wL=wL,
    <font color="blue">final </font>dep=dep,
    <font color="blue">final </font>gap=gap,
    <font color="blue">final </font>hWin=hWin,
    <font color="blue">final </font>wWin=wWin) <font color="darkgreen">&quot;Window overhang&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(ove.fraSun, fraSun);
  <font color="red">connect</font>(walSolAzi.verAzi, ove.verAzi);
  <font color="red">connect</font>(ove.fraSun, product.u2);
  <font color="red">connect</font>(weaBus, ove.weaBus);
  <font color="red">connect</font>(weaBus.sol.alt, ove.alt);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Overhang;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SideFins<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Buildings.HeatTransfer.Windows.SideFinsI.png" ALT="Buildings.HeatTransfer.Windows.SideFins" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Buildings.HeatTransfer.Windows.SideFins"></A><A HREF="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows"
>Buildings.HeatTransfer.Windows</A>.SideFins</H2>
<B>For a window with side fins, outputs the fraction of the window area exposed to the sun</B><p></P>
<IMG SRC="Buildings.HeatTransfer.Windows.SideFinsD.png" ALT="Buildings.HeatTransfer.Windows.SideFins">
<P></P><H3>Information</H3>

<p>
For a window with side fins, this model outputs the fraction of 
the area that is exposed to the sun.
The model calculates the fraction of the window area that is exposed to the sun.
The side fins are symmetrically placed above the vertical window centerline, 
and its height must be equal or greater than the window height.
This models can also be used for doors with side fins.
The figure below shows the parameters. The parameter <code>h</code> is measured
from the top of the window to the top of the side fins.
Side fins are assumed to extend at least to the lower edge of the window.
(Any portion of the side fin below the window edge does not cast
as shadow on the window anyway.)
</p>
<p align="center">
<img alt="image" src="../Resources/Images/HeatTransfer/Windows/SideFins.png" />
</p>
<p>
The parameter <code>h</code> is measured
from the top of the window to the top of the side fins.
The side fin must extend at least to the bottom of the window.
</p>
<p align="center">
<img alt="image" src="../Resources/Images/HeatTransfer/Windows/WindowSideFinsExtendedSideFin.png" />
</p>
<h4>Limitations</h4>
The model assumes that 
<ul>
<li>
the side fins are placed symmetrically to the left and right of the window,
</li>
<li> 
the top of the side fins must be at an equal or greater height than the window, and
</li>
<li>
the bottom of the side fins must be at an equal or lower height than the 
bottom of the window.
</li>
</ul> 

<h4>Implementation</h4>
<p>
The detailed calculation method is explained in 
<A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.SideFins"
>
Buildings.HeatTransfer.Windows.BaseClasses.SideFins</a>.
</p>
<P></P>
Extends from <A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.SideFins"
>Buildings.Rooms.BaseClasses.SideFins</A> (Record for window side fins), <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus"
>Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus</A> (Partial model to implement overhang and side fins with weather bus connector).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Side fin</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>h</TD><TD>&nbsp;</TD><TD>Height of side fin that extends above window, measured from top of window [m]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dep</TD><TD>&nbsp;</TD><TD>Side fin depth (measured perpendicular to the wall plane) [m]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>gap</TD><TD>&nbsp;</TD><TD>Distance between side fin and window edge [m]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Window</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>hWin</TD><TD>&nbsp;</TD><TD>Window height [m]</TD></TR>
<TR><TD><A HREF="../../msl/3.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>wWin</TD><TD>&nbsp;</TD><TD>Window width [m]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</A></TD><TD>weaBus</TD><TD>Weather data bus</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>incAng</TD><TD>Solar incidence angle [rad]</TD></TR>
<TR><TD>input <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>HDirTilUns</TD><TD>Direct solar irradiation on tilted, unshaded surface [W/m2]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>HDirTil</TD><TD>Direct solar irradiation on tilted, shaded surface [W/m2]</TD></TR>
<TR><TD>output <A HREF="../../msl/3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>fraSun</TD><TD>Fraction of the area that is unshaded [1]</TD></TR>
</TABLE>
<P></P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> SideFins <font color="darkgreen">
  &quot;For a window with side fins, outputs the fraction of the window area exposed to the sun&quot;</font>
  <font color="blue">extends </font><A HREF="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.SideFins"
>Buildings.Rooms.BaseClasses.SideFins</A>;
  <font color="blue">extends </font><A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus"
>Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.SideFins"
>Buildings.HeatTransfer.Windows.BaseClasses.SideFins</A> fin(
    <font color="blue">final </font>dep=dep,
    <font color="blue">final </font>h=h,
    <font color="blue">final </font>gap=gap,
    <font color="blue">final </font>hWin=hWin,
    <font color="blue">final </font>wWin=wWin) <font color="darkgreen">&quot;Window side fins&quot;</font>;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(fin.fraSun, fraSun);
  <font color="red">connect</font>(walSolAzi.verAzi, fin.verAzi);
  <font color="red">connect</font>(weaBus.sol.alt, fin.alt);
  <font color="red">connect</font>(fin.fraSun, product.u2);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>SideFins;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Thu Oct 24 15:10:25 2013.
</address></BODY>
</HTML>
